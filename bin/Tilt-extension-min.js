'use strict';var g=void 0,l=null;function ba(){return function(){}}function ca(a){return function(b){this[a]=b}}function N(a){return function(){return this[a]}}var Q,TiltChrome=TiltChrome||{};
TiltChrome.BrowserOverlay={href:l,canvas:l,o:l,D:l,L:l,initialize:function(){this.e(!0);if(this.href===window.content.location.href)this.href=l;else{this.href=window.content.location.href;this.D={B:document.getElementById("tilt-sourceeditor"),title:document.getElementById("tilt-sourceeditor-title"),Ma:document.getElementById("tilt-sourceeditor-iframe")};this.L={B:document.getElementById("tilt-colorpicker"),Ma:document.getElementById("tilt-colorpicker-iframe")};this.D.refresh=this.D.Ma.contentWindow.refreshCodeEditor;
this.L.refresh=this.L.Ma.contentWindow.refreshColorPicker;var a=window.content.innerWidth,b=window.content.innerHeight;U.K.kb=document.getElementById("tilt-iframe").contentDocument;U.K.Ha=gBrowser.selectedBrowser.parentNode;this.canvas=U.K.qb(a,b,!0);this.o=new TiltChrome.Mb(this.canvas,new TiltChrome.rd.xe,new TiltChrome.b.we)}},e:function(a,b){U.K.kb=l;U.K.Ha=l;if(this.canvas!==l)this.canvas.parentNode.removeChild(this.canvas),this.canvas=l;var c=function(){if(this.o!==l)this.o.e(),this.o=l;if(this.D!==
l)this.D.B.hidePopup(),this.D.B=l,this.D.title=l,this.D=this.D.Ma=l;if(this.L!==l)this.L.B.hidePopup(),this.L.B=l,this.L=this.L.Ma=l;U.r.log();U.r.reset();a&&window.setTimeout(this.Vb,100)}.bind(this);b?window.setTimeout(c,100):c()},Vb:function(){window.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci.nsIDOMWindowUtils).garbageCollect()}};var U=U||{};
U.pd=function(a,b,c){U.r.v("Tilt.Arcball",this);this.$a=[0,0];this.Gb=[0,0];this.Fb=[0,0];this.dd=[0,0];this.Ba=-1;this.Ca=0;this.Ef=-3E3;this.Df=500;this.Ff=1;this.fc=[];this.kd=Y();this.pe=Y();this.qe=Y();this.gc=ka([0,0,0,1]);this.Zc=ka([0,0,0,1]);this.bc=ka([0,0,0,1]);this.cd=Y();this.$c=Y();this.Yc=Y();this.zb=[0,0];this.Ab=[0,0];this.me=ka([0,0,0,1]);this.ne=Y();this.qa(a,b,c)};
U.pd.prototype={loop:function(a){var a="undefined"===typeof a?0.25:U.i.G(a*0.01,0.01,0.99),b,c,d=this.fd,f=this.q,h=this.k,i=this.$a,j=this.Gb,k=this.Fb;c=this.dd;var m=this.Ba,t=this.Ca,v=this.fc,x=this.kd,A=this.pe,w=this.qe,B=this.gc,p=this.Zc,o=this.bc,u=this.cd,r=this.$c,s=this.Yc,y=this.zb,C=this.Ab,n=this.me,D=this.ne;c[0]+=(k[0]-c[0])*a;c[1]+=(k[1]-c[1])*a;b=c[0];c=c[1];if(m===3||b===j[0]&&c===j[1])this.gd=!1;m===1||this.gd?(this.gd=!0,this.$d(b,c,f,h,d,A),la(x,A,w),Z(w)>0?(p[0]=w[0],p[1]=
w[1],p[2]=w[2],p[3]=-na(x,A)):(p[0]=0,p[1]=0,p[2]=0,p[3]=1),oa(B,p,o)):pa(o,B);m===3?(r[0]=k[0]-i[0],r[1]=k[1]-i[1],s[0]=u[0]+r[0],s[1]=u[1]+r[1]):(u[0]=s[0],u[1]=s[1]);r[2]=(t-s[2])*0.1;s[2]+=r[2];v[65]&&(y[0]-=a*0.2);v[68]&&(y[0]+=a*0.2);v[87]&&(y[1]+=a*0.2);v[83]&&(y[1]-=a*0.2);v[37]&&(C[0]+=a*50);v[39]&&(C[0]-=a*50);v[38]&&(C[1]+=a*50);v[40]&&(C[1]-=a*50);n[0]+=(y[0]-n[0])*a;n[1]+=(y[1]-n[1])*a;D[0]+=(C[0]-D[0])*a;D[1]+=(C[1]-D[1])*a;U.i.tf(n[0],n[1],0,p);r[0]=D[0];r[1]=D[1];r[2]=0;return{rotation:oa(p,
o),Z:qa(r,s)}},Gc:function(a,b,c){this.Wa();this.$a[0]=a;this.$a[1]=b;this.Ba=c;this.jc();this.$d(a,b,this.q,this.k,this.fd,this.kd);pa(this.bc,this.gc)},Kc:function(a,b){this.Gb[0]=a;this.Gb[1]=b;this.Ba=-1},Hc:function(a,b){this.Ba!==-1&&(this.Fb[0]=a,this.Fb[1]=b)},Ic:function(){this.Ba=-1},Jc:function(a){var b=this.Ff,c=this.Ef,d=this.Df;this.Wa();this.Ca=U.i.G(this.Ca-a*b,c,d)},Cc:function(a){this.Wa();this.fc[a]=!0},Dc:function(a){this.fc[a]=!1},$d:function(a,b,c,d,f,h){a=(a-c*0.5)/f;b=(b-d*
0.5)/f;c=0;c=a*a+b*b;c>1?(c=1/Math.sqrt(c),h[0]=a*c,h[1]=b*c,h[2]=0):(h[0]=a,h[1]=b,h[2]=Math.sqrt(1-c))},qa:function(a,b,c){this.q=a;this.k=b;this.fd="undefined"!==typeof c?c:b;this.jc()},translate:function(a,b){this.Ab[0]+=a;this.Ab[1]+=b},rotate:function(a,b){this.zb[0]+=a;this.zb[1]+=b},zoom:function(a){this.Ca+=a},stop:function(){this.Wa();this.jc();this.Ba=-1},reset:function(a){var b=this.Ca,c=this.gc,d=this.Zc,f=this.bc,h=this.cd,i=this.$c,j=this.Yc,k=this.zb,m=this.Ab;this.ve(function(){c[0]*=
-1;c[1]*=-1;c[2]*=-1;sa(c,c,1-a);sa(d,c,1-a);sa(f,c,1-a);ua(h,a);ua(i,a);ua(j,a);k[0]*=a;k[1]*=a;m[0]*=a;m[1]*=a;this.Ca*=a;Z(c)<1.0E-4&&Z(d)<1.0E-4&&Z(f)<1.0E-4&&Z(h)<0.01&&Z(i)<0.01&&Z(j)<0.01&&Z([k[0],k[1],b])<0.01&&Z([m[0],m[1],b])<0.01&&this.Wa()}.bind(this),1E3/60)},ve:function(a,b){if("undefined"===typeof this.Cb)this.Cb=window.setInterval(a,b)},Wa:function(){"undefined"!==typeof this.Cb&&(window.clearInterval(this.Cb),delete this.Cb)},jc:function(){var a=this.Fb,b=this.Gb,c=this.dd,d=this.$a[0],
f=this.$a[1];a[0]=d;a[1]=f;b[0]=d;b[1]=f;c[0]=d;c[1]=f},e:function(){this.stop();U.H(this)}};U=U||{};U.W=function(a,b,c){U.r.v("Tilt.VertexBuffer",this);this.S=this.n=l;this.da=this.Tb=0;"undefined"!==typeof a&&this.Ac(a,b,c)};
U.W.prototype={Ac:function(a,b,c){var d=U.C;"undefined"===typeof c&&(c=a.length/b);this.S=new Float32Array(a);this.n=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.n);d.bufferData(d.ARRAY_BUFFER,this.S,d.STATIC_DRAW);this.Tb=b;this.da=c},e:function(){U.C.deleteBuffer(this.n);U.H(this)}};U.fb=function(a,b){U.r.v("Tilt.IndexBuffer",this);this.S=this.n=l;this.da=this.Tb=0;"undefined"!==typeof a&&this.Ac(a,b)};
U.fb.prototype={Ac:function(a,b){var c=U.C;if("undefined"===typeof b)b=a.length;this.S=new Uint16Array(a);this.n=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.n);c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.S,c.STATIC_DRAW);this.Tb=1;this.da=b},e:function(){U.C.deleteBuffer(this.n);U.H(this)}};U=U||{};U.C=l;U.aa=l;U.ac=-1;U.dc=-1;U.Eb={};U.sc=function(){U.C=l;U.aa=l;U.ac=-1;U.dc=-1;U.Eb={};U.vd.Xa=0;U.pc.Xa=0};U=U||{};
U.H=function(a){for(var b in a)try{"function"===typeof a[b].e&&a[b].e()}catch(c){}finally{a[b]=l,delete a[b]}};U=U||{};
U.r={enabled:!1,wa:[],v:function(a,b,c,d,f,h){var i,j,k;if(this.enabled)if(c){if("undefined"===typeof d&&(d=this.Be.bind(this)),"undefined"===typeof f&&(f=this.ze.bind(this)),"undefined"===typeof h&&(h=this.Le.bind(this)),i=b[c],"function"===typeof i)j=this.wa.length,this.wa[j]={name:(a+"."||"")+c,jb:0,hb:0,ya:0,Ta:0},b[c]=function(){try{return d(j),h(b,i,arguments)}finally{f(j)}}}else for(k in b)"function"===typeof b[k]&&this.v(a,b,k,d,f,h)},Be:function(a){if("undefined"!==typeof this.wa[a])this.wa[a].currentTime=
(new Date).getTime()},ze:function(a){a=this.wa[a];if("undefined"!==typeof a){var b=(new Date).getTime()-a.currentTime;a.jb++;a.ya=Math.max(a.ya,b);a.hb=(a.ya+b)*0.5;a.Ta+=b}},Le:function(a,b,c){return c.length===0?b.call(a):b.apply(a,c)},log:function(){var a=this.wa.slice(0),b,c,d,f;a.sort(function(a,b){return a.Ta<b.Ta?1:-1});for(b=0;b<a.length;b++){d=a[b];for(c=b+1;c<a.length;c++)if(f=a[c],d.name===f.name)d.jb+=f.jb,d.ya=Math.max(d.ya,f.ya),d.hb=(d.hb+f.hb)*0.5,d.Ta+=f.Ta,a.splice(c,1),c--;d.jb!==
0&&U.ha.log("function "+d.name+"\ncalls    "+d.jb+"\naverage  "+d.hb+"ms\nlongest  "+d.ya+"ms\ntotal    "+d.Ta+"ms")}},reset:function(){this.wa=[]}};U=U||{};U.Lb=function(a,b){U.r.v("Tilt.Program",this);this.n=l;this.Za=-1;this.eb=this.ta=l;this.Bb={};this.md={};arguments.length===2&&this.$e(a,b)};
U.Lb.prototype={$e:function(a,b){this.n=U.vd.create(a,b);this.Za=this.n.id;this.ta=this.n.attributes;this.eb=this.n.Ua;delete this.n.id;delete this.n.attributes;delete this.n.Ua},Vc:function(){var a=this.Za,b;if(U.ac!==a&&(U.ac=a,a=U.C,a.useProgram(this.n),this.Ee(),U.dc<this.ta.length))for(b in U.dc=this.ta.length,this.ta)this.ta.hasOwnProperty(b)&&b!=="length"&&a.enableVertexAttribArray(this.ta[b])},Ga:function(a,b){var c=U.C,d=this.ta[a],f=b.Tb;c.bindBuffer(c.ARRAY_BUFFER,b.n);c.vertexAttribPointer(d,
f,c.FLOAT,!1,0,0)},Fa:function(a,b){var c=this.Bb,d=(b[0]+b[1]+b[2])*(b[4]+b[5]+b[6])*(b[8]+b[9]+b[10])*(b[12]+b[13]+b[14]);c[a]!==d&&(c[a]=d,U.C.uniformMatrix4fv(this.eb[a],!1,b))},rc:function(a,b){var c=this.Bb,d=b[3]*255<<24|b[0]*255<<16|b[1]*255<<8|b[2]*255;c[a]!==d&&(c[a]=d,U.C.uniform4fv(this.eb[a],b))},Ce:function(a,b){var c=this.Bb;c[a]!==b&&(c[a]=b,U.C.uniform1f(this.eb[a],b))},bindTexture:function(a,b){var c=this.md,d=b.Za;if(c[a]!==d)c[a]=d,c=U.C,c.bindTexture(c.TEXTURE_2D,b.n),c.uniform1i(this.eb[a],
0)},Ee:function(){this.md={}},sc:function(){this.Bb={}},e:function(){U.C.deleteShader(this.n);U.H(this)}};U=U||{};
U.vd={create:function(a,b){var c=this.compile(a,"x-shader/x-vertex"),d=this.compile(b,"x-shader/x-fragment");return this.link(c,d)},compile:function(a,b){var c=U.C,d;if("string"!==typeof a||a.length<1)return U.ha.error(U.ca.get("compileShader.source.error")),l;if(b==="x-shader/x-vertex")d=c.createShader(c.VERTEX_SHADER);else if(b==="x-shader/x-fragment")d=c.createShader(c.FRAGMENT_SHADER);else return U.ha.error(U.ca.uc("compileShader.type.error"),[a]),l;c.shaderSource(d,a);c.compileShader(d);d.src=
a;return!c.getShaderParameter(d,c.COMPILE_STATUS)?(c=c.getShaderInfoLog(d),U.ha.error(U.ca.uc("compileShader.compile.error"),[c]),l):d},link:function(a,b){var c=U.C,d;d=c.createProgram();c.attachShader(d,a);c.attachShader(d,b);c.linkProgram(d);if(!c.getProgramParameter(d,c.LINK_STATUS))return d=c.getProgramInfoLog(d),U.ha.error(U.ca.uc("linkProgram.error",[d])),l;d.id=this.Xa++;c=[a.src,b.src].join(" ").replace(/#.*|[(){};,]/g," ").split(" ");return this.Of(d,c)},Mf:function(a,b){return U.C.getAttribLocation(a,
b)},Pf:function(a,b){return U.C.getUniformLocation(a,b)},Nf:function(a,b){if("string"===typeof b){if(b.length<1)return l;var c;return(c=this.Mf(a,b))>=0?c:this.Pf(a,b)}return l},Of:function(a,b){var c,d,f,h;a.attributes={};a.attributes.length=0;a.Ua={};a.Ua.length=0;for(c=0,d=b.length;c<d;c++)f=b[c],h=this.Nf(a,f),"number"===typeof h&&"undefined"===typeof a.attributes[f]&&(a.attributes[f]=h,a.attributes.length++),"object"===typeof h&&h instanceof WebGLUniformLocation&&"undefined"===typeof a.Ua[f]&&
(a.Ua[f]=h,a.Ua.length++);return a},Xa:0};U=U||{};U.Ea=function(a,b){U.r.v("Tilt.Texture",this);b=b||{};this.n=l;this.height=this.width=this.Za=-1;this.loaded=!1;this.onload=b.onload;"object"===typeof a?this.Jd(a,b):"string"===typeof a?this.af(a,b):U.ha.error(U.ca.get("initTexture.source.error"))};
U.Ea.prototype={Jd:function(a,b){this.n=U.pc.create(a,b);this.Za=this.n.id;this.width=this.n.width;this.height=this.n.height;this.loaded=!0;if("function"===typeof this.onload)this.onload();delete this.n.id;delete this.n.width;delete this.n.height;delete this.onload},af:function(a,b){var c=new Image;c.src=a;c.onload=function(){this.Jd(c,b);b=c=l}.bind(this)},Xf:function(a,b,c){var d=U.C,f=d.getParameter(d.TEXTURE_BINDING_2D);d.bindTexture(d.TEXTURE_2D,this.n);d.texSubImage2D(d.TEXTURE_2D,0,b,c,d.RGBA,
d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,f)},e:function(){U.C.deleteTexture(this.n);U.H(this)}};U=U||{};
U.pc={create:function(a,b){b=b||{};if("undefined"!==typeof U.Eb[a.src])return U.Eb[a.src];var c=U.C,d=U.pc.zf(a,b),f=c.getParameter(c.TEXTURE_BINDING_2D),h=a.width,i=a.height,j=c.createTexture();c.bindTexture(c.TEXTURE_2D,j);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d);j.width=h;j.height=i;j.id=this.Xa++;this.Kf(b);c.bindTexture(c.TEXTURE_2D,f);"undefined"!==typeof a.src&&(U.Eb[a.src]=j);return j},Kf:function(a){var b=U.C,c=b.TEXTURE_MIN_FILTER,d=b.TEXTURE_MAG_FILTER,f=b.TEXTURE_WRAP_S,
h=b.TEXTURE_WRAP_T,a=a||{};a.ub&&b.bindTexture(b.TEXTURE_2D,a.ub.vg);"nearest"===a.Qd?b.texParameteri(b.TEXTURE_2D,c,b.NEAREST):"linear"===a.Qd&&a.Rd?b.texParameteri(b.TEXTURE_2D,c,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,c,b.LINEAR);"nearest"===a.Nd?b.texParameteri(b.TEXTURE_2D,d,b.NEAREST):"linear"===a.Nd&&a.Rd?b.texParameteri(b.TEXTURE_2D,d,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,d,b.LINEAR);"repeat"===a.Gg?b.texParameteri(b.TEXTURE_2D,f,b.REPEAT):b.texParameteri(b.TEXTURE_2D,
f,b.CLAMP_TO_EDGE);"repeat"===a.Hg?b.texParameteri(b.TEXTURE_2D,h,b.REPEAT):b.texParameteri(b.TEXTURE_2D,h,b.CLAMP_TO_EDGE);a.Rd&&b.generateMipmap(b.TEXTURE_2D)},zf:function(a,b){var b=b||{},c=(a.src||"").indexOf("chrome://"),d=U.i.Kd(a.width),f=U.i.Kd(a.height);if(b.nf||d&&f&&c===-1)try{return a}finally{b=a=l}c=U.K.qb(U.i.Td(a.width),U.i.Td(a.height));d=c.getContext("2d");if(b.fill)d.fillStyle=b.fill,d.fillRect(0,0,c.width,c.height);d.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);if(b.stroke)d.strokeStyle=
b.stroke,d.lineWidth=b.tb,d.strokeRect(0,0,c.width,c.height);return c},Dg:function(a){U.C.pixelStorei(U.C.UNPACK_FLIP_Y_WEBGL,a)},Xa:0};
function va(a){var b={indent_size:2,indent_char:" ",max_char:78,brace_style:"collapse"},c,d,f,b=b||{};c=b.pb||2;d=b.Hd||" ";f=b.Nb||"collapse";b=new function(){this.M=0;this.Eg="";this.Ia="CONTENT";this.A={parent:"parent1",sg:1,rg:""};this.Aa=this.Md=this.df=this.Zb=this.ga="";this.V={$b:"\n\r\t ".split(""),Rf:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),Me:"head,body,/html".split(","),Na:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;
return!1}};this.Re=function(){for(var a="",b=[],c=!1;this.input.charAt(this.M)!=="<";){if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;this.P++;if(this.V.Na(a,this.V.$b))b.length&&(c=!0),this.P--;else{if(c){if(this.P>=this.Od){b.push("\n");for(c=0;c<this.ja;c++)b.push(this.Rb);this.P=0}else b.push(" "),this.P++;c=!1}b.push(a)}}return b.length?b.join(""):""};this.Se=function(){var a="",b=[],a=/<\/script>/igm;a.lastIndex=this.M;for(var c=(a=
a.exec(this.input))?a.index:this.input.length;this.M<c;){if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;b.push(a)}return b.length?b.join(""):""};this.Rc=function(a){this.A[a+"count"]?this.A[a+"count"]++:this.A[a+"count"]=1;this.A[a+this.A[a+"count"]]=this.ja;this.A[a+this.A[a+"count"]+"parent"]=this.A.parent;this.A.parent=a+this.A[a+"count"]};this.Af=function(a){if(this.A[a+"count"]){for(var b=this.A.parent;b;){if(a+this.A[a+"count"]===b)break;
b=this.A[b+"parent"]}if(b)this.ja=this.A[a+this.A[a+"count"]],this.A.parent=this.A[b+"parent"];delete this.A[a+this.A[a+"count"]+"parent"];delete this.A[a+this.A[a+"count"]];this.A[a+"count"]==1?delete this.A[a+"count"]:this.A[a+"count"]--}};this.Te=function(){var a="",b=[],c=!1;do{if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;this.P++;if(this.V.Na(a,this.V.$b))c=!0,this.P--;else{if(a==="'"||a==='"')if(!b[1]||b[1]!=="!")a+=this.nb(a),c=
!0;a==="="&&(c=!1);if(b.length&&b[b.length-1]!=="="&&a!==">"&&c)this.P>=this.Od?(this.Ra(!1,b),this.P=0):(b.push(" "),this.P++),c=!1;b.push(a)}}while(a!==">");a=b.join("");c=a.substring(1,a.indexOf(" ")!=-1?a.indexOf(" "):a.indexOf(">")).toLowerCase();a.charAt(a.length-2)==="/"||this.V.Na(c,this.V.Rf)?this.ga="SINGLE":c==="script"?(this.Rc(c),this.ga="SCRIPT"):c==="style"?(this.Rc(c),this.ga="STYLE"):c==="a"?(a=this.nb("</a>",a),b.push(a),this.ga="SINGLE"):c.charAt(0)==="!"?c.indexOf("[if")!=-1?(a.indexOf("!IE")!=
-1&&(a=this.nb("--\>",a),b.push(a)),this.ga="START"):c.indexOf("[endif")!=-1?(this.ga="END",this.Wf()):(a=c.indexOf("[cdata[")!=-1?this.nb("]]\>",a):this.nb("--\>",a),b.push(a),this.ga="SINGLE"):(c.charAt(0)==="/"?(this.Af(c.substring(1)),this.ga="END"):(this.Rc(c),this.ga="START"),this.V.Na(c,this.V.Me)&&this.Ra(!0,this.za));return b.join("")};this.nb=function(a,b){if(b&&b.indexOf(a)!=-1)return"";var c="",d="",f=!0;do{if(this.M>=this.input.length)break;c=this.input.charAt(this.M);this.M++;if(this.V.Na(c,
this.V.$b)){if(!f){this.P--;continue}if(c==="\n"||c==="\r"){d+="\n";for(c=0;c<this.ja;c++)d+=this.Rb;f=!1;this.P=0;continue}}d+=c;this.P++;f=!0}while(d.indexOf(a)==-1);return d};this.Ue=function(){var a;if(this.Md==="TK_TAG_SCRIPT"){a=this.Se();if(typeof a!=="string")return a;a=wa(a,{indent_size:this.pb,indent_char:this.Id,indent_level:this.ja,brace_style:this.Nb});return[a.replace(/^[\t ]+/,""),"TK_CONTENT"]}if(this.Ia==="CONTENT")return a=this.Re(),typeof a!=="string"?a:[a,"TK_CONTENT"];if(this.Ia===
"TAG")return a=this.Te(),typeof a!=="string"?a:[a,"TK_TAG_"+this.ga]};this.qf=function(a,b,c,d){this.input=a||"";this.za=[];this.Id=b;this.Rb="";this.pb=c;this.Nb=d;this.ja=0;this.Od=80;for(a=this.P=0;a<this.pb;a++)this.Rb+=this.Id;this.Ra=function(a,b){this.P=0;if(b&&b.length){if(!a)for(;this.V.Na(b[b.length-1],this.V.$b);)b.pop();b.push("\n");for(var c=0;c<this.ja;c++)b.push(this.Rb)}};this.Wb=function(a){this.za.push(a)};this.Ye=function(){this.ja++};this.Wf=function(){this.ja>0&&this.ja--}};return this};
for(b.qf(a,d,c,f);;){a=b.Ue();b.Aa=a[0];b.Zb=a[1];if(b.Zb==="TK_EOF")break;switch(b.Zb){case "TK_TAG_START":case "TK_TAG_SCRIPT":case "TK_TAG_STYLE":b.Ra(!1,b.za);b.Wb(b.Aa);b.Ye();b.Ia="CONTENT";break;case "TK_TAG_END":b.Ra(!0,b.za);b.Wb(b.Aa);b.Ia="CONTENT";break;case "TK_TAG_SINGLE":b.Ra(!1,b.za);b.Wb(b.Aa);b.Ia="CONTENT";break;case "TK_CONTENT":b.Aa!==""&&(b.Ra(!1,b.za),b.Wb(b.Aa)),b.Ia="TAG"}b.Md=b.Zb;b.df=b.Aa}return b.za.join("")}
function wa(a,b){function c(a){for(a=typeof a==="undefined"?!1:a;o.length&&(o[o.length-1]===" "||o[o.length-1]===F||o[o.length-1]===aa||a&&(o[o.length-1]==="\n"||o[o.length-1]==="\r"));)o.pop()}function d(a){return a.replace(/^\s\s*|\s\s*$/,"")}function f(){var a=J;J=!1;h();J=a}function h(a){n.Pb=!1;if(!J||!t(n.mode))if(a=typeof a==="undefined"?!0:a,n.La=!1,c(),o.length){if(o[o.length-1]!=="\n"||!a)V=!0,o.push("\n");aa&&o.push(aa);for(a=0;a<n.ka;a+=1)o.push(F);n.$&&n.ra&&(ia===" "?o.push("    "):
o.push(F))}}function i(){if(n.Pb)n.Pb=!1;else{var a=" ";o.length&&(a=o[o.length-1]);a!==" "&&a!=="\n"&&a!==F&&o.push(" ")}}function j(){V=!1;n.Pb=!1;o.push(u)}function k(){o.length&&o[o.length-1]===F&&o.pop()}function m(a){n&&D.push(n);n={pf:n?n.mode:"BLOCK",mode:a,$:!1,sa:!1,ra:!1,zc:!1,La:!1,yc:!1,Pb:!1,Sb:-1,ka:n?n.ka+(n.$&&n.ra?1:0):0,Uc:0}}function t(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"}function v(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"||a==="(EXPRESSION)"}
function x(){R=n.mode==="DO_BLOCK";D.length>0&&(n=D.pop())}function A(a){for(var b=0;b<a.length;b++)if(d(a[b])[0]!="*")return!1;return!0}function w(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function B(){S=0;if(q>=H)return["","TK_EOF"];W=!1;var a=p.charAt(q);q+=1;if(J&&t(n.mode)){for(var b=0;w(a,I);){a==="\n"?(c(),o.push("\n"),V=!0,b=0):a==="\t"?b+=4:a!=="\r"&&(b+=1);if(q>=H)return["","TK_EOF"];a=p.charAt(q);q+=1}if(n.Sb===-1)n.Sb=b;if(V){var f;for(f=0;f<n.ka+1;f+=1)o.push(F);
if(n.Sb!==-1)for(f=0;f<b-n.Sb;f++)o.push(" ")}}else{for(;w(a,I);){a==="\n"&&(S+=X?S<=X?1:0:1);if(q>=H)return["","TK_EOF"];a=p.charAt(q);q+=1}if(fa&&S>1)for(f=0;f<S;f+=1)h(f===0),V=!0;W=S>0}if(w(a,K)){if(q<H)for(;w(p.charAt(q),K);)if(a+=p.charAt(q),q+=1,q===H)break;if(q!==H&&a.match(/^[0-9]+[Ee]$/)&&(p.charAt(q)==="-"||p.charAt(q)==="+"))return b=p.charAt(q),q+=1,f=B(),a+=b+f[0],[a,"TK_WORD"];if(a==="in")return[a,"TK_OPERATOR"];W&&r!=="TK_OPERATOR"&&r!=="TK_EQUALS"&&!n.La&&(fa||s!=="var")&&h();return[a,
"TK_WORD"]}if(a==="("||a==="[")return[a,"TK_START_EXPR"];if(a===")"||a==="]")return[a,"TK_END_EXPR"];if(a==="{")return[a,"TK_START_BLOCK"];if(a==="}")return[a,"TK_END_BLOCK"];if(a===";")return[a,"TK_SEMICOLON"];if(a==="/"){b="";f=!0;if(p.charAt(q)==="*"){q+=1;if(q<H)for(;!(p.charAt(q)==="*"&&p.charAt(q+1)&&p.charAt(q+1)==="/")&&q<H;){a=p.charAt(q);b+=a;if(a==="\r"||a==="\n")f=!1;q+=1;if(q>=H)break}q+=2;return f?["/*"+b+"*/","TK_INLINE_COMMENT"]:["/*"+b+"*/","TK_BLOCK_COMMENT"]}if(p.charAt(q)==="/"){for(b=
a;p.charAt(q)!=="\r"&&p.charAt(q)!=="\n";)if(b+=p.charAt(q),q+=1,q>=H)break;q+=1;W&&h();return[b,"TK_COMMENT"]}}if(a==="'"||a==='"'||a==="/"&&(r==="TK_WORD"&&w(s,["return","do"])||r==="TK_COMMENT"||r==="TK_START_EXPR"||r==="TK_START_BLOCK"||r==="TK_END_BLOCK"||r==="TK_OPERATOR"||r==="TK_EQUALS"||r==="TK_EOF"||r==="TK_SEMICOLON")){b=a;f=!1;var i=a;if(q<H)if(b==="/")for(a=!1;f||a||p.charAt(q)!==b;){if(i+=p.charAt(q),f?f=!1:(f=p.charAt(q)==="\\",p.charAt(q)==="["?a=!0:p.charAt(q)==="]"&&(a=!1)),q+=1,
q>=H)return[i,"TK_STRING"]}else for(;f||p.charAt(q)!==b;)if(i+=p.charAt(q),f=f?!1:p.charAt(q)==="\\",q+=1,q>=H)return[i,"TK_STRING"];q+=1;i+=b;if(b==="/")for(;q<H&&w(p.charAt(q),K);)i+=p.charAt(q),q+=1;return[i,"TK_STRING"]}if(a==="#"){if(o.length===0&&p.charAt(q)==="!"){for(i=a;q<H&&a!="\n";)a=p.charAt(q),i+=a,q+=1;o.push(d(i)+"\n");h();return B()}b="#";if(q<H&&w(p.charAt(q),L)){do a=p.charAt(q),b+=a,q+=1;while(q<H&&a!=="#"&&a!=="=");a!=="#"&&(p.charAt(q)==="["&&p.charAt(q+1)==="]"?(b+="[]",q+=2):
p.charAt(q)==="{"&&p.charAt(q+1)==="}"&&(b+="{}",q+=2));return[b,"TK_WORD"]}}if(a==="<"&&p.substring(q-1,q+3)==="<\!--")return q+=3,n.zc=!0,["<\!--","TK_COMMENT"];if(a==="-"&&n.zc&&p.substring(q-1,q+2)==="--\>")return n.zc=!1,q+=2,W&&h(),["--\>","TK_COMMENT"];if(w(a,M)){for(;q<H&&w(a+p.charAt(q),M);)if(a+=p.charAt(q),q+=1,q>=H)break;return a==="="?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}var p,o,u,r,s,y,C,n,D,F,I,K,M,q,G,L,z,E,R,W,V,S,aa="",b=b?b:{},P;if(b.Sf!==g&&b.Bc===g)b.Bc=b.Sf;
b.De!==g&&(P=b.De?"expand":"collapse");P=b.Nb?b.Nb:P?P:"collapse";C=b.pb?b.pb:2;var ia=b.Hd?b.Hd:" ",fa=typeof b.of==="undefined"?!0:b.of,X=typeof b.ef==="undefined"?!1:b.ef,ma=b.Bc==="undefined"?!1:b.Bc,J=typeof b.cf==="undefined"?!1:b.cf;V=!1;var H=a.length;for(F="";C>0;)F+=ia,C-=1;for(;a&&(a[0]===" "||a[0]==="\t");)aa+=a[0],a=a.substring(1);p=a;C="";r="TK_START_EXPR";y=s="";o=[];R=!1;I="\n\r\t ".split("");K="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");L="0123456789".split("");
M="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");G="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(",");D=[];m("BLOCK");for(q=0;;){E=B();u=E[0];E=E[1];if(E==="TK_EOF")break;switch(E){case "TK_START_EXPR":if(u==="["){if(r==="TK_WORD"||s===")"){w(s,G)&&i();m("(EXPRESSION)");j();break}if(n.mode==="[EXPRESSION]"||n.mode==="[INDENTED-EXPRESSION]")if(y==="]"&&s===","){if(n.mode==="[EXPRESSION]")n.mode=
"[INDENTED-EXPRESSION]",J||(n.ka+=1);m("[EXPRESSION]");J||h()}else if(s==="["){if(n.mode==="[EXPRESSION]")n.mode="[INDENTED-EXPRESSION]",J||(n.ka+=1);m("[EXPRESSION]");J||h()}else m("[EXPRESSION]");else m("[EXPRESSION]")}else m("(EXPRESSION)");s===";"||r==="TK_START_BLOCK"?h():r==="TK_END_EXPR"||r==="TK_START_EXPR"||r==="TK_END_BLOCK"||s==="."||(r!=="TK_WORD"&&r!=="TK_OPERATOR"?i():C==="function"||C==="typeof"?ma&&i():(w(s,G)||s==="catch")&&i());j();break;case "TK_END_EXPR":if(u==="]")if(J){if(s===
"}"){k();j();x();break}}else if(n.mode==="[INDENTED-EXPRESSION]"&&s==="]"){x();h();j();break}x();j();break;case "TK_START_BLOCK":C==="do"?m("DO_BLOCK"):m("BLOCK");P=="expand"?(r!=="TK_OPERATOR"&&(s==="return"||s==="="?i():h(!0)),j(),n.ka+=1):(r!=="TK_OPERATOR"&&r!=="TK_START_EXPR"?r==="TK_START_BLOCK"?h():i():t(n.pf)&&s===","&&(y==="}"?i():h()),n.ka+=1,j());break;case "TK_END_BLOCK":x();P=="expand"?s!=="{"&&h():r==="TK_START_BLOCK"?V?k():c():t(n.mode)&&J?(J=!1,h(),J=!0):h();j();break;case "TK_WORD":if(R){i();
j();i();R=!1;break}if(u==="function"){if(n.$)n.ra=!0;if((V||s===";")&&s!=="{"){S=V?S:0;fa||(S=1);for(z=0;z<2-S;z++)h(!1)}}if(u==="case"||u==="default"){s===":"?k():(n.ka--,h(),n.ka++);j();n.yc=!0;break}z="NONE";r==="TK_END_BLOCK"?w(u.toLowerCase(),["else","catch","finally"])?P=="expand"||P=="end-expand"?z="NEWLINE":(z="SPACE",i()):z="NEWLINE":r==="TK_SEMICOLON"&&(n.mode==="BLOCK"||n.mode==="DO_BLOCK")?z="NEWLINE":r==="TK_SEMICOLON"&&v(n.mode)?z="SPACE":r==="TK_STRING"?z="NEWLINE":r==="TK_WORD"?(s===
"else"&&c(!0),z="SPACE"):r==="TK_START_BLOCK"?z="NEWLINE":r==="TK_END_EXPR"&&(i(),z="NEWLINE");w(u,G)&&s!==")"&&(z=s=="else"?"SPACE":"NEWLINE");if(n.La&&r==="TK_END_EXPR")n.La=!1;if(w(u.toLowerCase(),["else","catch","finally"]))r!=="TK_END_BLOCK"||P=="expand"||P=="end-expand"?h():(c(!0),i());else if(z==="NEWLINE"){if(!((r==="TK_START_EXPR"||s==="="||s===",")&&u==="function"))if(u==="function"&&s=="new")i();else if(s==="return"||s==="throw")i();else if(r!=="TK_END_EXPR"){if((r!=="TK_START_EXPR"||u!==
"var")&&s!==":")u==="if"&&C==="else"&&s!=="{"?i():(n.$=!1,n.ra=!1,h())}else if(w(u,G)&&s!=")")n.$=!1,n.ra=!1,h()}else t(n.mode)&&s===","&&y==="}"?h():z==="SPACE"&&i();j();C=u;if(u==="var")n.$=!0,n.ra=!1,n.sa=!1;if(u==="if")n.La=!0;if(u==="else")n.La=!1;break;case "TK_SEMICOLON":j();n.$=!1;n.ra=!1;if(n.mode=="OBJECT")n.mode="BLOCK";break;case "TK_STRING":r==="TK_START_BLOCK"||r==="TK_END_BLOCK"||r==="TK_SEMICOLON"?h():r==="TK_WORD"&&i();j();break;case "TK_EQUALS":if(n.$)n.sa=!0;i();j();i();break;case "TK_OPERATOR":z=
y=!0;if(n.$&&u===","&&v(n.mode))n.sa=!1;if(n.$&&u===",")if(n.sa){j();n.ra=!0;n.sa=!1;h();break}else n.sa=!1;if(s==="return"||s==="throw"){i();j();break}if(u===":"&&n.yc){j();h();n.yc=!1;break}if(u==="::"){j();break}if(u===","){n.$?n.sa?(j(),h(),n.sa=!1):(j(),i()):r==="TK_END_BLOCK"&&n.mode!=="(EXPRESSION)"?(j(),n.mode==="OBJECT"&&s==="}"?h():i()):n.mode==="OBJECT"?(j(),h()):(j(),i());break}else w(u,["--","++","!"])||w(u,["-","+"])&&(w(r,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||
w(s,G))?(z=y=!1,s===";"&&v(n.mode)&&(y=!0),r==="TK_WORD"&&w(s,G)&&(y=!0),n.mode==="BLOCK"&&(s==="{"||s===";")&&h()):u==="."?y=!1:u===":"?n.Uc==0?(n.mode="OBJECT",y=!1):n.Uc-=1:u==="?"&&(n.Uc+=1);y&&i();j();z&&i();break;case "TK_BLOCK_COMMENT":y=u.split(/\x0a|\x0d\x0a/);if(A(y.slice(1))){h();o.push(y[0]);for(z=1;z<y.length;z++)h(),o.push(" "),o.push(d(y[z]))}else{y.length>1?(h(),c()):i();for(z=0;z<y.length;z++)o.push(y[z]),o.push("\n")}h();break;case "TK_INLINE_COMMENT":i();j();v(n.mode)?i():f();break;
case "TK_COMMENT":W?h():i();j();f();break;case "TK_UNKNOWN":(s==="return"||s==="throw")&&i(),j()}y=s;r=E;s=u}return aa+o.join("").replace(/[\n ]+$/,"")}if(typeof exports!=="undefined")exports.ig=wa;var xa;xa=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;function Y(a){var b=new xa(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}
function qa(a,b,c){if(!c||a==c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c}function ya(a,b,c){if(!c||a==c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c}function ua(a,b){a[0]*=b;a[1]*=b;a[2]*=b;return a}function la(a,b,c){c||(c=a);var d=a[0],f=a[1],a=a[2],h=b[0],i=b[1],b=b[2];c[0]=f*b-a*i;c[1]=a*h-d*b;c[2]=d*i-f*h}function Z(a){var b=a[0],c=a[1],a=a[2];return Math.sqrt(b*b+c*c+a*a)}
function na(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function $(a){var b=new xa(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}function za(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function Aa(a,b,c){c||(c=a);var d=a[0],f=a[1],h=a[2],i=a[3],j=a[4],k=a[5],m=a[6],t=a[7],v=a[8],x=a[9],A=a[10],w=a[11],B=a[12],p=a[13],o=a[14],a=a[15],u=b[0],r=b[1],s=b[2],y=b[3],C=b[4],n=b[5],D=b[6],F=b[7],I=b[8],K=b[9],M=b[10],q=b[11],G=b[12],L=b[13],z=b[14],b=b[15];c[0]=u*d+r*j+s*v+y*B;c[1]=u*f+r*k+s*x+y*p;c[2]=u*h+r*m+s*A+y*o;c[3]=u*i+r*t+s*w+y*a;c[4]=C*d+n*j+D*v+F*B;c[5]=C*f+n*k+D*x+F*p;c[6]=C*h+n*m+D*A+F*o;c[7]=C*i+n*t+D*w+F*a;c[8]=I*d+K*j+M*v+q*B;c[9]=I*f+K*k+M*x+q*p;c[10]=I*h+K*m+M*A+q*o;c[11]=
I*i+K*t+M*w+q*a;c[12]=G*d+L*j+z*v+b*B;c[13]=G*f+L*k+z*x+b*p;c[14]=G*h+L*m+z*A+b*o;c[15]=G*i+L*t+z*w+b*a}function Ba(a,b,c){c||(c=b);var d=b[0],f=b[1],h=b[2],b=b[3];c[0]=a[0]*d+a[4]*f+a[8]*h+a[12]*b;c[1]=a[1]*d+a[5]*f+a[9]*h+a[13]*b;c[2]=a[2]*d+a[6]*f+a[10]*h+a[14]*b;c[3]=a[3]*d+a[7]*f+a[11]*h+a[15]*b}function Ca(a,b){var c=b[0],d=b[1],f=b[2];a[12]=a[0]*c+a[4]*d+a[8]*f+a[12];a[13]=a[1]*c+a[5]*d+a[9]*f+a[13];a[14]=a[2]*c+a[6]*d+a[10]*f+a[14];a[15]=a[3]*c+a[7]*d+a[11]*f+a[15]}
function ka(a){var b=new xa(4);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]);return b}function pa(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]}function oa(a,b,c){c||(c=a);var d=a[0],f=a[1],h=a[2],a=a[3],i=b[0],j=b[1],k=b[2],b=b[3];c[0]=d*b+a*i+f*k-h*j;c[1]=f*b+a*j+h*i-d*k;c[2]=h*b+a*k+d*j-f*i;c[3]=a*b-d*i-f*j-h*k;return c}
function Ea(a){var b;b||(b=$());var c=a[0],d=a[1],f=a[2],h=a[3],i=c+c,j=d+d,k=f+f,a=c*i,m=c*j;c*=k;var t=d*j;d*=k;f*=k;i*=h;j*=h;h*=k;b[0]=1-(t+f);b[1]=m-h;b[2]=c+j;b[3]=0;b[4]=m+h;b[5]=1-(a+f);b[6]=d-i;b[7]=0;b[8]=c-j;b[9]=d+i;b[10]=1-(a+t);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}
function sa(a,b,c){var d;d||(d=a);var f=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];if(Math.abs(f)>=1)d!=a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]);else{var h=Math.acos(f),i=Math.sqrt(1-f*f);Math.abs(i)<0.0010?(d[0]=a[0]*0.5+b[0]*0.5,d[1]=a[1]*0.5+b[1]*0.5,d[2]=a[2]*0.5+b[2]*0.5,d[3]=a[3]*0.5+b[3]*0.5):(f=Math.sin((1-c)*h)/i,c=Math.sin(c*h)/i,d[0]=a[0]*f+b[0]*c,d[1]=a[1]*f+b[1]*c,d[2]=a[2]*f+b[2]*c,d[3]=a[3]*f+b[3]*c)}}var Fa;Fa||(Fa={});
(function(){function a(a){return a<10?"0"+a:a}function b(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var b=j[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var f,j,A,w,B=h,p,o=d[a];o&&typeof o==="object"&&typeof o.toJSON==="function"&&(o=o.toJSON(a));typeof k==="function"&&(o=k.call(d,a,o));switch(typeof o){case "string":return b(o);case "number":return isFinite(o)?String(o):"null";case "boolean":case "null":return String(o);
case "object":if(!o)return"null";h+=i;p=[];if(Object.prototype.toString.apply(o)==="[object Array]"){w=o.length;for(f=0;f<w;f+=1)p[f]=c(f,o)||"null";A=p.length===0?"[]":h?"[\n"+h+p.join(",\n"+h)+"\n"+B+"]":"["+p.join(",")+"]";h=B;return A}if(k&&typeof k==="object"){w=k.length;for(f=0;f<w;f+=1)typeof k[f]==="string"&&(j=k[f],(A=c(j,o))&&p.push(b(j)+(h?": ":":")+A))}else for(j in o)Object.prototype.hasOwnProperty.call(o,j)&&(A=c(j,o))&&p.push(b(j)+(h?": ":":")+A);A=p.length===0?"{}":h?"{\n"+h+p.join(",\n"+
h)+"\n"+B+"}":"{"+p.join(",")+"}";h=B;return A}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":l},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,i,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof Fa.stringify!=="function")Fa.stringify=function(a,b,d){var f;i=h="";if(typeof d==="number")for(f=0;f<d;f+=1)i+=" ";else typeof d==="string"&&(i=d);if((k=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return c("",
{"":a})};if(typeof Fa.parse!=="function")Fa.parse=function(a,b){function c(a,d){var f,h,i=a[d];if(i&&typeof i==="object")for(f in i)Object.prototype.hasOwnProperty.call(i,f)&&(h=c(i,f),h!==g?i[f]=h:delete i[f]);return b.call(a,d,i)}var f,a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),typeof b==="function"?c({"":f},""):f;throw new SyntaxError("JSON.parse");}})();U=U||{};
U.sd=function(a,b,c){U.r.v("Tilt.Cube",this);a=a||1;b=b||1;c=c||1;this.R=new U.W([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,0.5*c,-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*
b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,-0.5*c],3);this.Sa=new U.W([0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],2);this.la=new U.fb([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23])};U.sd.prototype={e:function(){U.H(this)}};U=U||{};
U.ud=function(a,b,c){U.r.v("Tilt.CubeWireframe",this);a=a||1;b=b||1;c=c||1;this.R=new U.W([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c],3);this.la=new U.fb([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,5,1,4,2,7,3,6])};U.ud.prototype={e:function(){U.H(this)}};U=U||{};U.wd=function(){U.r.v("Tilt.Rectangle",this);this.R=new U.W([0,0,1,0,0,1,1,1],2);this.Sa=new U.W([0,0,1,0,0,1,1,1],2)};
U.wd.prototype={e:function(){U.H(this)}};U=U||{};U.xd=function(){U.r.v("Tilt.RectangleWireframe",this);this.R=new U.W([0,0,1,0,1,1,0,1],2)};U.xd.prototype={e:function(){U.H(this)}};U=U||{};U.Kb=function(a){U.r.v("Tilt.Mesh",this);for(var b in a)this[b]!=="draw"&&(this[b]=a[b]);if("string"===typeof this.color)this.color=U.i.xa(this.color);else if("undefined"===typeof this.color)this.color=[1,1,1,1];if("undefined"===typeof this.Ob)this.Ob=U.aa.TRIANGLES;if("function"===typeof a.F)this.F=a.F};
U.Kb.prototype={F:function(){var a=U.aa,b=this.R,c=this.Sa,d=this.la,f=this.color,h=this.ub,i=this.Ob;h?a.he(b,c,f,h):a.xb(b,f);d?a.Ed(i,d):a.Ja(i,b.da)},e:function(){U.H(this)}};U=U||{};
U.Kb.prototype.save=function(a,b){var c=[],d=[],f=this.R.S,h=this.Sa.S,i=this.la.S,j,k;c.push("mtllib "+b+".mtl","usemtl webpage");d.push("newmtl webpage","illum 2","Ka 1.000 1.000 1.000","Kd 1.000 1.000 1.000","Ks 0.000 0.000 0.000","map_Ka "+b+".png","map_Kd "+b+".png","map_Ks "+b+".png");for(j=0,k=f.length;j<k;j+=3)c.push("v "+f[j]/100+" "+f[j+1]/-100+" "+f[j+2]/100);for(j=0,k=h.length;j<k;j+=2)c.push("vt "+h[j]+" "+(1-h[j+1]));for(j=0,k=i.length;j<k;j+=3)c.push("f "+(i[j]+1)+"/"+(i[j]+1)+" "+
(i[j+1]+1)+"/"+(i[j+1]+1)+" "+(i[j+2]+1)+"/"+(i[j+2]+1));f=U.va.separator;U.va.save(c.join("\n"),a+f+b+".obj");U.va.save(d.join("\n"),a+f+b+".mtl")};U=U||{};
U.oc=function(a,b){U.r.v("Tilt.Renderer",this);b=b||{};this.canvas=a;this.u=this.Cd(a,{antialias:!0,stencil:!0});U.sc();U.C=this.u;U.aa=this;if("undefined"!==typeof this.u&&this.u!==l){if(this.TRIANGLES=this.u.TRIANGLES,this.TRIANGLE_STRIP=this.u.TRIANGLE_STRIP,this.TRIANGLE_FAN=this.u.TRIANGLE_FAN,this.LINES=this.u.LINES,this.LINE_STRIP=this.u.LINE_STRIP,this.LINE_LOOP=this.u.LINE_LOOP,this.POINTS=this.u.POINTS,this.COLOR_BUFFER_BIT=this.u.COLOR_BUFFER_BIT,this.DEPTH_BUFFER_BIT=this.u.DEPTH_BUFFER_BIT,
this.STENCIL_BUFFER_BIT=this.u.STENCIL_BUFFER_BIT,this.u.clearColor(0,0,0,1),this.u.clearDepth(1),this.u.clearStencil(0),"function"===typeof b.onsuccess)b.onsuccess()}else if(U.ha.log(U.ca.get("initWebGL.error")),"function"===typeof b.Pa){b.Pa();return}this.width=a.width;this.height=a.height;this.Mc=[];this.J=za($());this.ea=za($());this.je=[0,0,0,0];this.od=[1,1,1,1];this.ec=[1,1,1,1];this.Ib=[0,0,0,1];this.ld=1;this.Fe=new U.Lb(U.ba.qd.yb,U.ba.qd.mb);this.Vf=new U.Lb(U.ba.Ea.yb,U.ba.Ea.mb);this.ic=
new U.wd;this.te=new U.xd;this.Yf=new U.sd;this.Zf=new U.ud;this.hc=0;this.cc=l;this.lb=this.Ne=this.Fd=this.elapsedTime=0;this.origin();this.Oc();this.Dd()};
U.oc.prototype={clear:function(a,b,c,d){var f=this.je,h=this.u;if(f[0]!==a||f[1]!==b||f[2]!==c||f[3]!==d)f[0]=a,f[1]=b,f[2]=c,f[3]=d,h.clearColor(a,b,c,d),a*=255,b*=255,c*=255,d*=255,this.canvas.setAttribute("style",["background: rgba(",a,", ",b,", ",c,", ",d,"); width: 100%; height: 100%;"].join(""));h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},background:function(a){a="string"===typeof a?U.i.xa(a):"undefined"===typeof a?[0,0,0,1]:"number"===typeof a?[a/255,a/255,a/255,1]:
[a[0]/255,a[1]/255,a[2]/255,a[3]/255];this.clear(a[0],a[1],a[2],a[3])},Oc:function(){var a=this.width,b=this.height,c=a/2,d=b/2,f=d/Math.tan(U.i.uf(45)/2),h=f/10,i=h*Math.tan(45*Math.PI/360),a=i*(a/b),b=-a,j=-i*-1;i*=-1;var k=f*10,m=this.ea;m||(m=$());var t=a-b,v=i-j,x=k-h;m[0]=h*2/t;m[1]=0;m[2]=0;m[3]=0;m[4]=0;m[5]=h*2/v;m[6]=0;m[7]=0;m[8]=(a+b)/t;m[9]=(i+j)/v;m[10]=-(k+h)/x;m[11]=-1;m[12]=0;m[13]=0;m[14]=-(k*h*2)/x;m[15]=0;Ca(this.ea,[-c,-d,-f]);za(this.J);this.pa(!0)},hf:function(){var a=this.width,
b=this.height,c=this.ea;c||(c=$());var d=a-0,f=0-b;c[0]=2/d;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/f;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=-1.0E-6;c[11]=0;c[12]=-(0+a)/d;c[13]=-(0+b)/f;c[14]=0;c[15]=1;Ca(this.ea,[0,0,-999999]);za(this.J);this.pa(!1)},Qc:function(){this.Mc.push($(this.J))},Pc:function(){if(this.Mc.length>0)this.J=this.Mc.pop()},origin:function(){za(this.J)},transform:function(a){Aa(this.J,a)},translate:function(a,b,c){Ca(this.J,[a,b,c||0])},rotate:function(a,b,c,d){var f=this.J,d=[b,c,d],
h,b=d[0],c=d[1],d=d[2],i=Math.sqrt(b*b+c*c+d*d);if(i){i!=1&&(i=1/i,b*=i,c*=i,d*=i);var j=Math.sin(a),k=Math.cos(a),m=1-k,a=f[0],i=f[1],t=f[2],v=f[3],x=f[4],A=f[5],w=f[6],B=f[7],p=f[8],o=f[9],u=f[10],r=f[11],s=b*b*m+k,y=c*b*m+d*j,C=d*b*m-c*j,n=b*c*m-d*j,D=c*c*m+k,F=d*c*m+b*j,I=b*d*m+c*j,b=c*d*m-b*j,c=d*d*m+k;h?f!=h&&(h[12]=f[12],h[13]=f[13],h[14]=f[14],h[15]=f[15]):h=f;h[0]=a*s+x*y+p*C;h[1]=i*s+A*y+o*C;h[2]=t*s+w*y+u*C;h[3]=v*s+B*y+r*C;h[4]=a*n+x*D+p*F;h[5]=i*n+A*D+o*F;h[6]=t*n+w*D+u*F;h[7]=v*n+B*
D+r*F;h[8]=a*I+x*b+p*c;h[9]=i*I+A*b+o*c;h[10]=t*I+w*b+u*c;h[11]=v*I+B*b+r*c}},scale:function(a,b,c){var d=this.J,c=[a,b,c||0],a=c[0],b=c[1],c=c[2];d[0]*=a;d[1]*=a;d[2]*=a;d[3]*=a;d[4]*=b;d[5]*=b;d[6]*=b;d[7]*=b;d[8]*=c;d[9]*=c;d[10]*=c;d[11]*=c},na:function(a){this.od=U.i.xa(a)},fill:function(a){this.ec=U.i.xa(a)},stroke:function(a){this.Ib=U.i.xa(a)},gf:function(){var a=this.Ib;a[0]=0;a[1]=0;a[2]=0;a[3]=0},tb:function(a){if(this.ld!==a)this.ld=a,this.u.lineWidth(a)},Ad:function(a){var b=this.u;"alpha"===
a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA)):"add"===a||"additive"===a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE)):b.disable(b.BLEND)},pa:function(a){var b=this.u;a?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)},Tf:function(a){var b=this.u;a?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST)},Dd:function(){this.na("#fff");this.fill("#fff");this.stroke("#000");this.tb(1);this.pa(!0);this.Tf(!1);this.Ad("alpha")},xb:function(a,b){var c=this.Fe;c.Vc();c.Ga("vertexPosition",
a);c.Fa("mvMatrix",this.J);c.Fa("projMatrix",this.ea);c.rc("color",b)},he:function(a,b,c,d){var f=this.Vf;f.Vc();f.Ga("vertexPosition",a);f.Ga("vertexTexCoord",b);f.Fa("mvMatrix",this.J);f.Fa("projMatrix",this.ea);f.rc("color",c);f.bindTexture("sampler",d)},sf:function(a,b,c,d){var f=this.ec,h=this.Ib,a=new U.W([a[0],a[1],a[2],b[0],b[1],b[2],c[0],c[1],c[2],d[0],d[1],d[2]],3);f[3]&&(this.xb(a,f),this.Ja(this.TRIANGLE_FAN,a.da));h[3]&&(this.xb(a,h),this.Ja(this.LINE_LOOP,a.da));a.e()},rect:function(a,
b,c,d){var f=this.ec,h=this.Ib,i=this.ic.R,j=this.te.R;"center"===this.ic.ug&&(a-=c/2,b-=d/2);this.Qc();this.translate(a,b,0);this.scale(c,d,1);f[3]&&(this.xb(i,f),this.Ja(this.TRIANGLE_STRIP,i.da));h[3]&&(this.xb(j,h),this.Ja(this.LINE_LOOP,j.da));this.Pc()},Gd:function(a,b,c,d,f,h){if(a.loaded){var i=this.ic,j=this.od,k=i.R,h=h||i.Sa;if("undefined"===typeof d||"undefined"===typeof f)d=a.width,f=a.height;"center"===i.gg&&(b-=d*0.5,c-=f*0.5);j[3]&&(this.Qc(),this.translate(b,c,0),this.scale(d,f,1),
this.he(k,h,j,a),this.Ja(this.TRIANGLE_STRIP,k.da),this.Pc())}},Ja:function(a,b){this.u.drawArrays(a,0,b)},Ed:function(a,b){var c=this.u;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.n);c.drawElements(a,b.da,c.UNSIGNED_SHORT,0)},Cd:function(a,b){var c=["experimental-webgl","webgl","webkit-3d","moz-webgl"],d,f,h;for(f=0,h=c.length;f<h;++f){try{d=a.getContext(c[f],b)}catch(i){}if(d)break}return d},loop:function(a){window.xf(a);this.Oc();this.cc=(new Date).getTime();if(this.hc!==0)this.lb=this.cc-this.hc,this.Ne=
1E3/this.lb;this.hc=this.cc;this.elapsedTime+=this.lb;this.Fd++},e:function(){U.sc();U.H(this)}};window.xf=window.wg||window.Fg||window.mg||window.og||window.ng||function(a){window.setTimeout(a,1E3/60)};U=U||{};U.ba={};U.ba.qd={yb:"attribute vec3 vertexPosition;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvoid main(void) {\n    gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n}",mb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nvoid main(void) {\n    gl_FragColor = color;\n}"};
U.ba.Ea={yb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n}",mb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvoid main(void) {\n  vec4 texture = texture2D(sampler, texCoord);\n  gl_FragColor = color * texture;\n}"};
U=U||{};U.oa=function(a){U.r.v("Tilt.Container",this);a=a||{};this.j=a.j||!1;this.disabled=a.disabled||!1;this.standby=a.standby||!1;this.ie=a.background||l;this.m=a.x||0;this.l=a.y||0;this.q=a.width||0;this.k=a.height||0;this.ua=a.pg||[0,0];a.elements instanceof Array&&a.elements.forEach(function(a){this.push(a)}.bind(this));U.b.push(this)};U.oa.prototype=[];Q=U.oa.prototype;Q.N=function(a,b){this.m=a;this.l=b};Q.Y=function(a,b){this.q=a;this.k=b};Q.fa=ca("m");Q.Tc=ca("q");Q.Sc=ca("k");Q.X=N("m");
Q.t=N("l");Q.Ka=N("q");Q.vc=N("k");Q.update=function(a,b){var c,d,f;for(d=0,f=this.length;d<f;d++)c=this[d],"function"===typeof c.update&&!c.j&&!c.disabled&&c.update(a,b)};
Q.F=function(a,b){var b=b||U.aa,c;c=this.ie;var d=this.m,f=this.l,h=this.q,i=this.k,j=this.ua,k=d+j[0],j=f+j[1],m,t,v,x,A,w,B,p,o,u;c!==l&&(b.fill(c),b.gf(),b.rect(d,f,h||b.width,i||b.height));b.Qc();b.translate(k,j,0);for(o=0,u=this.length;o<u;o++)if(c=this[o],c.tc=!1,c.re=d,c.se=f,c.bg=h,c.ag=i,!c.j)if(h===0||i===0)c.F(a,b),c.tc=!0;else if(m=c.s||[1,1,1,1],t=m[0]+k,v=m[1]+j,x=m[2],A=m[3],m=t,w=v,t+=x,v+=A,x=d,A=f,B=d+h,p=f+i,m>x&&t<B&&w>A&&v<p)c.F(a,b),c.tc=!0;b.Pc()};
Q.e=function(){U.b.splice(U.b.indexOf(this),1);U.H(this)};U=U||{};
U.yd=function(a){U.r.v("Tilt.ScrollContainer",this);U.b.push(this);this.view=new U.oa(a);this.view.standby=!0;this.scrollbars=new U.oa;this.top=a.ae[0]||0;this.bottom=a.ae[1]||Number.MAX_VALUE;this.view.ua[1]=this.top;var b=new U.h(a.top,{x:this.view.m-25,y:this.view.l-5,width:32,height:30,fill:a.top?l:"#f00a",padding:a.top?a.top.g:[0,0,0,0],onmousedown:function(){window.clearInterval(this.cb);window.clearInterval(this.bb);window.clearInterval(this.ab);var a=U.b,b=this.view,c=b.ua;this.bb=window.setInterval(function(){c[1]=
U.i.G(c[1]+5,this.top,-this.bottom+b.k);a.w();a.T||(c=b=a=l,window.clearInterval(this.bb))}.bind(this),1E3/60)}.bind(this)}),c=new U.h(a.bottom,{x:this.view.m-25,y:this.view.l+this.view.k-25,width:32,height:30,fill:a.bottom?l:"#0f0a",padding:a.bottom?a.bottom.g:[0,0,0,0],onmousedown:function(){window.clearInterval(this.cb);window.clearInterval(this.bb);window.clearInterval(this.ab);var a=U.b,b=this.view,c=b.ua;this.ab=window.setInterval(function(){c[1]=U.i.G(c[1]-5,this.top,-this.bottom+b.k);a.w();
a.T||(c=b=a=l,window.clearInterval(this.ab))}.bind(this),1E3/60)}.bind(this)}),a=new U.h(a.reset,{x:this.view.m-25,y:this.view.l+this.view.k-50,width:32,height:30,fill:a.reset?l:"#0f0b",padding:a.reset?a.reset.g:[0,0,0,0],onmousedown:function(){window.clearInterval(this.cb);window.clearInterval(this.bb);window.clearInterval(this.ab);var a=U.b,b=this.view,c=b.ua;this.cb=window.setInterval(function(){c[1]-=(c[1]-this.top)/10;a.w();Math.abs(c[1]-this.top)<0.1&&(c=b=a=l,window.clearInterval(this.cb))}.bind(this),
1E3/60)}.bind(this)});this.view.onmousescroll=function(a){window.clearInterval(this.cb);window.clearInterval(this.bb);window.clearInterval(this.ab);var b=U.b,c=this.view,i=c.ua;i[1]=U.i.G(i[1]-a/2,this.top,-this.bottom+c.k);b.w()}.bind(this);this.scrollbars.push(b,c,a);a=c=b=l};U.yd.prototype={update:function(){this.scrollbars.j=this.view.j;this.scrollbars.disabled=this.view.disabled},F:ba(),e:function(){U.b.splice(U.b.indexOf(this),1);U.H(this)}};U=U||{};
U.h=function(a,b){U.r.v("Tilt.Button",this);b=b||{};this.j=b.j||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||g;this.onmouseup=b.onmouseup||g;this.onclick=b.onclick||g;this.c=a||{m:-1,l:-1,q:-1,k:-1};this.c.m=b.x||this.c.m;this.c.l=b.y||this.c.l;this.c.q=b.width||this.c.q;this.c.k=b.height||this.c.k;this.c.disabled=!0;this.g=b.padding||[0,0,0,0];this.Db=b.fill||l;this.lc=b.stroke||l;this.s=[this.c.m+this.g[0],this.c.l+this.g[1],this.c.q-this.g[0]-this.g[2],this.c.k-this.g[1]-this.g[3]]};
U.h.prototype={N:function(a,b){"function"===typeof this.c.N?this.c.N(a,b):(this.c.m=a,this.c.l=b);this.s[0]=a+this.g[0];this.s[1]=b+this.g[1]},Y:function(a,b){"function"===typeof this.c.Y?this.c.Y(a,b):(this.c.q=a,this.c.k=b);this.s[2]=a-this.g[0]-this.g[2];this.s[3]=b-this.g[1]-this.g[3]},fa:function(a){this.N(a,this.c.l)},Tc:function(a){this.Y(a,this.c.k)},Sc:function(a){this.Y(this.c.q,a)},de:function(a){var b=this.c.m,c=this.c.l,d=this.c.q,f=this.c.k,h=this.c.g;this.c=a;this.c.g=h;this.c.N(b,
c);this.c.Y(d,f);this.c.disabled=!0},Yb:ca("Db"),X:function(){return this.c.m},t:function(){return this.c.l},Ka:function(){return this.c.q},vc:function(){return this.c.k},F:function(a,b){b=b||U.aa;"undefined"!==typeof this.c.mc&&this.c.F(b);var c,d,f=this.Db,h=this.lc;if(f||h)c=this.s,d=this.g,b.fill(f||"#fff0"),b.stroke(h||"#0000"),b.rect(c[0]-d[0],c[1]-d[1],c[2]+d[0]+d[2],c[3]+d[1]+d[3]);U.b.Ie&&(b.fill("#fff2"),b.stroke("#00f"),b.rect(this.c.m,this.c.l,this.c.q,this.c.k),this.disabled||(b.fill("#0f04"),
b.rect(this.s[0],this.s[1],this.s[2],this.s[3])))},e:function(){U.H(this)}};U=U||{};
U.Da=function(a,b){U.r.v("Tilt.Slider",this);b=b||{};this.j=b.j||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||g;this.onmouseup=b.onmouseup||g;this.onclick=b.onclick||g;this.c=new U.z(a.mc,a.Hb,{padding:a.g,na:a.nd});this.c.m=b.x||this.c.m;this.c.l=b.y||this.c.l;this.c.q=b.width||this.c.q;this.c.k=b.height||this.c.k;this.m=this.c.m;this.l=this.c.l;this.kc=b.size||100;this.ad=b.direction||0;this.s=[this.c.m+this.c.g[0],this.c.l+this.c.g[1],this.c.q-this.c.g[2],this.c.k-this.c.g[3]];
this.Q(b.value||0)};
U.Da.prototype={N:function(a,b){this.m=a;this.l=b;this.s[0]=a+this.c.g[0];this.s[1]=b+this.c.g[1];this.Q(this.U)},fa:function(a){this.N(a,this.l);this.Q(this.U)},Y:function(a){this.kc=a;this.Q(this.U)},Q:function(a){var b=this.c,c=this.m,d=this.l,f=this.kc,h=this.ad;this.U=U.i.G(a+0.0010,0,100);h===0?(a=U.i.map(this.U,0,100,c,c+f),b.N(a,d),this.s[0]=a+b.g[0]):(a=U.i.map(this.U,0,100,d,d+f),b.N(c,a),this.s[1]=a+b.g[1])},X:N("m"),t:N("l"),update:function(){var a,b,c,d,f,h,i;if(this.T)this.jd=!0;else if(!U.b.T)this.jd=
!1;if(this.jd)a=this.c,b=this.re,c=this.se,d=this.m,f=this.l,h=this.kc,i=this.ad,i===0?(d+=b,h=d+h,i=U.i.G(U.b.Lc-a.q*0.5,d,h),b=i-b,a.N(b,f),this.U=U.i.map(i,d,h,0,100),this.s[0]=b+a.g[0]):(f+=c,i=U.i.G(U.b.$f-a.k*0.5,f,f+h),b=i-c,a.N(d,b),this.U=U.i.map(b,f,f+h,0,100),this.s[1]=b+a.g[1])},F:function(a,b){b=b||U.aa;this.c.F(b)},e:function(){U.H(this)}};U=U||{};
U.z=function(a,b,c){U.r.v("Tilt.Sprite",this);c=c||{};this.j=c.j||!1;this.disabled=c.disabled||!1;this.onmousedown=c.onmousedown||g;this.onmouseup=c.onmouseup||g;this.onclick=c.onclick||g;this.mc=a;this.Hb=b||[0,0,a.width,a.height];this.m=c.x||0;this.l=c.y||0;this.q=c.width||this.Hb[2];this.k=c.height||this.Hb[3];this.g=c.padding||[0,0,0,0];this.nd=c.na||l;this.oe=c.pa||!1;this.s=[this.m+this.g[0],this.l+this.g[1],this.q-this.g[0]-this.g[2],this.k-this.g[0]-this.g[3]];this.Jb=l};
U.z.prototype={N:function(a,b){this.m=a;this.l=b;this.s[0]=a+this.g[0];this.s[1]=b+this.g[1]},Y:function(a,b){this.q=a;this.k=b;this.s[2]=a-this.g[0]-this.g[2];this.s[3]=b-this.g[1]-this.g[3]},fa:function(a){this.N(a,this.l)},Tc:function(a){this.Y(a,this.k)},Sc:function(a){this.Y(this.q,a)},X:N("m"),t:N("l"),Ka:N("q"),vc:N("k"),F:function(a,b){var b=b||U.aa,c=this.Hb,d=this.mc,f=this.m,h=this.l,i=this.q,j=this.k,k=this.oe,m=this.nd;if(this.Jb===l&&d.loaded)this.Jb=new U.W([c[0]/d.width,c[1]/d.height,
(c[0]+c[2])/d.width,c[1]/d.height,c[0]/d.width,(c[1]+c[3])/d.height,(c[0]+c[2])/d.width,(c[1]+c[3])/d.height],2);m!==l&&b.na(m);k?(b.pa(!0),b.Gd(d,f,h,i,j,this.Jb),b.pa(!1)):b.Gd(d,f,h,i,j,this.Jb);m!==l&&b.na("#fff");U.b.Ie&&(b.fill("#fff2"),b.stroke("#f00"),b.rect(this.m,this.l,this.q,this.k),this.disabled||(b.fill("#0f04"),b.rect(this.s[0],this.s[1],this.s[2],this.s[3])))},e:function(){U.H(this)}};U=U||{};U.b=[];U.b.Lc=0;U.b.Sd=0;U.b.T=!1;U.b.ff=0;U.b.Ld=[];U.b.w=ba();
U.b.F=function(a){var b=U.aa,c,d,f;b.Dd();b.hf();for(c=0,d=this.length;c<d;c++)f=this[c],f.j||(f.disabled||f.update(a,b),f.F(a,b))};U.b.mf=function(a){if(!(a.Fc||this.indexOf(a)===-1)){for(var b=0,c=this.length;b<c;b++)this[b].ed=this[b].disabled,this[b].disabled=!0;a.Fc=!0;a.j=!1;a.disabled=!1;this.w()}};U.b.Je=function(a){if(a.Fc&&this.indexOf(a)!==-1){for(var b=0,c=this.length;b<c;b++)this[b].disabled=this[b].ed,delete this[b].ed;a.Fc=!1;a.j=!0;a.disabled=!0;this.w()}};
U.b.Gc=function(a,b,c){this.T=!0;this.ma=!1;this.Ya("onmousedown",a,b,c)};U.b.Kc=function(a,b,c){this.ma=this.T=!1;this.Ya("onmouseup",a,b,c)};U.b.click=function(a,b){this.Ya("onclick",a,b)};U.b.Ke=function(a,b){this.Ya("ondoubleclick",a,b)};U.b.Hc=function(a,b){this.Lc=a;this.Sd=b};U.b.Jc=function(a){this.ma=!1;this.ff=a;this.Ya("onmousescroll",a)};U.b.ma=ba();U.b.Ic=ba();U.b.Cc=function(a){this.Ld[a]=!0;this.bd("onkeydown",a)};U.b.Dc=function(a){this.Ld[a]=!1;this.bd("onkeyup",a)};
U.b.Ya=function(a,b,c,d){var f,h,i,j,k,m,t,v,x,A,w,B,p=this.Lc,o=this.Sd;for(f=0,i=this.length;f<i;f++)if(k=this[f],!k.j&&!k.disabled){t=k.m||0;h=k.l||0;j=k.q||0;v=k.k||0;if(k.standby&&p>t&&p<t+j&&o>h&&o<h+v)this.ma=!0,m=k[a],"function"===typeof m&&m(b,c,d);j=k.ua||[0,0];t+=j[0];v=h+j[1]+2;for(h=0,j=k.length;h<j;h++)if(m=k[h],!m.j&&!m.disabled&&m.tc){x=m.s||[-1,-1,-1,-1];A=x[0]+t;w=x[1]+v;B=x[2];x=x[3];if("onmouseup"===a)m.T=!1;if(p>A&&p<A+B&&o>w&&o<w+x){if("onmousedown"===a)m.T=!0;this.ma=!0;m=m[a];
"function"===typeof m&&m(b,c,d)}}}};U.b.bd=function(a,b){var c,d,f,h,i,j;for(c=0,f=this.length;c<f;c++)if(i=this[c],!i.j&&!i.disabled){i.standby&&(j=i[a],"function"===typeof j&&j(b));for(d=0,h=i.length;d<h;d++)j=i[d],!j.j&&!j.disabled&&(j=j[a],"function"===typeof j&&j(b))}};U.r.v("Tilt.UI",U.b);U=U||{};
U.ha={alert:function(a,b){var c;"undefined"===typeof b&&(b="undefined");try{c=Cc["@mozilla.org/embedcomp/prompt-service;1"].getService(Ci.nsIPromptService),c.alert(l,a,b)}catch(d){window.alert(b)}},log:function(a){var b;"undefined"===typeof a&&(a="undefined");try{b=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),b.logStringMessage(a)}catch(c){window.alert(a)}},error:function(a,b,c,d,f,h,i){var j,k;"undefined"===typeof a&&(a="undefined");try{j=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),
k=Cc["@mozilla.org/scripterror;1"].createInstance(Ci.nsIScriptError),k.init(a,b,c,d,f,h,i),j.logMessage(k)}catch(m){window.alert(a)}}};U.ca={Bd:"tilt-string-bundle",get:function(a){if("undefined"===typeof a)return"undefined";var b=document.getElementById(this.Bd);return b?b.getString(a):a},uc:function(a,b){if("undefined"===typeof a)return"undefined";if("undefined"===typeof b)return a;var c=document.getElementById(this.Bd);return c?c.dg(a,b):[a,b].join(" ")}};U=U||{};
U.K={kb:g,Ha:g,qb:function(a,b,c,d){if("undefined"===typeof this.kb)this.kb=document;if("undefined"===typeof this.Ha)this.Ha=document.body;var f=this.kb,h=this.Ha;if("undefined"===typeof f||f===l||"undefined"===typeof h||h===l)return l;f=f.createElement("canvas");f.setAttribute("style","width: 100%; height: 100%;");f.width=a;f.height=b;f.id=d;c&&this.append(f,h);return f},hg:function(){var a=this.qb(window.innerWidth,window.innerHeight,!0);this.Ha.setAttribute("style","background: #000; margin: 0px; padding: 0px; overflow: hidden;");
return a},append:function(a,b){b.appendChild(a)},remove:function(a){a.parentNode.removeChild(a)},fe:function(a,b,c,d){var f=this.top=this.left=this.wb=0,h=0,i=function(b,d){var m,t,v,x;for(m=0,t=b.childNodes.length;m<t;m++)v=b.childNodes[m],d>f&&(f=d),h++,this.wb++,a(v,d,h,this.wb,this.left,this.top),i(v,d+1),c&&v.localName==="iframe"&&(x=U.K.wc(v),this.left+=x.x,this.top+=x.y,i(v.contentDocument,d+1),this.left-=x.x,this.top-=x.y)}.bind(this);try{"function"===typeof a&&i(d||window.content.document,
0),"function"===typeof b&&b(f,h)}finally{d=l}},Pe:function(a){var b,c={width:a.innerWidth+a.scrollMaxX,height:a.innerHeight+a.scrollMaxY};this.fe(function(a){b=this.wc(a);c.width=Math.max(c.width,b.x||0+b.width||0);c.height=Math.max(c.height,b.y||0+b.height||0)}.bind(this),l,a.document);return c},wc:function(a){if(a.nodeType!==1)return{x:0,y:0,width:0,height:0};var b,c,d,f;try{if(a.localName==="head"||a.localName==="body")throw new Exception;d=a.getBoundingClientRect();b=window.content.pageXOffset;
c=window.content.pageYOffset;return{x:d.left+b,y:d.top+c,width:d.width,height:d.height}}catch(h){c=b=0;d=a.clientWidth;f=a.clientHeight;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}else{if(a.x)b=a.x;if(a.y)c=a.y}return{x:b,y:c,width:d,height:f}}finally{}},eg:function(a){var b;a.nodeType===1?b="ELEMENT_NODE":a.nodeType===2?b="ATTRIBUTE_NODE":a.nodeType===3?b="TEXT_NODE":a.nodeType===4?b="CDATA_SECTION_NODE":a.nodeType===5?b="ENTITY_REFERENCE_NODE":a.nodeType===6?b="ENTITY_NODE":
a.nodeType===7?b="PROCESSING_INSTRUCTION_NODE":a.nodeType===8?b="COMMENT_NODE":a.nodeType===9?b="DOCUMENT_NODE":a.nodeType===10?b="DOCUMENT_TYPE_NODE":a.nodeType===11?b="DOCUMENT_FRAGMENT_NODE":a.nodeType===12&&(b="NOTATION_NODE");return b},Oe:function(a){var b=[],c,d;for(c=0,d=a.length;c<d;c++)b.push(a[c].name+' = "'+a[c].value+'"');return b.join("\n")+"\n"},Qe:function(a){var b=[],c,d,f;for(f=0;f<a.length;f++)c=a[f],d=a.getPropertyValue(c),c=c+": "+d+";",'background-attachment: scroll;\nbackground-clip: border-box;\nbackground-color: transparent;\nbackground-image: none;\nbackground-origin: padding-box;\nbackground-position: 0% 0%;\nbackground-repeat: repeat;\nbackground-size: auto auto;\nborder-bottom-color: rgb(0, 0, 0);\nborder-bottom-left-radius: 0px;\nborder-bottom-right-radius: 0px;\nborder-bottom-style: none;\nborder-bottom-width: 0px;\nborder-collapse: separate;\nborder-left-color: rgb(0, 0, 0);\nborder-left-style: none;\nborder-left-width: 0px;\nborder-right-color: rgb(0, 0, 0);\nborder-right-style: none;\nborder-right-width: 0px;\nborder-spacing: 0px 0px;\nborder-top-color: rgb(0, 0, 0);\nborder-top-left-radius: 0px;\nborder-top-right-radius: 0px;\nborder-top-style: none;\nborder-top-width: 0px;\nbottom: auto;\nbox-shadow: none;\ncaption-side: top;\nclear: none;\nclip: auto;\ncolor: rgb(0, 0, 0);\ncontent: none;\ncounter-increment: none;\ncounter-reset: none;\ncursor: auto;\ndirection: ltr;\ndisplay: block;\nempty-cells: -moz-show-background;\nfloat: none;\nfont-family: serif;\nfont-size: 16px;\nfont-size-adjust: none;\nfont-stretch: normal;\nfont-style: normal;\nfont-variant: normal;\nfont-weight: 400;\nheight: 0px;\nime-mode: auto;\nleft: auto;\nletter-spacing: normal;\nline-height: 19.2px;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: 8px;\nmargin-left: 8px;\nmargin-right: 8px;\nmargin-top: 8px;\nmarker-offset: auto;\nmax-height: none;\nmax-width: none;\nmin-height: 0px;\nmin-width: 0px;\nopacity: 1;\noutline-color: rgb(0, 0, 0);\noutline-offset: 0px;\noutline-style: none;\noutline-width: 0px;\noverflow: visible;\noverflow-x: visible;\noverflow-y: visible;\npadding-bottom: 0px;\npadding-left: 0px;\npadding-right: 0px;\npadding-top: 0px;\npage-break-after: auto;\npage-break-before: auto;\npointer-events: auto;\nposition: static;\nquotes: "\u201c" "\u201d" "\u2018" "\u2019";\nresize: none;\nright: auto;\ntable-layout: auto;\ntext-align: start;\ntext-decoration: none;\ntext-indent: 0px;\ntext-overflow: clip;\ntext-shadow: none;\ntext-transform: none;\ntop: auto;\nunicode-bidi: embed;\nvertical-align: baseline;\nvisibility: visible;\nwhite-space: normal;\nwidth: 1157px;\nword-spacing: 0px;\nword-wrap: normal;\nz-index: auto;\n-moz-animation-delay: 0s;\n-moz-animation-direction: normal;\n-moz-animation-duration: 0s;\n-moz-animation-fill-mode: none;\n-moz-animation-iteration-count: 1;\n-moz-animation-name: none;\n-moz-animation-play-state: running;\n-moz-animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-appearance: none;\n-moz-background-inline-policy: continuous;\n-moz-binding: none;\n-moz-border-bottom-colors: none;\n-moz-border-image: none;\n-moz-border-left-colors: none;\n-moz-border-right-colors: none;\n-moz-border-top-colors: none;\n-moz-box-align: stretch;\n-moz-box-direction: normal;\n-moz-box-flex: 0;\n-moz-box-ordinal-group: 1;\n-moz-box-orient: horizontal;\n-moz-box-pack: start;\n-moz-box-sizing: content-box;\n-moz-column-count: auto;\n-moz-column-gap: 16px;\n-moz-column-rule-color: rgb(0, 0, 0);\n-moz-column-rule-style: none;\n-moz-column-rule-width: 0px;\n-moz-column-width: auto;\n-moz-float-edge: content-box;\n-moz-font-feature-settings: normal;\n-moz-font-language-override: normal;\n-moz-force-broken-image-icon: 0;\n-moz-hyphens: manual;\n-moz-image-region: auto;\n-moz-orient: horizontal;\n-moz-outline-radius-bottomleft: 0px;\n-moz-outline-radius-bottomright: 0px;\n-moz-outline-radius-topleft: 0px;\n-moz-outline-radius-topright: 0px;\n-moz-stack-sizing: stretch-to-fit;\n-moz-tab-size: 8;\n-moz-text-blink: none;\n-moz-text-decoration-color: rgb(0, 0, 0);\n-moz-text-decoration-line: none;\n-moz-text-decoration-style: solid;\n-moz-transform: none;\n-moz-transform-origin: 50% 50%;\n-moz-transition-delay: 0s;\n-moz-transition-duration: 0s;\n-moz-transition-property: all;\n-moz-transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-user-focus: none;\n-moz-user-input: auto;\n-moz-user-modify: read-only;\n-moz-user-select: auto;\n-moz-window-shadow: default;\nclip-path: none;\nclip-rule: nonzero;\ncolor-interpolation: srgb;\ncolor-interpolation-filters: linearrgb;\ndominant-baseline: auto;\nfill: rgb(0, 0, 0);\nfill-opacity: 1;\nfill-rule: nonzero;\nfilter: none;\nflood-color: rgb(0, 0, 0);\nflood-opacity: 1;\nimage-rendering: auto;\nlighting-color: rgb(255, 255, 255);\nmarker-end: none;\nmarker-mid: none;\nmarker-start: none;\nmask: none;\nshape-rendering: auto;\nstop-color: rgb(0, 0, 0);\nstop-opacity: 1;\nstroke: none;\nstroke-dasharray: none;\nstroke-dashoffset: 0px;\nstroke-linecap: butt;\nstroke-linejoin: miter;\nstroke-miterlimit: 4;\nstroke-opacity: 1;\nstroke-width: 1px;\ntext-anchor: start;\ntext-rendering: auto;'.indexOf(c)===
-1&&b.push(c);return b.join("\n")+"\n"}};U.r.v("Tilt.Document",U.K);U=U||{};
U.va={Qf:function(a,b){var c;c=Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker);c.init(window,a,b==="folder"?Ci.nsIFilePicker.modeGetFolder:Ci.nsIFilePicker.lg);return c.show()==Ci.nsIFilePicker.returnOK?c.file:l},save:function(a,b){var c,d;Cu.import("resource://gre/modules/FileUtils.jsm");Cu.import("resource://gre/modules/NetUtil.jsm");c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile);c.initWithPath(b);c=FileUtils.openSafeFileOutputStream(c);d=Cc["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Ci.nsIScriptableUnicodeConverter);
d.charset="UTF-8";d=d.convertToInputStream(a);NetUtil.asyncCopy(d,c,function(a){Components.isSuccessCode(a)})},Cf:function(a,b){var c,d,f;Cu.import("resource://gre/modules/FileUtils.jsm");Cu.import("resource://gre/modules/NetUtil.jsm");c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile);c.initWithPath(b);d=Cc["@mozilla.org/network/io-service;1"].getService(Ci.nsIIOService);f=d.newURI(a.toDataURL("image/png",""),"UTF8",l);d.newFileURI(c);d=Cc["@mozilla.org/embedding/browser/nsWebBrowserPersist;1"].createInstance(Ci.nsIWebBrowserPersist);
d.persistFlags=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_REPLACE_EXISTING_FILES;d.persistFlags|=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_AUTODETECT_APPLY_CONVERSION;d.saveURI(f,l,l,l,l,c)},separator:navigator.appVersion.indexOf("Win")!==-1?"\\":"/"};U.r.v("Tilt.File",U.va);U=U||{};
U.i={uf:function(a){return a*0.0174532925},cg:function(a){return a*57.2957795},map:function(a,b,c,d,f){return d+(f-d)*((a-b)/(c-b))},Kd:function(a){return(a&a-1)===0},Td:function(a){var b;--a;for(b=1;b<32;b<<=1)a|=a>>b;return a+1},G:function(a,b,c){if(b>c)var d=b,b=c,c=d;return Math.max(b,Math.min(c,a))},tg:function(a,b,c){b*=0.5;var d=Math.sin(b),f=a[0]*d,h=a[1]*d,a=a[2]*d,b=Math.cos(b);return"undefined"===typeof c?[f,h,a,b]:(c[0]=f,c[1]=h,c[2]=a,c[3]=b,c)},tf:function(a,b,c,d){var f;b*=0.5;a*=0.5;
c*=0.5;f=Math.sin(b);var h=Math.sin(a),i=Math.sin(c),j=Math.cos(b),k=Math.cos(a),m=Math.cos(c),b=f*k*m-j*h*i,a=j*h*m+f*k*i,c=j*k*i-f*h*m;f=j*k*m+f*h*i;return"undefined"===typeof d?[b,a,c,f]:(d[0]=b,d[1]=a,d[2]=c,d[3]=f,d)},rf:function(a,b,c,d,f){var h,i=ka();d?Aa(d,c,h=$()):h=c;a[3]=1;Ba(h,a,i);d?(f[0]=i[0]/i[3],f[1]=i[1]/i[3],f[0]*=b[2]*0.5,f[1]*=-b[3]*0.5,f[0]+=b[2]*0.5,f[1]+=b[3]*0.5,f[2]=0):(f[0]=i[0],f[1]=i[1],f[2]=i[2]);return f},ge:function(a,b,c,d,f){var h=$(),f=f||ka();Aa(d,c,h);var i;i||
(i=h);var c=h[0],d=h[1],j=h[2],k=h[3],m=h[4],t=h[5],v=h[6],x=h[7],A=h[8],w=h[9],B=h[10],p=h[11],o=h[12],u=h[13],r=h[14],s=h[15],y=c*t-d*m,C=c*v-j*m,n=c*x-k*m,D=d*v-j*t,F=d*x-k*t,I=j*x-k*v,K=A*u-w*o,M=A*r-B*o,q=A*s-p*o,G=w*r-B*u,L=w*s-p*u,z=B*s-p*r,E=1/(y*z-C*L+n*G+D*q-F*M+I*K);i[0]=(t*z-v*L+x*G)*E;i[1]=(-d*z+j*L-k*G)*E;i[2]=(u*I-r*F+s*D)*E;i[3]=(-w*I+B*F-p*D)*E;i[4]=(-m*z+v*q-x*M)*E;i[5]=(c*z-j*q+k*M)*E;i[6]=(-o*I+r*n-s*C)*E;i[7]=(A*I-B*n+p*C)*E;i[8]=(m*L-t*q+x*K)*E;i[9]=(-c*L+d*q-k*K)*E;i[10]=(o*
F-u*n+s*y)*E;i[11]=(-A*F+w*n-p*y)*E;i[12]=(-m*G+t*M-v*K)*E;i[13]=(c*G-d*M+j*K)*E;i[14]=(-o*D+u*C-r*y)*E;i[15]=(A*D-w*C+B*y)*E;f[0]=+((a[0]-b[0])/b[2]*2-1);f[1]=-((a[1]-b[1])/b[3]*2-1);f[2]=2*a[2]-1;f[3]=1;Ba(h,f);f[3]=1/f[3];f[0]*=f[3];f[1]*=f[3];f[2]*=f[3];return f},Ge:function(a,b,c,d,f){this.ge(a,c,d,f,a);this.ge(b,c,d,f,b);var f=ya(b,a),h;h||(h=f);var c=f[0],d=f[1],f=f[2],i=Math.sqrt(c*c+d*d+f*f);i?i==1?(h[0]=c,h[1]=d,h[2]=f):(i=1/i,h[0]=c*i,h[1]=d*i,h[2]=f*i):(h[0]=0,h[1]=0,h[2]=0);return{position:a,
jg:b,direction:h}},bf:function(a,b,c,d,f){var h=Y(),i=Y(),j=Y(),k=Y(),m=Y(),t=d.position,d=d.direction;"undefined"===typeof f&&(f=Y());ya(b,a,h);ya(c,a,i);la(h,i,j);if(j[0]===0&&j[1]===0&&j[2]===0)return-1;ya(t,a,m);b=-na(j,m);j=+na(j,d);if(Math.abs(j)<1.0E-4)return b===0?2:0;j=b/j;if(j<0)return 0;qa(t,ua(d,j),f);t=na(h,h);d=na(h,i);j=na(i,i);ya(f,a,k);a=na(k,h);i=na(k,i);k=d*d-t*j;f=(d*i-j*a)/k;if(f<0||f>1)return 0;i=(d*a-t*i)/k;return i<0||f+i>1?0:1},xc:function(a,b,c){c<0&&(c+=1);c>1&&(c-=1);return c<
0.166666667?a+(b-a)*6*c:c<0.5?b:c<0.666666667?a+(b-a)*(2/3-c)*6:a},zg:function(a,b,c){a*=0.00392156863;b*=0.00392156863;c*=0.00392156863;var d=Math.max(a,b,c),f=Math.min(a,b,c),h,i,j=(d+f)*0.5;if(d===f)i=f=0;else{h=d-f;f=j>0.5?h/(2-d-f):h/(d+f);switch(d){case a:i=(b-c)/h+(b<c?6:0);break;case b:i=(c-a)/h+2;break;case c:i=(a-b)/h+4}i/=6}return[i,f,j]},fg:function(a,b,c){var d,f;b===0?c=b=a=c:(d=c<0.5?c*(1+b):c+b-c*b,f=2*c-d,c=this.xc(f,d,a+0.333333333),b=this.xc(f,d,a),a=this.xc(f,d,a-0.333333333));
return[c*255,b*255,a*255]},Bf:function(a,b,c){a*=0.00392156863;b*=0.00392156863;c*=0.00392156863;var d=Math.max(a,b,c),f=Math.min(a,b,c),h,i;h=d-f;if(d===f)i=0;else{switch(d){case a:i=(b-c)/h+(b<c?6:0);break;case b:i=(c-a)/h+2;break;case c:i=(a-b)/h+4}i/=6}return[i,d===0?0:h/d,d]},We:function(a,b,c){var d,f,h,i=Math.floor(a*6),j=a*6-i,a=c*(1-b),k=c*(1-j*b),b=c*(1-(1-j)*b);switch(i%6){case 0:d=c;f=b;h=a;break;case 1:d=k;f=c;h=a;break;case 2:d=a;f=c;h=b;break;case 3:d=a;f=k;h=c;break;case 4:d=b;f=a;
h=c;break;case 5:d=c,f=a,h=k}return[d*255,f*255,h*255]},xa:function(a){var b,c,d;d=a.charAt(0)==="#"?a.substring(1):a;if("undefined"!==typeof this[d])return this[d];if(d.length===3)a=d.charAt(0),b=d.charAt(1),c=d.charAt(2),d=[a,a,b,b,c,c,"ff"].join("");else if(d.length===4||d.length===5)a=d.charAt(0),b=d.charAt(1),c=d.charAt(2),d=d.charAt(3),d=[a,a,b,b,c,c,d,d].join("");else if(d.match("^rgba")=="rgba")return a=d.substring(5,d.length-1).split(","),a[0]*=0.00392156863,a[1]*=0.00392156863,a[2]*=0.00392156863,
a[3]*=0.00392156863,this[d]=a;else if(d.match("^rgb")=="rgb")return a=d.substring(4,d.length-1).split(","),a[0]*=0.00392156863,a[1]*=0.00392156863,a[2]*=0.00392156863,a[3]=1,this[d]=a;return this[d]=a=[parseInt(d.substring(0,2),16)*0.00392156863,parseInt(d.substring(2,4),16)*0.00392156863,parseInt(d.substring(4,6),16)*0.00392156863,d.length===6?1:parseInt(d.substring(6,8),16)*0.00392156863]}};U.r.v("Tilt.Math",U.i);U=U||{};
U.zd={trim:function(a){return a.replace(/^\s+|\s+$/g,"")},kg:function(a){return a.replace(/^\s+/,"")},Ag:function(a){return a.replace(/\s+$/,"")}};U.r.v("Tilt.String",U.zd);U=U||{};U.nc={};
U.nc.qc={Ze:function(a){var b,c,d,f;b=U.K.qb();c=U.K.qb();b=U.oc.prototype.Cd(b);d=b.getParameter(b.MAX_TEXTURE_SIZE);f=U.K.Pe(a);b=U.i.G(f.width,0,d);d=U.i.G(f.height,0,d);c.width=b;c.height=d;c.getContext("2d").drawWindow(a,0,0,b,d,"#fff");return c},vf:function(a,b,c,d){var f=b.getContext("2d"),h=c.left,i=c.top,j=c.width,c=c.height;d?(f.translate(h,i),f.drawWindow(a,h,i,j,c,"#fff"),f.translate(-h,-i)):(b.width=j,b.height=c,f.drawWindow(a,h,i,j,c,"#fff"))}};U.r.v("Tilt.WebGL",U.qc);U=U||{};
U.ye={wf:function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.send(l);d.onreadystatechange=function(){d.readyState===4&&"function"===typeof b&&b(d,c)}},yg:function(a,b,c){function d(d,i){f[i]=d;h++;h===a.length&&"function"===typeof b&&b(f,c)}var f=[],h=0,i,j;for(i=0,j=a.length;i<j;i++)this.wf(a[i],d,i)}};U.r.v("Tilt.Xhr",U.ye);TiltChrome=TiltChrome||{};TiltChrome.d={};
TiltChrome.d.b={I:{rb:{ob:{value:50},sb:{value:0},ib:{value:100},gb:{value:80},vb:{value:100},Ub:{outline:[0,0,0,0.25]}},Oa:{ob:{value:50},sb:{value:0},ib:{value:100},gb:{value:80},vb:{value:100},Ub:{outline:[0,0,0,0.25]}},Va:{ob:{value:57.5},sb:{value:50},ib:{value:100},gb:{value:7.5},vb:{value:100},Ub:{outline:[1,1,1,0.7]}}},f:{Uf:{stroke:"#fff3"},html:{fill:"#FFF"},"head/body":{fill:"#E667AF"},title:{fill:"#CD0074"},script:{fill:"#A64B00"},style:{fill:"#FF9640"},div:{fill:"#5DC8CD"},span:{fill:"#67E46F"},
table:{fill:"#FF0700"},tr:{fill:"#FF4540"},td:{fill:"#FF7673"},ul:{fill:"#4671D5"},li:{fill:"#6C8CD5"},p:{fill:"#888"},a:{fill:"#123EAB"},img:{fill:"#FFB473"},iframe:{fill:"#85004B"},other:{fill:"#444"}}};TiltChrome=TiltChrome||{};TiltChrome.rd={};
TiltChrome.rd.xe=function(){function a(a){a=a.keyCode||a.which;if(a===27)"open"===TiltChrome.BrowserOverlay.D.B.state?TiltChrome.BrowserOverlay.D.B.hidePopup():(TiltChrome.BrowserOverlay.e(!0,!0),TiltChrome.BrowserOverlay.href=l);j.Dc(a);k.Dc(a)}function b(a){a=a.keyCode||a.which;"open"!==TiltChrome.BrowserOverlay.D.B.state&&window.content.document.activeElement instanceof HTMLBodyElement&&(j.Cc(a),k.Cc(a))}function c(a){a.preventDefault();a.stopPropagation();j.Jc(a.detail);j.ma||k.Jc(a.detail)}function d(a){a.preventDefault();
a.stopPropagation();j.Ic();k.Ic()}function f(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;j.Hc(b,a);k.Hc(b,a)}function h(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;j.Kc(c,a,b);k.Kc(c,a,b)}function i(a){a.preventDefault();a.stopPropagation();m=a.clientX-a.target.offsetLeft;t=a.clientY-a.target.offsetTop;j.Gc(m,t,a.which);j.ma?k.stop():k.Gc(m,t,a.which)}var j=U.b,
k=l,m=0,t=0;this.init=function(j){k=new U.pd(j.width,j.height);this.stop=k.stop.bind(k);this.translate=k.translate.bind(k);this.rotate=k.rotate.bind(k);this.zoom=k.zoom.bind(k);this.reset=k.reset.bind(k);this.qa=k.qa.bind(k);j.addEventListener("mousedown",i,!1);j.addEventListener("mouseup",h,!1);j.addEventListener("click",v,!1);j.addEventListener("dblclick",x,!1);j.addEventListener("mousemove",f,!1);j.addEventListener("mouseout",d,!1);j.addEventListener("MozMousePixelScroll",c,!1);window.addEventListener("keydown",
b,!1);window.addEventListener("keyup",a,!1)};this.update=function(a){var b=this.o,a=k.loop(a);b.Jf(a.rotation);b.Lf(a.Z)};var v=function(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(m-c)<2&&Math.abs(t-a)<2&&(j.click(c,a,b),j.ma||this.o.kf(c,a))}.bind(this),x=function(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(m-b)<2&&Math.abs(t-a)<2&&(j.Ke(b,
a),j.ma||this.o.jf(b,a))}.bind(this);this.e=function(m){j=this.o=l;i!==l&&(m.removeEventListener("mousedown",i,!1),i=l);h!==l&&(m.removeEventListener("mouseup",h,!1),h=l);v!==l&&(m.removeEventListener("click",v,!1),v=l);x!==l&&(m.removeEventListener("dblclick",x,!1),x=l);f!==l&&(m.removeEventListener("mousemove",f,!1),f=l);d!==l&&(m.removeEventListener("mouseout",d,!1),d=l);c!==l&&(m.removeEventListener("MozMousePixelScroll",c,!1),c=l);b!==l&&(window.removeEventListener("keydown",b,!1),b=l);a!==l&&
(window.removeEventListener("keyup",a,!1),a=l);k!==l&&(k.e(),k=l);U.H(this)};U.r.v("TiltChrome.Controller.MouseAndKeyboard",this)};TiltChrome=TiltChrome||{};TiltChrome.b={};
TiltChrome.b.we=function(){var a=U.b,b=l,c=l,d=l,f=l,h=l,i=l,j=l,k=l,m=l,t=l,v=l,x=l,A=l,w=l,B=l,p=l,o=l,u=l,r=l,s=l,y=l,C=l,n=l,D=l,F=l,I=l,K=l,M=l,q=l,G=l,L=l,z=l,E=l,R=l,W=l,V=l,S=l,aa=l,P=l,ia=l,fa=l,X=l,ma=l,J=l,H=l,da=l,ea=l,ja=l,ra=l,ta=l;this.init=function(T){i=new U.Ea("chrome://tilt/skin/tilt-ui.png",{Qd:"nearest",Nd:"nearest",onload:function(){this.o.w()}.bind(this)});b=new U.oa;c=new U.oa;j=new U.z(i,[0,768,256,256],{width:T.width,height:T.height,pa:!0,disabled:!0});I=new U.h(new U.z(i,
[935,120,42,38]),{x:T.width-50,y:-5,padding:[0,0,0,5],onclick:function(){TiltChrome.BrowserOverlay.e(!0,!0);TiltChrome.BrowserOverlay.href=l}});K=new U.h(new U.z(i,[935,80,46,38]),{x:T.width-150,y:-5,padding:[0,0,0,5],onclick:function(){var b=T.width*0.5+197,c=T.height*0.5-218;ra.N(T.width*0.5-305,T.height*0.5-305);ta.N(b,c);a.mf(d)}.bind(this)});M=new U.h(new U.z(i,[935,40,61,38]),{x:T.width-215,y:-5,padding:[0,0,0,5],onclick:function(){var a=U.ca.get("folderPicker.string"),b=U.ca.get("webpageFilename.string");
if(a=U.va.Qf(a,"folder"))a.reveal(),this.o.lf(a.path,b)}.bind(this)});q=new U.h(new U.z(i,[935,0,66,38]),{x:T.width-285,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){U.ha.alert("Tilt",U.ca.get("implement.info"))}.bind(this)});L=new U.h(new U.z(i,[935,200,48,38]),{x:T.width-337,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){this.o.be()}.bind(this)});z=new U.h(new U.z(i,[935,160,36,38]),{x:T.width-377,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){this.o.Gf()}.bind(this)});G=new U.h(new U.z(i,[935,
240,84,38]),{x:T.width-465,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){this.o.Xb()}.bind(this)});E=new U.h(new U.z(i,[0,147,42,42]),{x:0,y:-5,padding:[6,6,6,6],onclick:function(){window.clearInterval(this.O);this.Xc=0;this.O=window.setInterval(function(){this.Xc++;this.ia.translate(h.view.j?-5:5,0);this.Xc>=20&&window.clearInterval(this.O)}.bind(this),1E3/60);c.j^=1;h.view.j^=1;if(!d.j)d.j=!0;if(!f.j)f.j=!0}.bind(this)});R=new U.z(i,[0,0,145,145],{x:0,y:0});W=new U.h(l,{x:50,y:4,width:45,height:30,
onmousedown:function(){window.clearInterval(this.O);this.O=window.setInterval(function(){this.ia.translate(0,-5);a.T||window.clearInterval(this.O)}.bind(this),1E3/60)}.bind(this)});V=new U.h(l,{x:50,y:110,width:45,height:30,onmousedown:function(){window.clearInterval(this.O);this.O=window.setInterval(function(){this.ia.translate(0,5);a.T||window.clearInterval(this.O)}.bind(this),1E3/60)}.bind(this)});S=new U.h(l,{x:4,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.O);this.O=
window.setInterval(function(){this.ia.translate(-5,0);a.T||window.clearInterval(this.O)}.bind(this),1E3/60)}.bind(this)});aa=new U.h(l,{x:110,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.O);this.O=window.setInterval(function(){this.ia.translate(5,0);a.T||window.clearInterval(this.O)}.bind(this),1E3/60)}.bind(this)});P=new U.h(new U.z(i,[0,190,42,42]),{x:50,y:135,padding:[6,6,6,6],onclick:function(){this.ia.reset(0.95)}.bind(this)});ia=new U.h(new U.z(i,[0,234,42,42]),{x:90,
y:P.t(),padding:[6,6,6,6],onclick:function(){this.ia.zoom(200)}.bind(this)});fa=new U.h(new U.z(i,[0,278,42,42]),{x:10,y:P.t(),padding:[6,6,6,6],onclick:function(){this.ia.zoom(-200)}.bind(this)});k=new U.z(i,[1,365,88,353],{x:0,y:292,disabled:!0});h=new U.yd({x:85,y:300,width:130,height:T.height-310,background:"#0001",ae:[0,Math.MAX_VALUE],top:new U.z(i,[506,69,33,30],{padding:[2,2,2,4]}),bottom:new U.z(i,[506,102,33,30],{padding:[2,2,2,4]}),reset:new U.z(i,[506,134,33,30],{padding:[2,4,2,2]})});
m=new U.h(l,{x:5,y:301,width:14,height:14,fill:TiltChrome.d.b.f.html.fill,onclick:function(){O(TiltChrome.d.b.f.html,m)}});t=new U.h(l,{x:5,y:m.t()+20,width:14,height:14,fill:TiltChrome.d.b.f["head/body"].fill,onclick:function(){O(TiltChrome.d.b.f["head/body"],t)}});v=new U.h(l,{x:5,y:t.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.title.fill,onclick:function(){O(TiltChrome.d.b.f.title,v)}});x=new U.h(l,{x:5,y:v.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.style.fill,onclick:function(){O(TiltChrome.d.b.f.style,
x)}});A=new U.h(l,{x:5,y:x.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.script.fill,onclick:function(){O(TiltChrome.d.b.f.script,A)}});w=new U.h(l,{x:5,y:A.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.div.fill,onclick:function(){O(TiltChrome.d.b.f.div,w)}});B=new U.h(l,{x:5,y:w.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.span.fill,onclick:function(){O(TiltChrome.d.b.f.span,B)}});p=new U.h(l,{x:5,y:B.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.table.fill,onclick:function(){O(TiltChrome.d.b.f.table,
p)}});o=new U.h(l,{x:5,y:p.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.tr.fill,onclick:function(){O(TiltChrome.d.b.f.tr,o)}});u=new U.h(l,{x:5,y:o.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.td.fill,onclick:function(){O(TiltChrome.d.b.f.td,u)}});r=new U.h(l,{x:5,y:u.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.ul.fill,onclick:function(){O(TiltChrome.d.b.f.ul,r)}});s=new U.h(l,{x:5,y:r.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.li.fill,onclick:function(){O(TiltChrome.d.b.f.li,s)}});
y=new U.h(l,{x:5,y:s.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.p.fill,onclick:function(){O(TiltChrome.d.b.f.p,y)}});C=new U.h(l,{x:5,y:y.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.a.fill,onclick:function(){O(TiltChrome.d.b.f.a,C)}});n=new U.h(l,{x:5,y:C.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.img.fill,onclick:function(){O(TiltChrome.d.b.f.img,n)}});D=new U.h(l,{x:5,y:n.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.iframe.fill,onclick:function(){O(TiltChrome.d.b.f.iframe,D)}});
F=new U.h(l,{x:5,y:D.t()+20,width:14,height:14,fill:TiltChrome.d.b.f.other.fill,onclick:function(){O(TiltChrome.d.b.f.other,F)}});var O=function(a,b){this.le=a;this.ke=b;var c=U.i.xa(a.fill),c=U.i.Bf(c[0]*255,c[1]*255,c[2]*255);TiltChrome.BrowserOverlay.L.refresh(c[0]*360,c[1]*100,c[2]*100);TiltChrome.BrowserOverlay.L.B.openPopup(l,l,200+b.X(),80+b.t())}.bind(this),Ga=new U.z(i,[438,67,66,66]),Da=new U.z(i,[438,0,66,66]);X=new U.h(Da,{x:39,y:170,padding:[12,10,12,12],onclick:function(){X.type!==1?
(X.type=1,X.de(Ga),J.Q(TiltChrome.d.b.I.Va.ob.value),H.Q(TiltChrome.d.b.I.Va.sb.value),da.Q(TiltChrome.d.b.I.Va.ib.value),ea.Q(TiltChrome.d.b.I.Va.gb.value),ja.Q(TiltChrome.d.b.I.Va.vb.value),ga(),this.o.ce(TiltChrome.d.b.I.Va.Ub.outline)):(X.type=0,X.de(Da),J.Q(TiltChrome.d.b.I.Oa.ob.value),H.Q(TiltChrome.d.b.I.Oa.sb.value),da.Q(TiltChrome.d.b.I.Oa.ib.value),ea.Q(TiltChrome.d.b.I.Oa.gb.value),ja.Q(TiltChrome.d.b.I.Oa.vb.value),ga(),this.o.ce(TiltChrome.d.b.I.Oa.Ub.outline))}.bind(this)});ma=new U.h(new U.z(i,
[505,0,66,66]),{x:39,y:230,padding:[12,10,14,16],onclick:function(){f.j^=1;this.o.w()}.bind(this)});var ha=new U.z(i,[574,131,29,29],{padding:[8,8,8,8]});J=new U.Da(ha,{x:64,y:12,size:120,value:TiltChrome.d.b.I.rb.ob.value,onmousedown:function(){ga()}});H=new U.Da(ha,{x:J.X(),y:J.t()+19,size:120,value:TiltChrome.d.b.I.rb.sb.value,onmousedown:function(){ga()}});da=new U.Da(ha,{x:J.X(),y:H.t()+18,size:120,value:TiltChrome.d.b.I.rb.ib.value,onmousedown:function(){ga()}});ea=new U.Da(ha,{x:J.X(),y:da.t()+
18,size:120,value:TiltChrome.d.b.I.rb.gb.value,onmousedown:function(){ga()}});ja=new U.Da(ha,{x:J.X(),y:ea.t()+18,size:120,value:TiltChrome.d.b.I.rb.vb.value,onmousedown:function(){ga()}});var ga=function(){window.clearInterval(this.hd);this.hd=window.setInterval(function(){var b=U.i.We(J.U*0.01,H.U*0.01,da.U*0.01),c=ja.U*0.01;b[0]/=255;b[1]/=255;b[2]/=255;b[3]=ea.U*0.01;this.o.Hf(b);this.o.If(c);a.T||window.clearInterval(this.hd)}.bind(this),1E3/60)}.bind(this),ha=new U.z(i,[572,1,231,126],{disabled:!0});
f=new U.oa({x:77,y:239,j:!0,elements:[ha,J,H,da,ea,ja]});ra=new U.z(i,[210,180,610,510],{disabled:!0});ta=new U.h(l,{width:30,height:30,onclick:function(){a.Je(d)}.bind(this)});d=new U.oa({j:!0,background:"#0107",elements:[ra,ta]});b.push(j,I,E);c.push(K,M,q,L,z,G,P,ia,fa,R,W,V,S,aa,X,ma,k,m,t,v,x,A,w,B,p,o,u,r,s,y,C,n,D,F)};this.F=function(){a.F()};this.Wd=function(){L.j=!1;z.j=!1;G.j=!1};this.Vd=function(){L.j=!0;z.j=!0;G.j=!0};this.qg=ba();this.Xd=function(){var a=TiltChrome.BrowserOverlay.L.Ma.contentDocument.colorPicked;
this.le.fill=a;this.ke.Yb(a);this.Ec();this.o.Yd()};this.Pd=function(a,b,c,d){if("undefined"===typeof this.ee)this.ee=0;if(!("undefined"===typeof a.localName||a.localName===l)){var c=this.ee++,f=3+b*6,b=3+c*10,i,j,k,m;k=U.i.G(a.localName.length,4,10);var c=U.i.G(a.id.length,4,10),n=U.i.G(a.className.length,4,10),p=f+k*10+3,W=p+c*2+3,f=new U.h(l,{x:f,y:b,width:k*10,height:7,padding:[-1,-1,-1,-1],stroke:TiltChrome.d.b.f.Uf.stroke});k=f.X()+f.Ka();m=f.t()+f.vc()*2;a.id&&(i=new U.h(l,{x:p,y:b,width:c*
2,height:7,padding:[-1,-1,-1,-1],stroke:f.lc}),k=Math.max(k,i.X()+i.Ka()));a.className&&(j=new U.h(l,{x:W,y:b,width:n*2,height:7,padding:[-1,-1,-1,-1],stroke:f.lc}),k=Math.max(k,j.X()+j.Ka()));k>h.view.Ka()&&h.view.Tc(k);h.bottom=m;if(f)h.view.push(f),f.localName=a.localName,f.onclick=function(){a.localName==="img"||a.localName==="input"||a.localName==="button"||a.localName==="meta"||a.localName==="link"||a.localName==="style"||a.localName==="script"||a.localName==="noscript"?this.o.Xb():this.o.be();
this.o.Qa(d)}.bind(this);if(i)h.view.push(i),i.Yb(f.Db),i.localName=a.localName,i.onclick=function(){this.o.Xb();this.o.Qa(d)}.bind(this);if(j)h.view.push(j),j.Yb(f.Db),j.localName=a.localName,j.onclick=function(){this.o.Xb();this.o.Qa(d)}.bind(this)}};this.Ec=function(){h.view.forEach(function(a){a.Yb((TiltChrome.d.b.f[a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body"]||TiltChrome.d.b.f.other).fill)})};this.qa=function(a,b){j.Y(a,b);h.view.Sc(b-310);I.fa(a-50);K.fa(a-150);M.fa(a-
215);q.fa(a-285);L.fa(a-337);z.fa(a-377);G.fa(a-465)};this.e=function(){a=this.ia=this.o=l;b!==l&&(b.e(),b=l);c!==l&&(c.e(),c=l);d!==l&&(d.e(),d=l);f!==l&&(f.e(),f=l);h!==l&&(h.e(),h=l);i!==l&&(i.e(),i=l);j!==l&&(j.e(),j=l);ta=ra=ja=ea=da=H=J=ma=X=fa=ia=P=aa=S=V=W=R=E=z=L=G=q=M=K=I=F=D=n=C=y=u=o=p=B=w=A=x=v=t=m=k=l;U.H(this)};U.r.v("TiltChrome.UI",this)};TiltChrome=TiltChrome||{};
TiltChrome.Mb=function(a,b,c){var d=new U.oc(a,{Pa:function(){TiltChrome.BrowserOverlay.e(!0,!0);TiltChrome.BrowserOverlay.href=l;U.ha.alert("Firefox",U.ca.get("initWebGL.error"));gBrowser.selectedTab=gBrowser.addTab("http://get.webgl.org/troubleshooting/")}}),f=l,h=l,i=l,j=l,k=l,m=-1,t="#fff",v="000",x=Y(),A=Y(),w=Y(),B=Y(),p={Z:Y(),rotation:ka()},o=!0,u=!0,r=!0,s=function(){if(d&&d.u)k=new U.Lb(TiltChrome.ba.Mb.yb,TiltChrome.ba.Mb.mb),C(),n(),I(),p.Z=[0,0,0],p.rotation=[0,0,0,1],window.setTimeout(function(){E();
R()}.bind(this),100)}.bind(this),y=function(){if(d&&d.u){d.loop(y);u&&(u=!1,D());r&&(r=!1,F());if(o){o=!1;d.clear(0,0,0,1);d.translate(d.width*0.5+100,d.height*0.5-50,-450);d.translate(p.Z[0],p.Z[1],p.Z[2]);d.transform(Ea(p.rotation));d.Ad("alpha");d.tb(2);i.F();j.F();if(m!==-1){var a=U.i.rf,f=i.J,h=i.R.S,k=i.la.S,n=m*30,q=[h[k[n+1]*3],h[k[n+1]*3+1],h[k[n+1]*3+2]],s=[h[k[n+2]*3],h[k[n+2]*3+1],h[k[n+2]*3+2]],z=[h[k[n+5]*3],h[k[n+5]*3+1],h[k[n+5]*3+2]];a([h[k[n]*3],h[k[n]*3+1],h[k[n]*3+2]],l,f,l,x);
a(q,l,f,l,A);a(s,l,f,l,w);a(z,l,f,l,B);d.Oc();d.pa(!1);d.fill(t);d.stroke(v);d.tb(3);d.sf(x,A,w,B)}c&&"function"===typeof c.F&&c.F(d.lb)}b&&"function"===typeof b.update&&b.update(d.lb);(d.Fd+1)%1E3===0&&TiltChrome.BrowserOverlay.Vb()}}.bind(this),C=function(){if("undefined"!==typeof b)b.o=this,"function"===typeof b.init&&b.init(a)}.bind(this),n=function(){if("undefined"!==typeof c)c.o=this,c.ia=b,U.b.w=this.w,"function"===typeof c.init&&c.init(a)}.bind(this),D=function(){var a=this.ue;"undefined"===
typeof a||a===l?(f=U.nc.qc.Ze(window.content),h!==l&&h.e(),h=new U.Ea(f,{fill:"white",stroke:"#aaa",tb:8,nf:!0})):(U.nc.qc.vf(window.content,f,a),h.Xf(f,a.left,a.top));if(i!==l)i.ub=h}.bind(this),F=function(){if(d&&d.u){var a=[],b=[],f=[],n=[],m=[],p=[];i!==l&&i.e();j!==l&&j.e();U.K.fe(function(i,j,k,q,o,r){c&&"function"===typeof c.Pd&&c.Pd(i,j,0,q);k={innerHTML:i.innerHTML,attributes:i.attributes,localName:i.localName,className:i.className,id:i.id,wb:q};try{k.style=window.getComputedStyle(i)}catch(s){k.style=
""}i.localName==="head"||i.localName==="title"||i.localName==="meta"||i.localName==="link"||i.localName==="style"||i.localName==="script"||i.localName==="noscript"||i.localName==="option"?(k.index=-1,p.push(k)):(i=U.K.wc(i),i.width>4&&i.height>4?(k.index=m.length,m.push(k),k=a.length/3,j=j*15+Math.random()*0.1,o=i.x-d.width/2+o+Math.random()*0.1,r=i.y-d.height/2+r+Math.random()*0.1,q=i.width,i=i.height,a.push(o,r,j,o+q,r,j,o+q,r+i,j,o,r+i,j,o,r+i,j-15,o+q,r+i,j-15,o+q,r+i,j,o,r+i,j,o,r,j,o+q,r,j,
o+q,r,j-15,o,r,j-15),b.push((o+d.width*0.5)/h.width,(r+d.height*0.5)/h.height,(o+d.width*0.5+q)/h.width,(r+d.height*0.5)/h.height,(o+d.width*0.5+q)/h.width,(r+d.height*0.5+i)/h.height,(o+d.width*0.5)/h.width,(r+d.height*0.5+i)/h.height,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1),f.push(k+0,k+1,k+2,k+0,k+2,k+3,k+4,k+5,k+6,k+4,k+6,k+7,k+8,k+9,k+10,k+8,k+10,k+11,k+10,k+9,k+6,k+10,k+6,k+5,k+8,k+11,k+4,k+8,k+4,k+7),n.push(k+0,k+1,k+1,k+2,k+2,k+3,k+3,k+0,k+4,k+5,k+5,k+6,k+6,k+7,k+7,k+4,k+8,k+9,k+9,
k+10,k+10,k+11,k+11,k+8,k+10,k+9,k+9,k+6,k+6,k+5,k+5,k+10)):(k.index=-1,p.push(k)))}.bind(this),function(){c&&"undefined"!==c.Ec&&c.Ec()}.bind(this),!0);i=new U.Kb({R:new U.W(a,3),Sa:new U.W(b,2),la:new U.fb(f),na:[1,1,1,0.85],alpha:1,ub:h,Wc:m,Ve:p,F:function(){var a=U.aa,b=this.R,c=this.Sa,d=this.color,f=this.la,i=this.na,h=this.alpha,j=this.ub,n=this.Ob,m=k;m.Vc();m.Ga("vertexPosition",b);m.Ga("vertexTexCoord",c);m.Ga("vertexColor",d);m.Fa("mvMatrix",a.J);m.Fa("projMatrix",a.ea);m.rc("tint",i);
m.Ce("alpha",h);m.bindTexture("sampler",j);a.Ed(n,f);this.J=$(a.J);this.ea=$(a.ea)}});j=new U.Kb({R:i.R,la:new U.fb(n),color:"#0004",Ob:d.LINES});this.Yd()}}.bind(this),I=function(){var a=gBrowser.tabContainer,b=gBrowser.contentWindow,c=TiltChrome.BrowserOverlay.D.B,d=TiltChrome.BrowserOverlay.L.B;window.addEventListener("MozAfterPaint",K,!0);a.addEventListener("TabClose",z,!1);a.addEventListener("TabAttrModified",z,!1);b.addEventListener("resize",E,!1);gBrowser.addEventListener("mouseover",R,!1);
c.addEventListener("popupshown",M,!1);c.addEventListener("popuphidden",q,!1);d.addEventListener("popupshown",G,!1);d.addEventListener("popuphidden",L,!1)}.bind(this),K=function(b){b=b.boundingClientRect;b.top>a.offsetTop&&b.left>a.offsetLeft&&b.width>4&&b.height>4&&this.yf(b)}.bind(this),M=function(){"function"===typeof c.Wd&&c.Wd();this.w()}.bind(this),q=function(){"function"===typeof c.Vd&&c.Vd();m=-1;TiltChrome.BrowserOverlay.Vb();this.w()}.bind(this),G=function(){this.w()}.bind(this),L=function(){"function"===
typeof c.Xd&&c.Xd();m=-1;TiltChrome.BrowserOverlay.Vb();this.w()}.bind(this),z=function(){if(TiltChrome.BrowserOverlay.href!==window.content.location.href)TiltChrome.BrowserOverlay.href=l,TiltChrome.BrowserOverlay.e(!0,!0)}.bind(this),E=function(){this.w();d.width=window.content.innerWidth;d.height=window.content.innerHeight;b&&"function"===typeof b.qa&&b.qa(d.width,d.height);c&&"function"===typeof c.qa&&c.qa(d.width,d.height);"open"===TiltChrome.BrowserOverlay.D.B.state&&TiltChrome.BrowserOverlay.D.B.hidePopup();
"open"===TiltChrome.BrowserOverlay.L.B.state&&TiltChrome.BrowserOverlay.L.B.hidePopup()}.bind(this),R=function(){this.w();if(a.width!==d.width||a.height!==d.height)a.width=d.width,a.height=d.height,d.u.viewport(0,0,a.width,a.height),y()}.bind(this);this.w=function(){o=!0};this.yf=function(a){this.ue=a;u=o=!0};this.xg=function(){r=o=!0};this.lf=function(a,b){U.va.Cf(f,a+U.va.separator+b+".png");i.save(a,b)};this.Yd=function(){this.w();for(var a=i.Wc,b=[],c=0,d=i.la.S.length;c<d;c+=30){var f=a[Math.floor(c/
30)],h=U.i.xa((TiltChrome.d.b.f[f.localName!=="head"&&f.localName!=="body"?f.localName:"head/body"]||TiltChrome.d.b.f.other).fill),f=[U.i.G(h[0]*0.6,0,1),U.i.G(h[1]*0.6,0,1),U.i.G(h[2]*0.6,0,1)],h=[U.i.G(h[0]*1,0,1),U.i.G(h[1]*1,0,1),U.i.G(h[2]*1,0,1)];b.push(0,0,0,0,0,0,0,0,0,0,0,0,f[0],f[1],f[2],f[0],f[1],f[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],f[0],f[1],f[2],f[0],f[1],f[2])}i.color=new U.W(b,3)};this.kf=function(a,b){this.Zd(a,b,{Nc:function(a){"open"===TiltChrome.BrowserOverlay.D.B.state&&
TiltChrome.BrowserOverlay.D.B.hidePopup();var b=a[0].Ud,a=b.index,b=b.localName!=="head"&&b.localName!=="body"?b.localName:"head/body",c=TiltChrome.d.b.f[b]||TiltChrome.d.b.f.other;b!=="html"&&(m=a,t=c.fill+"55",v=c.fill+"AA")}.bind(this),Pa:function(){"open"===TiltChrome.BrowserOverlay.D.B.state&&TiltChrome.BrowserOverlay.D.B.hidePopup();m=-1}})};this.jf=function(a,b){this.Zd(a,b,{Nc:function(a){this.Qa(a[0].Ud)}.bind(this),Pa:function(){"open"===TiltChrome.BrowserOverlay.D.B.state&&TiltChrome.BrowserOverlay.D.B.hidePopup()}})};
this.Zd=function(a,b,c){for(var c=c||{},a=U.i.Ge([a,b,0],[a,b,1],[0,0,d.width,d.height],i.J,i.ea),b=[],f=Y(),h=i.la.S,j=i.R.S,k=0,m=h.length,n,o,p;k<m;k+=3)n=[j[h[k]*3],j[h[k]*3+1],j[h[k]*3+2]],o=[j[h[k+1]*3],j[h[k+1]*3+1],j[h[k+1]*3+2]],p=[j[h[k+2]*3],j[h[k+2]*3+1],j[h[k+2]*3+2]],U.i.bf(n,o,p,a,f)>0&&b.push({Ud:i.Wc[Math.floor(k/30)],location:Y(f)});b.length>0?(b.sort(function(a,b){return a.location[2]<b.location[2]?1:-1}),"function"===typeof c.Nc&&c.Nc(b)):"function"===typeof c.Pa&&c.Pa();this.w()};
this.Qa=function(a){if("number"===typeof a){for(var b=i.Wc,c=i.Ve,d=0,f=b.length;d<f;d++){var h=b[d];if(a===h.wb){this.Qa(h);return}}b=0;for(d=c.length;b<d;b++)if(f=c[b],a===f.wb){this.Qa(f);break}}else if("object"===typeof a){var c=TiltChrome.BrowserOverlay.D.B,b=U.zd.trim(va(a.innerHTML).replace(/</g,"&lt;").replace(/>/g,"&gt;"))+"\n",d=U.K.Qe(a.style),f=U.K.Oe(a.attributes),h=document.getElementById("tilt-sourceeditor-iframe"),j=h.contentDocument.getElementById("code");document.getElementById("tilt-sourceeditor-title").value=
"<"+a.localName+(a.className?' class="'+a.className+'"':"")+(a.id?' id="'+a.id+'"':"")+">";c.openPopup(l,"overlap",window.innerWidth-h.width-21,window.innerHeight-h.height-77,!1,!1);j.Xe=b;j.He=d;j.Ae=f;a.localName==="img"||a.localName==="input"||a.localName==="button"||j.Qb==="attr"?(j.innerHTML=f,h.contentWindow.refreshCodeEditor("css")):j.Qb==="css"?(j.innerHTML=d,h.contentWindow.refreshCodeEditor("css")):(j.innerHTML=b,h.contentWindow.refreshCodeEditor("html"));c=a.index;a=a.localName!=="head"&&
a.localName!=="body"?a.localName:"head/body";b=TiltChrome.d.b.f[a]||TiltChrome.d.b.f.other;a!=="html"&&(m=c,t=b.fill+"55",v=b.fill+"AA",this.w())}};this.be=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.Xe;b.Qb="html";a.contentWindow.refreshCodeEditor("html")};this.Gf=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.He;b.Qb="css";a.contentWindow.refreshCodeEditor("css")};
this.Xb=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.Ae;b.Qb="attr";a.contentWindow.refreshCodeEditor("css")};this.Lf=function(a){var b=a[1],c=a[2];if(p.Z[0]!=a[0]||p.Z[1]!=b||p.Z[2]!=c)b=p.Z,b[0]=a[0],b[1]=a[1],b[2]=a[2],this.w()};this.Jf=function(a){var b=a[1],c=a[2],d=a[3];if(p.rotation[0]!=a[0]||p.rotation[1]!=b||p.rotation[2]!=c||p.rotation[3]!=d)pa(a,p.rotation),this.w()};this.ce=function(a){j.color=a;this.w()};
this.Cg=function(a){j.color[3]=a;this.w()};this.Hf=function(a){i.na=a;this.w()};this.Bg=function(a){i.na[3]=a;this.w()};this.If=function(a){i.alpha=a;this.w()};this.e=function(){var k=gBrowser.tabContainer,m=gBrowser.contentWindow,o=TiltChrome.BrowserOverlay.D.B,r=TiltChrome.BrowserOverlay.L.B;K!==l&&(window.removeEventListener("MozAfterPaint",K,!1),K=l);z!==l&&(k.removeEventListener("TabClose",z,!1),k.removeEventListener("TabAttrModified",z,!1),z=l);E!==l&&(m.removeEventListener("resize",E,!1),E=
l);R!==l&&(gBrowser.removeEventListener("mouseover",R,!1),R=l);M!==l&&(o.removeEventListener("popupshown",M,!1),M=l);q!==l&&(o.removeEventListener("popuphidden",q,!1),q=l);G!==l&&(r.removeEventListener("popupshown",G,!1),G=l);L!==l&&(r.removeEventListener("popuphidden",L,!1),L=l);b&&"function"===typeof b.e&&(b.e(a),b=l);c&&"function"===typeof c.e&&(c.e(a),c=l);h!==l&&(h.e(),h=l);i!==l&&(i.e(),i=l);j!==l&&(j.e(),j=l);if(p!==l)p.rotation=l,p=p.Z=l;d!==l&&(d.e(),d=l);n=C=I=F=y=s=a=f=l;U.H(this)};U.r.v("TiltChrome.Visualization",
this);s.call(this);y.call(this)};TiltChrome=TiltChrome||{};TiltChrome.ba={};TiltChrome.ba.Mb={yb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nattribute vec3 vertexColor;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n  color = vertexColor;\n}",mb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 tint;\nuniform float alpha;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  if (texCoord.s < 0.0) {\n    gl_FragColor = vec4(color.r, color.g, color.b, tint.a);\n  }\n  else {\n    vec4 texture = texture2D(sampler, texCoord);\n    if (texture.a == 0.0) {\n       gl_FragColor = tint;\n    }\n    else {\n      gl_FragColor = tint * texture * alpha + tint * (1.0 - alpha);\n    }\n  }\n}"};
