'use strict';var f=void 0,k=null;function ba(){return function(){}}function da(a){return function(b){this[a]=b}}function M(a){return function(){return this[a]}}var P,TiltChrome=TiltChrome||{};
TiltChrome.BrowserOverlay={href:k,canvas:k,n:k,C:k,J:k,initialize:function(){this.d(!0);if(this.href===window.content.location.href)this.href=k;else{this.href=window.content.location.href;this.C={A:document.getElementById("tilt-sourceeditor"),title:document.getElementById("tilt-sourceeditor-title"),Na:document.getElementById("tilt-sourceeditor-iframe")};this.J={A:document.getElementById("tilt-colorpicker"),Na:document.getElementById("tilt-colorpicker-iframe")};this.C.refresh=this.C.Na.contentWindow.refreshCodeEditor;
this.J.refresh=this.J.Na.contentWindow.refreshColorPicker;gBrowser.selectedBrowser.markupDocumentViewer.fullZoom=1;var a=window.content.innerWidth,b=window.content.innerHeight;Q.H.mb=document.getElementById("tilt-iframe").contentDocument;Q.H.Ia=gBrowser.selectedBrowser.parentNode;this.canvas=Q.H.Pa(a,b,!0);this.n=new TiltChrome.Mb(this.canvas,new TiltChrome.ud.Ee,new TiltChrome.c.De)}},d:function(a,b){Q.H.mb=k;Q.H.Ia=k;if(this.canvas!==k)this.canvas.parentNode.removeChild(this.canvas),this.canvas=
k;var c=function(){if(this.n!==k)this.n.d(),this.n=k;if(this.C!==k)this.C.A.hidePopup(),this.C.A=k,this.C.title=k,this.C=this.C.Na=k;if(this.J!==k)this.J.A.hidePopup(),this.J.A=k,this.J=this.J.Na=k;Q.q.log();Q.q.reset();a&&window.setTimeout(this.tb,100)}.bind(this);b?window.setTimeout(c,100):c()},tb:function(){window.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci.nsIDOMWindowUtils).garbageCollect()}};var Q=Q||{};
Q.rd=function(a,b,c){Q.q.u("Tilt.Arcball",this);this.bb=[0,0];this.Gb=[0,0];this.Fb=[0,0];this.fd=[0,0];this.Ca=-1;this.Da=0;this.Lf=-3E3;this.Kf=500;this.Mf=1;this.ec=[];this.md=W();this.ve=W();this.xe=W();this.fc=ka([0,0,0,1]);this.$c=ka([0,0,0,1]);this.ac=ka([0,0,0,1]);this.dd=W();this.ad=W();this.Zc=W();this.zb=[0,0];this.Ab=[0,0];this.se=ka([0,0,0,1]);this.te=W();this.pa(a,b,c)};
Q.rd.prototype={loop:function(a){var a=Q.h.G((a||25)*0.01,0.01,0.99),b,c,d=this.hd,g=this.o,h=this.j,i=this.bb,j=this.Gb,m=this.Fb;c=this.fd;var l=this.Ca,q=this.Da,s=this.ec,x=this.md,y=this.ve,v=this.xe,C=this.fc,p=this.$c,r=this.ac,w=this.dd,t=this.ad,u=this.Zc,z=this.zb,B=this.Ab,n=this.se,D=this.te;c[0]+=(m[0]-c[0])*a;c[1]+=(m[1]-c[1])*a;b=c[0];c=c[1];if(l===3||b===j[0]&&c===j[1])this.jd=!1;l===1||this.jd?(this.jd=!0,this.be(b,c,g,h,d,y),ma(x,y,v),Z(v)>0?(p[0]=v[0],p[1]=v[1],p[2]=v[2],p[3]=-oa(x,
y)):(p[0]=0,p[1]=0,p[2]=0,p[3]=1),pa(C,p,r)):qa(r,C);l===3?(t[0]=m[0]-i[0],t[1]=m[1]-i[1],u[0]=w[0]+t[0],u[1]=w[1]+t[1]):(w[0]=u[0],w[1]=u[1]);t[2]=(q-u[2])*0.1;u[2]+=t[2];s[65]&&(z[0]-=a*0.2);s[68]&&(z[0]+=a*0.2);s[87]&&(z[1]+=a*0.2);s[83]&&(z[1]-=a*0.2);s[37]&&(B[0]+=a*50);s[39]&&(B[0]-=a*50);s[38]&&(B[1]+=a*50);s[40]&&(B[1]-=a*50);n[0]+=(z[0]-n[0])*a;n[1]+=(z[1]-n[1])*a;D[0]+=(B[0]-D[0])*a;D[1]+=(B[1]-D[1])*a;Q.h.Bf(n[0],n[1],0,p);t[0]=D[0];t[1]=D[1];t[2]=0;return{rotation:pa(p,r),ea:ra(t,u)}},
Fc:function(a,b,c){this.Ya();this.bb[0]=a;this.bb[1]=b;this.Ca=c;this.ic();this.be(a,b,this.o,this.j,this.hd,this.md);qa(this.ac,this.fc)},Jc:function(a,b){this.Gb[0]=a;this.Gb[1]=b;this.Ca=-1},Gc:function(a,b){this.Ca!==-1&&(this.Fb[0]=a,this.Fb[1]=b)},Hc:function(){this.Ca=-1},Ic:function(a){var b=this.Mf,c=this.Lf,d=this.Kf;this.Ya();this.Da=Q.h.G(this.Da-a*b,c,d)},Bc:function(a){this.Ya();this.ec[a]=!0},Cc:function(a){this.ec[a]=!1},be:function(a,b,c,d,g,h){a=(a-c*0.5)/g;b=(b-d*0.5)/g;c=0;c=a*
a+b*b;c>1?(c=1/Math.sqrt(c),h[0]=a*c,h[1]=b*c,h[2]=0):(h[0]=a,h[1]=b,h[2]=Math.sqrt(1-c))},pa:function(a,b,c){this.o=a;this.j=b;this.hd="undefined"!==typeof c?c:b;this.ic()},translate:function(a,b){this.Ab[0]+=a;this.Ab[1]+=b},rotate:function(a,b){this.zb[0]+=a;this.zb[1]+=b},zoom:function(a){this.Da+=a},stop:function(){this.Ya();this.ic();this.Ca=-1},reset:function(a){var b=this.Da,c=this.fc,d=this.$c,g=this.ac,h=this.dd,i=this.ad,j=this.Zc,m=this.zb,l=this.Ab;this.Ce(function(){c[0]*=-1;c[1]*=-1;
c[2]*=-1;sa(c,c,1-a);sa(d,c,1-a);sa(g,c,1-a);va(h,a);va(i,a);va(j,a);m[0]*=a;m[1]*=a;l[0]*=a;l[1]*=a;this.Da*=a;Z(c)<1.0E-4&&Z(d)<1.0E-4&&Z(g)<1.0E-4&&Z(h)<0.01&&Z(i)<0.01&&Z(j)<0.01&&Z([m[0],m[1],b])<0.01&&Z([l[0],l[1],b])<0.01&&this.Ya()}.bind(this),1E3/60)},Ce:function(a,b){if("undefined"===typeof this.Cb)this.Cb=window.setInterval(a,b)},Ya:function(){"undefined"!==typeof this.Cb&&(window.clearInterval(this.Cb),delete this.Cb)},ic:function(){var a=this.Fb,b=this.Gb,c=this.fd,d=this.bb[0],g=this.bb[1];
a[0]=d;a[1]=g;b[0]=d;b[1]=g;c[0]=d;c[1]=g},d:function(){this.stop();Q.D(this)}};Q=Q||{};Q.U=function(a,b,c){Q.q.u("Tilt.VertexBuffer",this);this.Q=this.m=k;this.aa=this.Tb=0;"undefined"!==typeof a&&this.zc(a,b,c)};Q.U.prototype={zc:function(a,b,c){var d=Q.B;"undefined"===typeof c&&(c=a.length/b);this.Q=new Float32Array(a);this.m=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.m);d.bufferData(d.ARRAY_BUFFER,this.Q,d.STATIC_DRAW);this.Tb=b;this.aa=c},d:function(){Q.B.deleteBuffer(this.m);Q.D(this)}};
Q.hb=function(a,b){Q.q.u("Tilt.IndexBuffer",this);this.Q=this.m=k;this.aa=this.Tb=0;"undefined"!==typeof a&&this.zc(a,b)};Q.hb.prototype={zc:function(a,b){var c=Q.B;if("undefined"===typeof b)b=a.length;this.Q=new Uint16Array(a);this.m=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.m);c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.Q,c.STATIC_DRAW);this.Tb=1;this.aa=b},d:function(){Q.B.deleteBuffer(this.m);Q.D(this)}};Q=Q||{};Q.B=k;Q.Y=k;Q.$b=-1;Q.cc=-1;Q.Eb={};
Q.rc=function(){Q.B=k;Q.Y=k;Q.$b=-1;Q.cc=-1;Q.Eb={};Q.xd.Za=0;Q.oc.Za=0};Q=Q||{};Q.D=function(a){for(var b in a)try{"function"===typeof a[b].d&&a[b].d()}catch(c){}finally{a[b]=k,delete a[b]}};Q=Q||{};
Q.q={enabled:!1,va:[],u:function(a,b,c,d,g,h){var i,j,m;if(this.enabled)if(c){if("undefined"===typeof d&&(d=this.Ie.bind(this)),"undefined"===typeof g&&(g=this.Ge.bind(this)),"undefined"===typeof h&&(h=this.Se.bind(this)),i=b[c],"function"===typeof i)j=this.va.length,this.va[j]={name:(a+"."||"")+c,lb:0,jb:0,xa:0,Va:0},b[c]=function(){try{return d(j),h(b,i,arguments)}finally{g(j)}}}else for(m in b)"function"===typeof b[m]&&this.u(a,b,m,d,g,h)},Ie:function(a){if("undefined"!==typeof this.va[a])this.va[a].currentTime=
(new Date).getTime()},Ge:function(a){a=this.va[a];if("undefined"!==typeof a){var b=(new Date).getTime()-a.currentTime;a.lb++;a.xa=Math.max(a.xa,b);a.jb=(a.xa+b)*0.5;a.Va+=b}},Se:function(a,b,c){return c.length===0?b.call(a):b.apply(a,c)},log:function(){var a=this.va.slice(0),b,c,d,g;a.sort(function(a,b){return a.Va<b.Va?1:-1});for(b=0;b<a.length;b++){d=a[b];for(c=b+1;c<a.length;c++)if(g=a[c],d.name===g.name)d.lb+=g.lb,d.xa=Math.max(d.xa,g.xa),d.jb=(d.jb+g.jb)*0.5,d.Va+=g.Va,a.splice(c,1),c--;d.lb!==
0&&Q.fa.log("function "+d.name+"\ncalls    "+d.lb+"\naverage  "+d.jb+"ms\nlongest  "+d.xa+"ms\ntotal    "+d.Va+"ms")}},reset:function(){this.va=[]}};Q=Q||{};Q.Lb=function(a,b){Q.q.u("Tilt.Program",this);this.m=k;this.ab=-1;this.gb=this.sa=k;this.Bb={};this.od={};arguments.length===2&&this.gf(a,b)};
Q.Lb.prototype={gf:function(a,b){this.m=Q.xd.create(a,b);this.ab=this.m.id;this.sa=this.m.attributes;this.gb=this.m.Wa;delete this.m.id;delete this.m.attributes;delete this.m.Wa},Wc:function(){var a=this.ab,b;if(Q.$b!==a&&(Q.$b=a,a=Q.B,a.useProgram(this.m),this.Le(),Q.cc<this.sa.length))for(b in Q.cc=this.sa.length,this.sa)this.sa.hasOwnProperty(b)&&b!=="length"&&a.enableVertexAttribArray(this.sa[b])},Ha:function(a,b){var c=Q.B,d=this.sa[a],g=b.Tb;c.bindBuffer(c.ARRAY_BUFFER,b.m);c.vertexAttribPointer(d,
g,c.FLOAT,!1,0,0)},Ga:function(a,b){var c=this.Bb,d=(b[0]+b[1]+b[2])*(b[4]+b[5]+b[6])*(b[8]+b[9]+b[10])*(b[12]+b[13]+b[14]);c[a]!==d&&(c[a]=d,Q.B.uniformMatrix4fv(this.gb[a],!1,b))},qc:function(a,b){var c=this.Bb,d=b[3]*255<<24|b[0]*255<<16|b[1]*255<<8|b[2]*255;c[a]!==d&&(c[a]=d,Q.B.uniform4fv(this.gb[a],b))},Je:function(a,b){var c=this.Bb;c[a]!==b&&(c[a]=b,Q.B.uniform1f(this.gb[a],b))},bindTexture:function(a,b){var c=this.od,d=b.ab;if(c[a]!==d)c[a]=d,c=Q.B,c.bindTexture(c.TEXTURE_2D,b.m),c.uniform1i(this.gb[a],
0)},Le:function(){this.od={}},rc:function(){this.Bb={}},d:function(){try{Q.B.deleteShader(this.m)}catch(a){}Q.D(this)}};Q=Q||{};
Q.xd={create:function(a,b){var c=this.compile(a,"x-shader/x-vertex"),d=this.compile(b,"x-shader/x-fragment");return this.link(c,d)},compile:function(a,b){var c=Q.B,d;if("string"!==typeof a||a.length<1)return Q.fa.error(Q.$.get("compileShader.source.error")),k;if(b==="x-shader/x-vertex")d=c.createShader(c.VERTEX_SHADER);else if(b==="x-shader/x-fragment")d=c.createShader(c.FRAGMENT_SHADER);else return Q.fa.error(Q.$.tc("compileShader.type.error"),[a]),k;c.shaderSource(d,a);c.compileShader(d);d.src=
a;return!c.getShaderParameter(d,c.COMPILE_STATUS)?(c=c.getShaderInfoLog(d),Q.fa.error(Q.$.tc("compileShader.compile.error"),[c]),k):d},link:function(a,b){var c=Q.B,d;d=c.createProgram();c.attachShader(d,a);c.attachShader(d,b);c.linkProgram(d);if(!c.getProgramParameter(d,c.LINK_STATUS))return d=c.getProgramInfoLog(d),Q.fa.error(Q.$.tc("linkProgram.error",[d])),k;d.id=this.Za++;c=[a.src,b.src].join(" ").replace(/#.*|[(){};,]/g," ").split(" ");return this.Vf(d,c)},Tf:function(a,b){return Q.B.getAttribLocation(a,
b)},Wf:function(a,b){return Q.B.getUniformLocation(a,b)},Uf:function(a,b){if("string"===typeof b){if(b.length<1)return k;var c;return(c=this.Tf(a,b))>=0?c:this.Wf(a,b)}return k},Vf:function(a,b){var c,d,g,h;a.attributes={};a.attributes.length=0;a.Wa={};a.Wa.length=0;for(c=0,d=b.length;c<d;c++)g=b[c],h=this.Uf(a,g),"number"===typeof h&&"undefined"===typeof a.attributes[g]&&(a.attributes[g]=h,a.attributes.length++),"object"===typeof h&&h instanceof WebGLUniformLocation&&"undefined"===typeof a.Wa[g]&&
(a.Wa[g]=h,a.Wa.length++);return a},Za:0};Q=Q||{};Q.Fa=function(a,b){Q.q.u("Tilt.Texture",this);b=b||{};this.m=k;this.height=this.width=this.ab=-1;this.loaded=!1;this.onload=b.onload;"object"===typeof a?this.Ld(a,b):"string"===typeof a?this.hf(a,b):Q.fa.error(Q.$.get("initTexture.source.error"))};
Q.Fa.prototype={Ld:function(a,b){this.m=Q.oc.create(a,b);this.ab=this.m.id;this.width=this.m.width;this.height=this.m.height;this.loaded=!0;if("function"===typeof this.onload)this.onload();delete this.m.id;delete this.m.width;delete this.m.height;delete this.onload},hf:function(a,b){var c=new Image;c.src=a;c.onload=function(){this.Ld(c,b);b=c=k}.bind(this)},dg:function(a,b,c){var d=Q.B,g=d.getParameter(d.TEXTURE_BINDING_2D);d.bindTexture(d.TEXTURE_2D,this.m);d.texSubImage2D(d.TEXTURE_2D,0,b,c,d.RGBA,
d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,g)},d:function(){try{Q.B.deleteTexture(this.m)}catch(a){}Q.D(this)}};Q=Q||{};
Q.oc={create:function(a,b){b=b||{};if("undefined"!==typeof Q.Eb[a.src])return Q.Eb[a.src];var c=Q.B,d=Q.oc.Gf(a,b),g=c.getParameter(c.TEXTURE_BINDING_2D),h=a.width,i=a.height,j=c.createTexture();c.bindTexture(c.TEXTURE_2D,j);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d);j.width=h;j.height=i;j.id=this.Za++;this.Rf(b);c.bindTexture(c.TEXTURE_2D,g);"undefined"!==typeof a.src&&(Q.Eb[a.src]=j);return j},Rf:function(a){var b=Q.B,c=b.TEXTURE_MIN_FILTER,d=b.TEXTURE_MAG_FILTER,g=b.TEXTURE_WRAP_S,
h=b.TEXTURE_WRAP_T,a=a||{};a.Ua&&b.bindTexture(b.TEXTURE_2D,a.Ua.Dg);"nearest"===a.Sd?b.texParameteri(b.TEXTURE_2D,c,b.NEAREST):"linear"===a.Sd&&a.Td?b.texParameteri(b.TEXTURE_2D,c,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,c,b.LINEAR);"nearest"===a.Pd?b.texParameteri(b.TEXTURE_2D,d,b.NEAREST):"linear"===a.Pd&&a.Td?b.texParameteri(b.TEXTURE_2D,d,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,d,b.LINEAR);"repeat"===a.Ng?b.texParameteri(b.TEXTURE_2D,g,b.REPEAT):b.texParameteri(b.TEXTURE_2D,
g,b.CLAMP_TO_EDGE);"repeat"===a.Og?b.texParameteri(b.TEXTURE_2D,h,b.REPEAT):b.texParameteri(b.TEXTURE_2D,h,b.CLAMP_TO_EDGE);a.Td&&b.generateMipmap(b.TEXTURE_2D)},Gf:function(a,b){var b=b||{},c=(a.src||"").indexOf("chrome://"),d=Q.h.Md(a.width),g=Q.h.Md(a.height);if(b.vf||d&&g&&c===-1)try{return a}finally{b=a=k}c=Q.H.Pa(Q.h.Vd(a.width),Q.h.Vd(a.height));d=c.getContext("2d");if(b.fill)d.fillStyle=b.fill,d.fillRect(0,0,c.width,c.height);d.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);if(b.stroke)d.strokeStyle=
b.stroke,d.lineWidth=b.za,d.strokeRect(0,0,c.width,c.height);return c},Kg:function(a){Q.B.pixelStorei(Q.B.UNPACK_FLIP_Y_WEBGL,a)},Za:0};
function wa(a){var b={indent_size:2,indent_char:" ",max_char:78,brace_style:"collapse"},c,d,g,b=b||{};c=b.rb||2;d=b.Jd||" ";g=b.Nb||"collapse";b=new function(){this.K=0;this.Lg="";this.Ja="CONTENT";this.z={parent:"parent1",Ag:1,zg:""};this.Aa=this.Od=this.lf=this.Yb=this.da="";this.T={Zb:"\n\r\t ".split(""),Yf:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),Te:"head,body,/html".split(","),Oa:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;
return!1}};this.Ye=function(){for(var a="",b=[],c=!1;this.input.charAt(this.K)!=="<";){if(this.K>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.K);this.K++;this.N++;if(this.T.Oa(a,this.T.Zb))b.length&&(c=!0),this.N--;else{if(c){if(this.N>=this.Qd){b.push("\n");for(c=0;c<this.ha;c++)b.push(this.Rb);this.N=0}else b.push(" "),this.N++;c=!1}b.push(a)}}return b.length?b.join(""):""};this.Ze=function(){var a="",b=[],a=/<\/script>/igm;a.lastIndex=this.K;for(var c=(a=
a.exec(this.input))?a.index:this.input.length;this.K<c;){if(this.K>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.K);this.K++;b.push(a)}return b.length?b.join(""):""};this.Qc=function(a){this.z[a+"count"]?this.z[a+"count"]++:this.z[a+"count"]=1;this.z[a+this.z[a+"count"]]=this.ha;this.z[a+this.z[a+"count"]+"parent"]=this.z.parent;this.z.parent=a+this.z[a+"count"]};this.Hf=function(a){if(this.z[a+"count"]){for(var b=this.z.parent;b;){if(a+this.z[a+"count"]===b)break;
b=this.z[b+"parent"]}if(b)this.ha=this.z[a+this.z[a+"count"]],this.z.parent=this.z[b+"parent"];delete this.z[a+this.z[a+"count"]+"parent"];delete this.z[a+this.z[a+"count"]];this.z[a+"count"]==1?delete this.z[a+"count"]:this.z[a+"count"]--}};this.$e=function(){var a="",b=[],c=!1;do{if(this.K>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.K);this.K++;this.N++;if(this.T.Oa(a,this.T.Zb))c=!0,this.N--;else{if(a==="'"||a==='"')if(!b[1]||b[1]!=="!")a+=this.pb(a),c=
!0;a==="="&&(c=!1);if(b.length&&b[b.length-1]!=="="&&a!==">"&&c)this.N>=this.Qd?(this.Sa(!1,b),this.N=0):(b.push(" "),this.N++),c=!1;b.push(a)}}while(a!==">");a=b.join("");c=a.substring(1,a.indexOf(" ")!=-1?a.indexOf(" "):a.indexOf(">")).toLowerCase();a.charAt(a.length-2)==="/"||this.T.Oa(c,this.T.Yf)?this.da="SINGLE":c==="script"?(this.Qc(c),this.da="SCRIPT"):c==="style"?(this.Qc(c),this.da="STYLE"):c==="a"?(a=this.pb("</a>",a),b.push(a),this.da="SINGLE"):c.charAt(0)==="!"?c.indexOf("[if")!=-1?(a.indexOf("!IE")!=
-1&&(a=this.pb("--\>",a),b.push(a)),this.da="START"):c.indexOf("[endif")!=-1?(this.da="END",this.cg()):(a=c.indexOf("[cdata[")!=-1?this.pb("]]\>",a):this.pb("--\>",a),b.push(a),this.da="SINGLE"):(c.charAt(0)==="/"?(this.Hf(c.substring(1)),this.da="END"):(this.Qc(c),this.da="START"),this.T.Oa(c,this.T.Te)&&this.Sa(!0,this.ya));return b.join("")};this.pb=function(a,b){if(b&&b.indexOf(a)!=-1)return"";var c="",d="",g=!0;do{if(this.K>=this.input.length)break;c=this.input.charAt(this.K);this.K++;if(this.T.Oa(c,
this.T.Zb)){if(!g){this.N--;continue}if(c==="\n"||c==="\r"){d+="\n";for(c=0;c<this.ha;c++)d+=this.Rb;g=!1;this.N=0;continue}}d+=c;this.N++;g=!0}while(d.indexOf(a)==-1);return d};this.af=function(){var a;if(this.Od==="TK_TAG_SCRIPT"){a=this.Ze();if(typeof a!=="string")return a;a=xa(a,{indent_size:this.rb,indent_char:this.Kd,indent_level:this.ha,brace_style:this.Nb});return[a.replace(/^[\t ]+/,""),"TK_CONTENT"]}if(this.Ja==="CONTENT")return a=this.Ye(),typeof a!=="string"?a:[a,"TK_CONTENT"];if(this.Ja===
"TAG")return a=this.$e(),typeof a!=="string"?a:[a,"TK_TAG_"+this.da]};this.yf=function(a,b,c,d){this.input=a||"";this.ya=[];this.Kd=b;this.Rb="";this.rb=c;this.Nb=d;this.ha=0;this.Qd=80;for(a=this.N=0;a<this.rb;a++)this.Rb+=this.Kd;this.Sa=function(a,b){this.N=0;if(b&&b.length){if(!a)for(;this.T.Oa(b[b.length-1],this.T.Zb);)b.pop();b.push("\n");for(var c=0;c<this.ha;c++)b.push(this.Rb)}};this.Vb=function(a){this.ya.push(a)};this.ef=function(){this.ha++};this.cg=function(){this.ha>0&&this.ha--}};return this};
for(b.yf(a,d,c,g);;){a=b.af();b.Aa=a[0];b.Yb=a[1];if(b.Yb==="TK_EOF")break;switch(b.Yb){case "TK_TAG_START":case "TK_TAG_SCRIPT":case "TK_TAG_STYLE":b.Sa(!1,b.ya);b.Vb(b.Aa);b.ef();b.Ja="CONTENT";break;case "TK_TAG_END":b.Sa(!0,b.ya);b.Vb(b.Aa);b.Ja="CONTENT";break;case "TK_TAG_SINGLE":b.Sa(!1,b.ya);b.Vb(b.Aa);b.Ja="CONTENT";break;case "TK_CONTENT":b.Aa!==""&&(b.Sa(!1,b.ya),b.Vb(b.Aa)),b.Ja="TAG"}b.Od=b.Yb;b.lf=b.Aa}return b.ya.join("")}
function xa(a,b){function c(a){for(a=typeof a==="undefined"?!1:a;r.length&&(r[r.length-1]===" "||r[r.length-1]===E||r[r.length-1]===aa||a&&(r[r.length-1]==="\n"||r[r.length-1]==="\r"));)r.pop()}function d(a){return a.replace(/^\s\s*|\s\s*$/,"")}function g(){var a=N;N=!1;h();N=a}function h(a){n.Pb=!1;if(!N||!q(n.mode))if(a=typeof a==="undefined"?!0:a,n.Ma=!1,c(),r.length){if(r[r.length-1]!=="\n"||!a)U=!0,r.push("\n");aa&&r.push(aa);for(a=0;a<n.ia;a+=1)r.push(E);n.X&&n.qa&&(ca===" "?r.push("    "):
r.push(E))}}function i(){if(n.Pb)n.Pb=!1;else{var a=" ";r.length&&(a=r[r.length-1]);a!==" "&&a!=="\n"&&a!==E&&r.push(" ")}}function j(){U=!1;n.Pb=!1;r.push(w)}function m(){r.length&&r[r.length-1]===E&&r.pop()}function l(a){n&&D.push(n);n={xf:n?n.mode:"BLOCK",mode:a,X:!1,ra:!1,qa:!1,yc:!1,Ma:!1,xc:!1,Pb:!1,Sb:-1,ia:n?n.ia+(n.X&&n.qa?1:0):0,Vc:0}}function q(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"}function s(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"||a==="(EXPRESSION)"}
function x(){V=n.mode==="DO_BLOCK";D.length>0&&(n=D.pop())}function y(a){for(var b=0;b<a.length;b++)if(d(a[b])[0]!="*")return!1;return!0}function v(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function C(){R=0;if(o>=G)return["","TK_EOF"];X=!1;var a=p.charAt(o);o+=1;if(N&&q(n.mode)){for(var b=0;v(a,H);){a==="\n"?(c(),r.push("\n"),U=!0,b=0):a==="\t"?b+=4:a!=="\r"&&(b+=1);if(o>=G)return["","TK_EOF"];a=p.charAt(o);o+=1}if(n.Sb===-1)n.Sb=b;if(U){var g;for(g=0;g<n.ia+1;g+=1)r.push(E);
if(n.Sb!==-1)for(g=0;g<b-n.Sb;g++)r.push(" ")}}else{for(;v(a,H);){a==="\n"&&(R+=ja?R<=ja?1:0:1);if(o>=G)return["","TK_EOF"];a=p.charAt(o);o+=1}if(ea&&R>1)for(g=0;g<R;g+=1)h(g===0),U=!0;X=R>0}if(v(a,K)){if(o<G)for(;v(p.charAt(o),K);)if(a+=p.charAt(o),o+=1,o===G)break;if(o!==G&&a.match(/^[0-9]+[Ee]$/)&&(p.charAt(o)==="-"||p.charAt(o)==="+"))return b=p.charAt(o),o+=1,g=C(),a+=b+g[0],[a,"TK_WORD"];if(a==="in")return[a,"TK_OPERATOR"];X&&t!=="TK_OPERATOR"&&t!=="TK_EQUALS"&&!n.Ma&&(ea||u!=="var")&&h();return[a,
"TK_WORD"]}if(a==="("||a==="[")return[a,"TK_START_EXPR"];if(a===")"||a==="]")return[a,"TK_END_EXPR"];if(a==="{")return[a,"TK_START_BLOCK"];if(a==="}")return[a,"TK_END_BLOCK"];if(a===";")return[a,"TK_SEMICOLON"];if(a==="/"){b="";g=!0;if(p.charAt(o)==="*"){o+=1;if(o<G)for(;!(p.charAt(o)==="*"&&p.charAt(o+1)&&p.charAt(o+1)==="/")&&o<G;){a=p.charAt(o);b+=a;if(a==="\r"||a==="\n")g=!1;o+=1;if(o>=G)break}o+=2;return g?["/*"+b+"*/","TK_INLINE_COMMENT"]:["/*"+b+"*/","TK_BLOCK_COMMENT"]}if(p.charAt(o)==="/"){for(b=
a;p.charAt(o)!=="\r"&&p.charAt(o)!=="\n";)if(b+=p.charAt(o),o+=1,o>=G)break;o+=1;X&&h();return[b,"TK_COMMENT"]}}if(a==="'"||a==='"'||a==="/"&&(t==="TK_WORD"&&v(u,["return","do"])||t==="TK_COMMENT"||t==="TK_START_EXPR"||t==="TK_START_BLOCK"||t==="TK_END_BLOCK"||t==="TK_OPERATOR"||t==="TK_EQUALS"||t==="TK_EOF"||t==="TK_SEMICOLON")){b=a;g=!1;var i=a;if(o<G)if(b==="/")for(a=!1;g||a||p.charAt(o)!==b;){if(i+=p.charAt(o),g?g=!1:(g=p.charAt(o)==="\\",p.charAt(o)==="["?a=!0:p.charAt(o)==="]"&&(a=!1)),o+=1,
o>=G)return[i,"TK_STRING"]}else for(;g||p.charAt(o)!==b;)if(i+=p.charAt(o),g=g?!1:p.charAt(o)==="\\",o+=1,o>=G)return[i,"TK_STRING"];o+=1;i+=b;if(b==="/")for(;o<G&&v(p.charAt(o),K);)i+=p.charAt(o),o+=1;return[i,"TK_STRING"]}if(a==="#"){if(r.length===0&&p.charAt(o)==="!"){for(i=a;o<G&&a!="\n";)a=p.charAt(o),i+=a,o+=1;r.push(d(i)+"\n");h();return C()}b="#";if(o<G&&v(p.charAt(o),J)){do a=p.charAt(o),b+=a,o+=1;while(o<G&&a!=="#"&&a!=="=");a!=="#"&&(p.charAt(o)==="["&&p.charAt(o+1)==="]"?(b+="[]",o+=2):
p.charAt(o)==="{"&&p.charAt(o+1)==="}"&&(b+="{}",o+=2));return[b,"TK_WORD"]}}if(a==="<"&&p.substring(o-1,o+3)==="<\!--")return o+=3,n.yc=!0,["<\!--","TK_COMMENT"];if(a==="-"&&n.yc&&p.substring(o-1,o+2)==="--\>")return n.yc=!1,o+=2,X&&h(),["--\>","TK_COMMENT"];if(v(a,L)){for(;o<G&&v(a+p.charAt(o),L);)if(a+=p.charAt(o),o+=1,o>=G)break;return a==="="?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}var p,r,w,t,u,z,B,n,D,E,H,K,L,o,I,J,A,F,V,X,U,R,aa="",b=b?b:{},S;if(b.Zf!==f&&b.Ac===f)b.Ac=b.Zf;
b.Ke!==f&&(S=b.Ke?"expand":"collapse");S=b.Nb?b.Nb:S?S:"collapse";B=b.rb?b.rb:2;var ca=b.Jd?b.Jd:" ",ea=typeof b.wf==="undefined"?!0:b.wf,ja=typeof b.mf==="undefined"?!1:b.mf,Y=b.Ac==="undefined"?!1:b.Ac,N=typeof b.kf==="undefined"?!1:b.kf;U=!1;var G=a.length;for(E="";B>0;)E+=ca,B-=1;for(;a&&(a[0]===" "||a[0]==="\t");)aa+=a[0],a=a.substring(1);p=a;B="";t="TK_START_EXPR";z=u="";r=[];V=!1;H="\n\r\t ".split("");K="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");J="0123456789".split("");
L="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");I="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(",");D=[];l("BLOCK");for(o=0;;){F=C();w=F[0];F=F[1];if(F==="TK_EOF")break;switch(F){case "TK_START_EXPR":if(w==="["){if(t==="TK_WORD"||u===")"){v(u,I)&&i();l("(EXPRESSION)");j();break}if(n.mode==="[EXPRESSION]"||n.mode==="[INDENTED-EXPRESSION]")if(z==="]"&&u===","){if(n.mode==="[EXPRESSION]")n.mode=
"[INDENTED-EXPRESSION]",N||(n.ia+=1);l("[EXPRESSION]");N||h()}else if(u==="["){if(n.mode==="[EXPRESSION]")n.mode="[INDENTED-EXPRESSION]",N||(n.ia+=1);l("[EXPRESSION]");N||h()}else l("[EXPRESSION]");else l("[EXPRESSION]")}else l("(EXPRESSION)");u===";"||t==="TK_START_BLOCK"?h():t==="TK_END_EXPR"||t==="TK_START_EXPR"||t==="TK_END_BLOCK"||u==="."||(t!=="TK_WORD"&&t!=="TK_OPERATOR"?i():B==="function"||B==="typeof"?Y&&i():(v(u,I)||u==="catch")&&i());j();break;case "TK_END_EXPR":if(w==="]")if(N){if(u===
"}"){m();j();x();break}}else if(n.mode==="[INDENTED-EXPRESSION]"&&u==="]"){x();h();j();break}x();j();break;case "TK_START_BLOCK":B==="do"?l("DO_BLOCK"):l("BLOCK");S=="expand"?(t!=="TK_OPERATOR"&&(u==="return"||u==="="?i():h(!0)),j(),n.ia+=1):(t!=="TK_OPERATOR"&&t!=="TK_START_EXPR"?t==="TK_START_BLOCK"?h():i():q(n.xf)&&u===","&&(z==="}"?i():h()),n.ia+=1,j());break;case "TK_END_BLOCK":x();S=="expand"?u!=="{"&&h():t==="TK_START_BLOCK"?U?m():c():q(n.mode)&&N?(N=!1,h(),N=!0):h();j();break;case "TK_WORD":if(V){i();
j();i();V=!1;break}if(w==="function"){if(n.X)n.qa=!0;if((U||u===";")&&u!=="{"){R=U?R:0;ea||(R=1);for(A=0;A<2-R;A++)h(!1)}}if(w==="case"||w==="default"){u===":"?m():(n.ia--,h(),n.ia++);j();n.xc=!0;break}A="NONE";t==="TK_END_BLOCK"?v(w.toLowerCase(),["else","catch","finally"])?S=="expand"||S=="end-expand"?A="NEWLINE":(A="SPACE",i()):A="NEWLINE":t==="TK_SEMICOLON"&&(n.mode==="BLOCK"||n.mode==="DO_BLOCK")?A="NEWLINE":t==="TK_SEMICOLON"&&s(n.mode)?A="SPACE":t==="TK_STRING"?A="NEWLINE":t==="TK_WORD"?(u===
"else"&&c(!0),A="SPACE"):t==="TK_START_BLOCK"?A="NEWLINE":t==="TK_END_EXPR"&&(i(),A="NEWLINE");v(w,I)&&u!==")"&&(A=u=="else"?"SPACE":"NEWLINE");if(n.Ma&&t==="TK_END_EXPR")n.Ma=!1;if(v(w.toLowerCase(),["else","catch","finally"]))t!=="TK_END_BLOCK"||S=="expand"||S=="end-expand"?h():(c(!0),i());else if(A==="NEWLINE"){if(!((t==="TK_START_EXPR"||u==="="||u===",")&&w==="function"))if(w==="function"&&u=="new")i();else if(u==="return"||u==="throw")i();else if(t!=="TK_END_EXPR"){if((t!=="TK_START_EXPR"||w!==
"var")&&u!==":")w==="if"&&B==="else"&&u!=="{"?i():(n.X=!1,n.qa=!1,h())}else if(v(w,I)&&u!=")")n.X=!1,n.qa=!1,h()}else q(n.mode)&&u===","&&z==="}"?h():A==="SPACE"&&i();j();B=w;if(w==="var")n.X=!0,n.qa=!1,n.ra=!1;if(w==="if")n.Ma=!0;if(w==="else")n.Ma=!1;break;case "TK_SEMICOLON":j();n.X=!1;n.qa=!1;if(n.mode=="OBJECT")n.mode="BLOCK";break;case "TK_STRING":t==="TK_START_BLOCK"||t==="TK_END_BLOCK"||t==="TK_SEMICOLON"?h():t==="TK_WORD"&&i();j();break;case "TK_EQUALS":if(n.X)n.ra=!0;i();j();i();break;case "TK_OPERATOR":A=
z=!0;if(n.X&&w===","&&s(n.mode))n.ra=!1;if(n.X&&w===",")if(n.ra){j();n.qa=!0;n.ra=!1;h();break}else n.ra=!1;if(u==="return"||u==="throw"){i();j();break}if(w===":"&&n.xc){j();h();n.xc=!1;break}if(w==="::"){j();break}if(w===","){n.X?n.ra?(j(),h(),n.ra=!1):(j(),i()):t==="TK_END_BLOCK"&&n.mode!=="(EXPRESSION)"?(j(),n.mode==="OBJECT"&&u==="}"?h():i()):n.mode==="OBJECT"?(j(),h()):(j(),i());break}else v(w,["--","++","!"])||v(w,["-","+"])&&(v(t,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||
v(u,I))?(A=z=!1,u===";"&&s(n.mode)&&(z=!0),t==="TK_WORD"&&v(u,I)&&(z=!0),n.mode==="BLOCK"&&(u==="{"||u===";")&&h()):w==="."?z=!1:w===":"?n.Vc==0?(n.mode="OBJECT",z=!1):n.Vc-=1:w==="?"&&(n.Vc+=1);z&&i();j();A&&i();break;case "TK_BLOCK_COMMENT":z=w.split(/\x0a|\x0d\x0a/);if(y(z.slice(1))){h();r.push(z[0]);for(A=1;A<z.length;A++)h(),r.push(" "),r.push(d(z[A]))}else{z.length>1?(h(),c()):i();for(A=0;A<z.length;A++)r.push(z[A]),r.push("\n")}h();break;case "TK_INLINE_COMMENT":i();j();s(n.mode)?i():g();break;
case "TK_COMMENT":X?h():i();j();g();break;case "TK_UNKNOWN":(u==="return"||u==="throw")&&i(),j()}z=u;t=F;u=w}return aa+r.join("").replace(/[\n ]+$/,"")}if(typeof exports!=="undefined")exports.qg=xa;var ya;ya=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;function W(a){var b=new ya(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}
function ra(a,b,c){if(!c||a==c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c}function za(a,b,c){if(!c||a==c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c}function va(a,b){a[0]*=b;a[1]*=b;a[2]*=b;return a}function ma(a,b,c){c||(c=a);var d=a[0],g=a[1],a=a[2],h=b[0],i=b[1],b=b[2];c[0]=g*b-a*i;c[1]=a*h-d*b;c[2]=d*i-g*h}function Z(a){var b=a[0],c=a[1],a=a[2];return Math.sqrt(b*b+c*c+a*a)}
function oa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function $(a){var b=new ya(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}function Aa(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function Ba(a,b,c){c||(c=a);var d=a[0],g=a[1],h=a[2],i=a[3],j=a[4],m=a[5],l=a[6],q=a[7],s=a[8],x=a[9],y=a[10],v=a[11],C=a[12],p=a[13],r=a[14],a=a[15],w=b[0],t=b[1],u=b[2],z=b[3],B=b[4],n=b[5],D=b[6],E=b[7],H=b[8],K=b[9],L=b[10],o=b[11],I=b[12],J=b[13],A=b[14],b=b[15];c[0]=w*d+t*j+u*s+z*C;c[1]=w*g+t*m+u*x+z*p;c[2]=w*h+t*l+u*y+z*r;c[3]=w*i+t*q+u*v+z*a;c[4]=B*d+n*j+D*s+E*C;c[5]=B*g+n*m+D*x+E*p;c[6]=B*h+n*l+D*y+E*r;c[7]=B*i+n*q+D*v+E*a;c[8]=H*d+K*j+L*s+o*C;c[9]=H*g+K*m+L*x+o*p;c[10]=H*h+K*l+L*y+o*r;c[11]=
H*i+K*q+L*v+o*a;c[12]=I*d+J*j+A*s+b*C;c[13]=I*g+J*m+A*x+b*p;c[14]=I*h+J*l+A*y+b*r;c[15]=I*i+J*q+A*v+b*a}function Ca(a,b,c){c||(c=b);var d=b[0],g=b[1],h=b[2],b=b[3];c[0]=a[0]*d+a[4]*g+a[8]*h+a[12]*b;c[1]=a[1]*d+a[5]*g+a[9]*h+a[13]*b;c[2]=a[2]*d+a[6]*g+a[10]*h+a[14]*b;c[3]=a[3]*d+a[7]*g+a[11]*h+a[15]*b}function Da(a,b){var c=b[0],d=b[1],g=b[2];a[12]=a[0]*c+a[4]*d+a[8]*g+a[12];a[13]=a[1]*c+a[5]*d+a[9]*g+a[13];a[14]=a[2]*c+a[6]*d+a[10]*g+a[14];a[15]=a[3]*c+a[7]*d+a[11]*g+a[15]}
function ka(a){var b=new ya(4);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]);return b}function qa(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]}function pa(a,b,c){c||(c=a);var d=a[0],g=a[1],h=a[2],a=a[3],i=b[0],j=b[1],m=b[2],b=b[3];c[0]=d*b+a*i+g*m-h*j;c[1]=g*b+a*j+h*i-d*m;c[2]=h*b+a*m+d*j-g*i;c[3]=a*b-d*i-g*j-h*m;return c}
function Fa(a){var b;b||(b=$());var c=a[0],d=a[1],g=a[2],h=a[3],i=c+c,j=d+d,m=g+g,a=c*i,l=c*j;c*=m;var q=d*j;d*=m;g*=m;i*=h;j*=h;h*=m;b[0]=1-(q+g);b[1]=l-h;b[2]=c+j;b[3]=0;b[4]=l+h;b[5]=1-(a+g);b[6]=d-i;b[7]=0;b[8]=c-j;b[9]=d+i;b[10]=1-(a+q);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}
function sa(a,b,c){var d;d||(d=a);var g=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];if(Math.abs(g)>=1)d!=a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]);else{var h=Math.acos(g),i=Math.sqrt(1-g*g);Math.abs(i)<0.0010?(d[0]=a[0]*0.5+b[0]*0.5,d[1]=a[1]*0.5+b[1]*0.5,d[2]=a[2]*0.5+b[2]*0.5,d[3]=a[3]*0.5+b[3]*0.5):(g=Math.sin((1-c)*h)/i,c=Math.sin(c*h)/i,d[0]=a[0]*g+b[0]*c,d[1]=a[1]*g+b[1]*c,d[2]=a[2]*g+b[2]*c,d[3]=a[3]*g+b[3]*c)}}var Ga;Ga||(Ga={});
(function(){function a(a){return a<10?"0"+a:a}function b(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var b=j[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var g,j,y,v,C=h,p,r=d[a];r&&typeof r==="object"&&typeof r.toJSON==="function"&&(r=r.toJSON(a));typeof m==="function"&&(r=m.call(d,a,r));switch(typeof r){case "string":return b(r);case "number":return isFinite(r)?String(r):"null";case "boolean":case "null":return String(r);
case "object":if(!r)return"null";h+=i;p=[];if(Object.prototype.toString.apply(r)==="[object Array]"){v=r.length;for(g=0;g<v;g+=1)p[g]=c(g,r)||"null";y=p.length===0?"[]":h?"[\n"+h+p.join(",\n"+h)+"\n"+C+"]":"["+p.join(",")+"]";h=C;return y}if(m&&typeof m==="object"){v=m.length;for(g=0;g<v;g+=1)typeof m[g]==="string"&&(j=m[g],(y=c(j,r))&&p.push(b(j)+(h?": ":":")+y))}else for(j in r)Object.prototype.hasOwnProperty.call(r,j)&&(y=c(j,r))&&p.push(b(j)+(h?": ":":")+y);y=p.length===0?"{}":h?"{\n"+h+p.join(",\n"+
h)+"\n"+C+"}":"{"+p.join(",")+"}";h=C;return y}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":k},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,i,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof Ga.stringify!=="function")Ga.stringify=function(a,b,d){var g;i=h="";if(typeof d==="number")for(g=0;g<d;g+=1)i+=" ";else typeof d==="string"&&(i=d);if((m=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return c("",
{"":a})};if(typeof Ga.parse!=="function")Ga.parse=function(a,b){function c(a,d){var g,h,i=a[d];if(i&&typeof i==="object")for(g in i)Object.prototype.hasOwnProperty.call(i,g)&&(h=c(i,g),h!==f?i[g]=h:delete i[g]);return b.call(a,d,i)}var g,a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),typeof b==="function"?c({"":g},""):g;throw new SyntaxError("JSON.parse");}})();Q=Q||{};
Q.vd=function(a,b,c){Q.q.u("Tilt.Cube",this);a=a||1;b=b||1;c=c||1;this.P=new Q.U([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,0.5*c,-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*
b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,-0.5*c],3);this.Ta=new Q.U([0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],2);this.ja=new Q.hb([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23])};Q.vd.prototype={d:function(){Q.D(this)}};Q=Q||{};
Q.wd=function(a,b,c){Q.q.u("Tilt.CubeWireframe",this);a=a||1;b=b||1;c=c||1;this.P=new Q.U([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c],3);this.ja=new Q.hb([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,5,1,4,2,7,3,6])};Q.wd.prototype={d:function(){Q.D(this)}};Q=Q||{};Q.yd=function(){Q.q.u("Tilt.Rectangle",this);this.P=new Q.U([0,0,1,0,0,1,1,1],2);this.Ta=new Q.U([0,0,1,0,0,1,1,1],2)};
Q.yd.prototype={d:function(){Q.D(this)}};Q=Q||{};Q.zd=function(){Q.q.u("Tilt.RectangleWireframe",this);this.P=new Q.U([0,0,1,0,1,1,0,1],2)};Q.zd.prototype={d:function(){Q.D(this)}};Q=Q||{};Q.Kb=function(a){Q.q.u("Tilt.Mesh",this);for(var b in a)this[b]!=="draw"&&(this[b]=a[b]);if("string"===typeof this.color)this.color=Q.h.wa(this.color);else if("undefined"===typeof this.color)this.color=[1,1,1,1];if("undefined"===typeof this.Ob)this.Ob=Q.Y.TRIANGLES;if("function"===typeof a.F)this.F=a.F};
Q.Kb.prototype={F:function(){var a=Q.Y,b=this.P,c=this.Ta,d=this.ja,g=this.color,h=this.Ua,i=this.Ob;h?a.je(b,c,g,h):a.xb(b,g);d?a.Gd(i,d):a.Ka(i,b.aa)},d:function(){Q.D(this)}};Q=Q||{};
Q.Kb.prototype.save=function(a,b){var c=[],d=[],g=this.P.Q,h=this.Ta.Q,i=this.ja.Q,j,m;c.push("mtllib "+b+".mtl","usemtl webpage");d.push("newmtl webpage","illum 2","Ka 1.000 1.000 1.000","Kd 1.000 1.000 1.000","Ks 0.000 0.000 0.000","map_Ka "+b+".png","map_Kd "+b+".png","map_Ks "+b+".png");for(j=0,m=g.length;j<m;j+=3)c.push("v "+g[j]/100+" "+g[j+1]/-100+" "+g[j+2]/100);for(j=0,m=h.length;j<m;j+=2)c.push("vt "+h[j]+" "+(1-h[j+1]));for(j=0,m=i.length;j<m;j+=3)c.push("f "+(i[j]+1)+"/"+(i[j]+1)+" "+
(i[j+1]+1)+"/"+(i[j+1]+1)+" "+(i[j+2]+1)+"/"+(i[j+2]+1));g=Q.ua.separator;Q.ua.save(c.join("\n"),a+g+b+".obj");Q.ua.save(d.join("\n"),a+g+b+".mtl")};Q=Q||{};
Q.nc=function(a,b){Q.q.u("Tilt.Renderer",this);b=b||{};this.canvas=a;this.t=this.Ed(a,{antialias:!0,stencil:!0});Q.rc();Q.B=this.t;Q.Y=this;if("undefined"!==typeof this.t&&this.t!==k){if(this.TRIANGLES=this.t.TRIANGLES,this.TRIANGLE_STRIP=this.t.TRIANGLE_STRIP,this.TRIANGLE_FAN=this.t.TRIANGLE_FAN,this.LINES=this.t.LINES,this.LINE_STRIP=this.t.LINE_STRIP,this.LINE_LOOP=this.t.LINE_LOOP,this.POINTS=this.t.POINTS,this.COLOR_BUFFER_BIT=this.t.COLOR_BUFFER_BIT,this.DEPTH_BUFFER_BIT=this.t.DEPTH_BUFFER_BIT,
this.STENCIL_BUFFER_BIT=this.t.STENCIL_BUFFER_BIT,this.t.clearColor(0,0,0,1),this.t.clearDepth(1),this.t.clearStencil(0),"function"===typeof b.onsuccess)b.onsuccess()}else if(Q.fa.log(Q.$.get("initWebGL.error")),"function"===typeof b.Qa){b.Qa();return}this.width=a.width;this.height=a.height;this.Lc=[];this.I=Aa($());this.ba=Aa($());this.pe=[0,0,0,0];this.qd=[1,1,1,1];this.dc=[1,1,1,1];this.Ib=[0,0,0,1];this.nd=1;this.Me=new Q.Lb(Q.Z.sd.yb,Q.Z.sd.ob);this.bg=new Q.Lb(Q.Z.Fa.yb,Q.Z.Fa.ob);this.hc=new Q.yd;
this.Ae=new Q.zd;this.fg=new Q.vd;this.gg=new Q.wd;this.gc=0;this.bc=k;this.nb=this.Ue=this.Hd=this.elapsedTime=0;this.origin();this.Nc();this.Fd()};
Q.nc.prototype={clear:function(a,b,c,d){var g=this.pe,h=this.t;if(g[0]!==a||g[1]!==b||g[2]!==c||g[3]!==d)g[0]=a,g[1]=b,g[2]=c,g[3]=d,h.clearColor(a,b,c,d),a*=255,b*=255,c*=255,d*=255,this.canvas.setAttribute("style",["background: rgba(",a,", ",b,", ",c,", ",d,"); width: 100%; height: 100%;"].join(""));h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},background:function(a){a="string"===typeof a?Q.h.wa(a):"undefined"===typeof a?[0,0,0,1]:"number"===typeof a?[a/255,a/255,a/255,1]:
[a[0]/255,a[1]/255,a[2]/255,a[3]/255];this.clear(a[0],a[1],a[2],a[3])},Nc:function(){var a=this.width,b=this.height,c=a/2,d=b/2,g=d/Math.tan(Q.h.Cf(45)/2),h=g/10,i=h*Math.tan(45*Math.PI/360),a=i*(a/b),b=-a,j=-i*-1;i*=-1;var m=g*10,l=this.ba;l||(l=$());var q=a-b,s=i-j,x=m-h;l[0]=h*2/q;l[1]=0;l[2]=0;l[3]=0;l[4]=0;l[5]=h*2/s;l[6]=0;l[7]=0;l[8]=(a+b)/q;l[9]=(i+j)/s;l[10]=-(m+h)/x;l[11]=-1;l[12]=0;l[13]=0;l[14]=-(m*h*2)/x;l[15]=0;Da(this.ba,[-c,-d,-g]);Aa(this.I);this.oa(!0)},qf:function(){var a=this.width,
b=this.height,c=this.ba;c||(c=$());var d=a-0,g=0-b;c[0]=2/d;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/g;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=-1.0E-6;c[11]=0;c[12]=-(0+a)/d;c[13]=-(0+b)/g;c[14]=0;c[15]=1;Da(this.ba,[0,0,-999999]);Aa(this.I);this.oa(!1)},Pc:function(){this.Lc.push($(this.I))},Oc:function(){if(this.Lc.length>0)this.I=this.Lc.pop()},origin:function(){Aa(this.I)},transform:function(a){Ba(this.I,a)},translate:function(a,b,c){Da(this.I,[a,b,c||0])},rotate:function(a,b,c,d){var g=this.I,d=[b,c,d],
h,b=d[0],c=d[1],d=d[2],i=Math.sqrt(b*b+c*c+d*d);if(i){i!=1&&(i=1/i,b*=i,c*=i,d*=i);var j=Math.sin(a),m=Math.cos(a),l=1-m,a=g[0],i=g[1],q=g[2],s=g[3],x=g[4],y=g[5],v=g[6],C=g[7],p=g[8],r=g[9],w=g[10],t=g[11],u=b*b*l+m,z=c*b*l+d*j,B=d*b*l-c*j,n=b*c*l-d*j,D=c*c*l+m,E=d*c*l+b*j,H=b*d*l+c*j,b=c*d*l-b*j,c=d*d*l+m;h?g!=h&&(h[12]=g[12],h[13]=g[13],h[14]=g[14],h[15]=g[15]):h=g;h[0]=a*u+x*z+p*B;h[1]=i*u+y*z+r*B;h[2]=q*u+v*z+w*B;h[3]=s*u+C*z+t*B;h[4]=a*n+x*D+p*E;h[5]=i*n+y*D+r*E;h[6]=q*n+v*D+w*E;h[7]=s*n+C*
D+t*E;h[8]=a*H+x*b+p*c;h[9]=i*H+y*b+r*c;h[10]=q*H+v*b+w*c;h[11]=s*H+C*b+t*c}},scale:function(a,b,c){var d=this.I,c=[a,b,c||0],a=c[0],b=c[1],c=c[2];d[0]*=a;d[1]*=a;d[2]*=a;d[3]*=a;d[4]*=b;d[5]*=b;d[6]*=b;d[7]*=b;d[8]*=c;d[9]*=c;d[10]*=c;d[11]*=c},la:function(a){this.qd=Q.h.wa(a)},fill:function(a){this.dc=Q.h.wa(a)},stroke:function(a){this.Ib=Q.h.wa(a)},of:function(){var a=this.Ib;a[0]=0;a[1]=0;a[2]=0;a[3]=0},za:function(a){if(this.nd!==a)this.nd=a,this.t.lineWidth(a)},Cd:function(a){var b=this.t;"alpha"===
a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA)):"add"===a||"additive"===a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE)):b.disable(b.BLEND)},oa:function(a){var b=this.t;a?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)},$f:function(a){var b=this.t;a?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST)},Fd:function(){this.la("#fff");this.fill("#fff");this.stroke("#000");this.za(1);this.oa(!0);this.$f(!1);this.Cd("alpha")},xb:function(a,b){var c=this.Me;c.Wc();c.Ha("vertexPosition",
a);c.Ga("mvMatrix",this.I);c.Ga("projMatrix",this.ba);c.qc("color",b)},je:function(a,b,c,d){var g=this.bg;g.Wc();g.Ha("vertexPosition",a);g.Ha("vertexTexCoord",b);g.Ga("mvMatrix",this.I);g.Ga("projMatrix",this.ba);g.qc("color",c);g.bindTexture("sampler",d)},Af:function(a,b,c,d){var g=this.dc,h=this.Ib,a=new Q.U([a[0],a[1],a[2],b[0],b[1],b[2],c[0],c[1],c[2],d[0],d[1],d[2]],3);g[3]&&(this.xb(a,g),this.Ka(this.TRIANGLE_FAN,a.aa));h[3]&&(this.xb(a,h),this.Ka(this.LINE_LOOP,a.aa));a.d()},rect:function(a,
b,c,d){var g=this.dc,h=this.Ib,i=this.hc.P,j=this.Ae.P;"center"===this.hc.Cg&&(a-=c/2,b-=d/2);this.Pc();this.translate(a,b,0);this.scale(c,d,1);g[3]&&(this.xb(i,g),this.Ka(this.TRIANGLE_STRIP,i.aa));h[3]&&(this.xb(j,h),this.Ka(this.LINE_LOOP,j.aa));this.Oc()},Id:function(a,b,c,d,g,h){if(a.loaded){var i=this.hc,j=this.qd,m=i.P,h=h||i.Ta;if("undefined"===typeof d||"undefined"===typeof g)d=a.width,g=a.height;"center"===i.og&&(b-=d*0.5,c-=g*0.5);j[3]&&(this.Pc(),this.translate(b,c,0),this.scale(d,g,1),
this.je(m,h,j,a),this.Ka(this.TRIANGLE_STRIP,m.aa),this.Oc())}},Ka:function(a,b){this.t.drawArrays(a,0,b)},Gd:function(a,b){var c=this.t;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.m);c.drawElements(a,b.aa,c.UNSIGNED_SHORT,0)},Ed:function(a,b){var c=["experimental-webgl","webgl","webkit-3d","moz-webgl"],d,g,h;for(g=0,h=c.length;g<h;++g){try{d=a.getContext(c[g],b)}catch(i){}if(d)break}return d},loop:function(a,b){window.Ff(a);this.Nc();this.Hd++;if(b){this.bc=(new Date).getTime();if(this.gc!==0)this.nb=
this.bc-this.gc,this.Ue=1E3/this.nb;this.gc=this.bc;this.elapsedTime+=this.nb}},d:function(){Q.rc();Q.D(this)}};window.Ff=window.Eg||window.Mg||window.ug||window.wg||window.vg||function(a){window.setTimeout(a,1E3/60)};Q=Q||{};Q.Z={};Q.Z.sd={yb:"attribute vec3 vertexPosition;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvoid main(void) {\n    gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n}",ob:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nvoid main(void) {\n    gl_FragColor = color;\n}"};
Q.Z.Fa={yb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n}",ob:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvoid main(void) {\n  vec4 texture = texture2D(sampler, texCoord);\n  gl_FragColor = color * texture;\n}"};
Q=Q||{};Q.na=function(a){Q.q.u("Tilt.Container",this);a=a||{};this.i=a.i||!1;this.disabled=a.disabled||!1;this.standby=a.standby||!1;this.oe=a.background||k;this.l=a.x||0;this.k=a.y||0;this.o=a.width||0;this.j=a.height||0;this.ta=a.xg||[0,0];a.elements instanceof Array&&a.elements.forEach(function(a){this.push(a)}.bind(this));Q.c.push(this)};Q.na.prototype=[];P=Q.na.prototype;P.L=function(a,b){this.l=a;this.k=b};P.W=function(a,b){this.o=a;this.j=b};P.ca=da("l");P.Tc=da("o");P.Sc=da("j");P.V=M("l");
P.s=M("k");P.La=M("o");P.uc=M("j");P.update=function(a,b){var c,d,g;for(d=0,g=this.length;d<g;d++)c=this[d],"function"===typeof c.update&&!c.i&&!c.disabled&&c.update(a,b)};
P.F=function(a,b){var b=b||Q.Y,c;c=this.oe;var d=this.l,g=this.k,h=this.o,i=this.j,j=this.ta,m=d+j[0],j=g+j[1],l,q,s,x,y,v,C,p,r,w;c!==k&&(b.fill(c),b.of(),b.rect(d,g,h||b.width,i||b.height));b.Pc();b.translate(m,j,0);for(r=0,w=this.length;r<w;r++)if(c=this[r],c.sc=!1,c.ye=d,c.ze=g,c.jg=h,c.ig=i,!c.i)if(h===0||i===0)c.F(a,b),c.sc=!0;else if(l=c.r||[1,1,1,1],q=l[0]+m,s=l[1]+j,x=l[2],y=l[3],l=q,v=s,q+=x,s+=y,x=d,y=g,C=d+h,p=g+i,l>x&&q<C&&v>y&&s<p)c.F(a,b),c.sc=!0;b.Oc()};
P.clear=function(){for(var a=0,b=this.length;a<b;a++)this[a].d(),this[a]=k;this.splice(0,this.length)};P.d=function(){Q.c.splice(Q.c.indexOf(this),1);Q.D(this)};Q=Q||{};
Q.Ad=function(a){Q.q.u("Tilt.ScrollContainer",this);Q.c.push(this);this.view=new Q.na(a);this.view.standby=!0;this.scrollbars=new Q.na;this.top=a.de[0]||0;this.bottom=a.de[1]||Number.MAX_VALUE;this.view.ta[1]=this.top;var b=new Q.g(a.top,{x:this.view.l-25,y:this.view.k-5,width:32,height:30,fill:a.top?k:"#f00a",padding:a.top?a.top.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.fb);window.clearInterval(this.eb);window.clearInterval(this.cb);var a=Q.c,b=this.view,c=b.ta;this.eb=window.setInterval(function(){c[1]=
Q.h.G(c[1]+5,this.top,-this.bottom+b.j);a.v();a.R||(c=b=a=k,window.clearInterval(this.eb))}.bind(this),1E3/60)}.bind(this)}),c=new Q.g(a.bottom,{x:this.view.l-25,y:this.view.k+this.view.j-25,width:32,height:30,fill:a.bottom?k:"#0f0a",padding:a.bottom?a.bottom.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.fb);window.clearInterval(this.eb);window.clearInterval(this.cb);var a=Q.c,b=this.view,c=b.ta;this.cb=window.setInterval(function(){c[1]=Q.h.G(c[1]-5,this.top,-this.bottom+b.j);a.v();
a.R||(c=b=a=k,window.clearInterval(this.cb))}.bind(this),1E3/60)}.bind(this)}),a=new Q.g(a.reset,{x:this.view.l-25,y:this.view.k+this.view.j-50,width:32,height:30,fill:a.reset?k:"#0f0b",padding:a.reset?a.reset.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.fb);window.clearInterval(this.eb);window.clearInterval(this.cb);var a=Q.c,b=this.view,c=b.ta;this.fb=window.setInterval(function(){c[1]-=(c[1]-this.top)/10;a.v();Math.abs(c[1]-this.top)<0.1&&(c=b=a=k,window.clearInterval(this.fb))}.bind(this),
1E3/60)}.bind(this)});this.view.onmousescroll=function(a){window.clearInterval(this.fb);window.clearInterval(this.eb);window.clearInterval(this.cb);var b=Q.c,c=this.view,i=c.ta;i[1]=Q.h.G(i[1]-a/2,this.top,-this.bottom+c.j);b.v()}.bind(this);this.scrollbars.push(b,c,a);a=c=b=k};Q.Ad.prototype={update:function(){this.scrollbars.i=this.view.i;this.scrollbars.disabled=this.view.disabled},F:ba(),d:function(){Q.c.splice(Q.c.indexOf(this),1);Q.D(this)}};Q=Q||{};
Q.g=function(a,b){Q.q.u("Tilt.Button",this);b=b||{};this.i=b.i||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||f;this.onmouseup=b.onmouseup||f;this.onclick=b.onclick||f;this.b=a||{l:-1,k:-1,o:-1,j:-1};this.b.l=b.x||this.b.l;this.b.k=b.y||this.b.k;this.b.o=b.width||this.b.o;this.b.j=b.height||this.b.j;this.b.disabled=!0;this.f=b.padding||[0,0,0,0];this.Db=b.fill||k;this.kc=b.stroke||k;this.r=[this.b.l+this.f[0],this.b.k+this.f[1],this.b.o-this.f[0]-this.f[2],this.b.j-this.f[1]-this.f[3]]};
Q.g.prototype={L:function(a,b){"function"===typeof this.b.L?this.b.L(a,b):(this.b.l=a,this.b.k=b);this.r[0]=a+this.f[0];this.r[1]=b+this.f[1]},W:function(a,b){"function"===typeof this.b.W?this.b.W(a,b):(this.b.o=a,this.b.j=b);this.r[2]=a-this.f[0]-this.f[2];this.r[3]=b-this.f[1]-this.f[3]},ca:function(a){this.L(a,this.b.k)},Tc:function(a){this.W(a,this.b.j)},Sc:function(a){this.W(this.b.o,a)},ge:function(a){var b=this.b.l,c=this.b.k,d=this.b.o,g=this.b.j,h=this.b.f;this.b=a;this.b.f=h;this.b.L(b,
c);this.b.W(d,g);this.b.disabled=!0},Xb:da("Db"),V:function(){return this.b.l},s:function(){return this.b.k},La:function(){return this.b.o},uc:function(){return this.b.j},F:function(a,b){b=b||Q.Y;"undefined"!==typeof this.b.lc&&this.b.F(b);var c,d,g=this.Db,h=this.kc;if(g||h)c=this.r,d=this.f,b.fill(g||"#fff0"),b.stroke(h||"#0000"),b.rect(c[0]-d[0],c[1]-d[1],c[2]+d[0]+d[2],c[3]+d[1]+d[3]);Q.c.Pe&&(b.fill("#fff2"),b.stroke("#00f"),b.rect(this.b.l,this.b.k,this.b.o,this.b.j),this.disabled||(b.fill("#0f04"),
b.rect(this.r[0],this.r[1],this.r[2],this.r[3])))},d:function(){Q.D(this)}};Q=Q||{};
Q.Ea=function(a,b){Q.q.u("Tilt.Slider",this);b=b||{};this.i=b.i||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||f;this.onmouseup=b.onmouseup||f;this.onclick=b.onclick||f;this.b=new Q.w(a.lc,a.Hb,{padding:a.f,la:a.pd});this.b.l=b.x||this.b.l;this.b.k=b.y||this.b.k;this.b.o=b.width||this.b.o;this.b.j=b.height||this.b.j;this.l=this.b.l;this.k=this.b.k;this.jc=b.size||100;this.bd=b.direction||0;this.r=[this.b.l+this.b.f[0],this.b.k+this.b.f[1],this.b.o-this.b.f[2],this.b.j-this.b.f[3]];
this.O(b.value||0)};
Q.Ea.prototype={L:function(a,b){this.l=a;this.k=b;this.r[0]=a+this.b.f[0];this.r[1]=b+this.b.f[1];this.O(this.S)},ca:function(a){this.L(a,this.k);this.O(this.S)},W:function(a){this.jc=a;this.O(this.S)},O:function(a){var b=this.b,c=this.l,d=this.k,g=this.jc,h=this.bd;this.S=Q.h.G(a+0.0010,0,100);h===0?(a=Q.h.map(this.S,0,100,c,c+g),b.L(a,d),this.r[0]=a+b.f[0]):(a=Q.h.map(this.S,0,100,d,d+g),b.L(c,a),this.r[1]=a+b.f[1])},V:M("l"),s:M("k"),update:function(){var a,b,c,d,g,h,i;if(this.R)this.ld=!0;else if(!Q.c.R)this.ld=
!1;if(this.ld)a=this.b,b=this.ye,c=this.ze,d=this.l,g=this.k,h=this.jc,i=this.bd,i===0?(d+=b,h=d+h,i=Q.h.G(Q.c.Kc-a.o*0.5,d,h),b=i-b,a.L(b,g),this.S=Q.h.map(i,d,h,0,100),this.r[0]=b+a.f[0]):(g+=c,i=Q.h.G(Q.c.hg-a.j*0.5,g,g+h),b=i-c,a.L(d,b),this.S=Q.h.map(b,g,g+h,0,100),this.r[1]=b+a.f[1])},F:function(a,b){b=b||Q.Y;this.b.F(b)},d:function(){Q.D(this)}};Q=Q||{};
Q.w=function(a,b,c){Q.q.u("Tilt.Sprite",this);c=c||{};this.i=c.i||!1;this.disabled=c.disabled||!1;this.onmousedown=c.onmousedown||f;this.onmouseup=c.onmouseup||f;this.onclick=c.onclick||f;this.lc=a;this.Hb=b||[0,0,a.width,a.height];this.l=c.x||0;this.k=c.y||0;this.o=c.width||this.Hb[2];this.j=c.height||this.Hb[3];this.f=c.padding||[0,0,0,0];this.pd=c.la||k;this.ue=c.oa||!1;this.r=[this.l+this.f[0],this.k+this.f[1],this.o-this.f[0]-this.f[2],this.j-this.f[0]-this.f[3]];this.Jb=k};
Q.w.prototype={L:function(a,b){this.l=a;this.k=b;this.r[0]=a+this.f[0];this.r[1]=b+this.f[1]},W:function(a,b){this.o=a;this.j=b;this.r[2]=a-this.f[0]-this.f[2];this.r[3]=b-this.f[1]-this.f[3]},ca:function(a){this.L(a,this.k)},Tc:function(a){this.W(a,this.j)},Sc:function(a){this.W(this.o,a)},V:M("l"),s:M("k"),La:M("o"),uc:M("j"),F:function(a,b){var b=b||Q.Y,c=this.Hb,d=this.lc,g=this.l,h=this.k,i=this.o,j=this.j,m=this.ue,l=this.pd;if(this.Jb===k&&d.loaded)this.Jb=new Q.U([c[0]/d.width,c[1]/d.height,
(c[0]+c[2])/d.width,c[1]/d.height,c[0]/d.width,(c[1]+c[3])/d.height,(c[0]+c[2])/d.width,(c[1]+c[3])/d.height],2);l!==k&&b.la(l);m?(b.oa(!0),b.Id(d,g,h,i,j,this.Jb),b.oa(!1)):b.Id(d,g,h,i,j,this.Jb);l!==k&&b.la("#fff");Q.c.Pe&&(b.fill("#fff2"),b.stroke("#f00"),b.rect(this.l,this.k,this.o,this.j),this.disabled||(b.fill("#0f04"),b.rect(this.r[0],this.r[1],this.r[2],this.r[3])))},d:function(){Q.D(this)}};Q=Q||{};Q.c=[];Q.c.Kc=0;Q.c.Ud=0;Q.c.R=!1;Q.c.nf=0;Q.c.Nd=[];Q.c.v=ba();
Q.c.F=function(a){var b=Q.Y,c,d,g;b.Fd();b.qf();for(c=0,d=this.length;c<d;c++)g=this[c],g.i||(g.disabled||g.update(a,b),g.F(a,b))};Q.c.uf=function(a){if(!(a.Ec||this.indexOf(a)===-1)){for(var b=0,c=this.length;b<c;b++)this[b].gd=this[b].disabled,this[b].disabled=!0;a.Ec=!0;a.i=!1;a.disabled=!1;this.v()}};Q.c.Qe=function(a){if(a.Ec&&this.indexOf(a)!==-1){for(var b=0,c=this.length;b<c;b++)this[b].disabled=this[b].gd,delete this[b].gd;a.Ec=!1;a.i=!0;a.disabled=!0;this.v()}};
Q.c.Fc=function(a,b,c){this.R=!0;this.ka=!1;this.$a("onmousedown",a,b,c)};Q.c.Jc=function(a,b,c){this.ka=this.R=!1;this.$a("onmouseup",a,b,c)};Q.c.click=function(a,b){this.$a("onclick",a,b)};Q.c.Re=function(a,b){this.$a("ondoubleclick",a,b)};Q.c.Gc=function(a,b){this.Kc=a;this.Ud=b};Q.c.Ic=function(a){this.ka=!1;this.nf=a;this.$a("onmousescroll",a)};Q.c.ka=ba();Q.c.Hc=ba();Q.c.Bc=function(a){this.Nd[a]=!0;this.cd("onkeydown",a)};Q.c.Cc=function(a){this.Nd[a]=!1;this.cd("onkeyup",a)};
Q.c.$a=function(a,b,c,d){var g,h,i,j,m,l,q,s,x,y,v,C,p=this.Kc,r=this.Ud;for(g=0,i=this.length;g<i;g++)if(m=this[g],!m.i&&!m.disabled){q=m.l||0;h=m.k||0;j=m.o||0;s=m.j||0;if(m.standby&&p>q&&p<q+j&&r>h&&r<h+s)this.ka=!0,l=m[a],"function"===typeof l&&l(b,c,d);j=m.ta||[0,0];q+=j[0];s=h+j[1]+2;for(h=0,j=m.length;h<j;h++)if(l=m[h],!l.i&&!l.disabled&&l.sc){x=l.r||[-1,-1,-1,-1];y=x[0]+q;v=x[1]+s;C=x[2];x=x[3];if("onmouseup"===a)l.R=!1;if(p>y&&p<y+C&&r>v&&r<v+x){if("onmousedown"===a)l.R=!0;this.ka=!0;l=l[a];
"function"===typeof l&&l(b,c,d)}}}};Q.c.cd=function(a,b){var c,d,g,h,i,j;for(c=0,g=this.length;c<g;c++)if(i=this[c],!i.i&&!i.disabled){i.standby&&(j=i[a],"function"===typeof j&&j(b));for(d=0,h=i.length;d<h;d++)j=i[d],!j.i&&!j.disabled&&(j=j[a],"function"===typeof j&&j(b))}};Q.q.u("Tilt.UI",Q.c);Q=Q||{};
Q.fa={alert:function(a,b){var c;"undefined"===typeof b&&(b="undefined");try{c=Cc["@mozilla.org/embedcomp/prompt-service;1"].getService(Ci.nsIPromptService),c.alert(k,a,b)}catch(d){window.alert(b)}},log:function(a){var b;"undefined"===typeof a&&(a="undefined");try{b=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),b.logStringMessage(a)}catch(c){window.alert(a)}},error:function(a,b,c,d,g,h,i){var j,m;"undefined"===typeof a&&(a="undefined");try{j=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),
m=Cc["@mozilla.org/scripterror;1"].createInstance(Ci.nsIScriptError),m.init(a,b,c,d,g,h,i),j.logMessage(m)}catch(l){window.alert(a)}}};Q.$={Dd:"tilt-string-bundle",get:function(a){if("undefined"===typeof a)return"undefined";var b=document.getElementById(this.Dd);return b?b.getString(a):a},tc:function(a,b){if("undefined"===typeof a)return"undefined";if("undefined"===typeof b)return a;var c=document.getElementById(this.Dd);return c?c.lg(a,b):[a,b].join(" ")}};Q=Q||{};
Q.H={mb:f,Ia:f,Pa:function(a,b,c,d){if("undefined"===typeof this.mb)this.mb=document;if("undefined"===typeof this.Ia)this.Ia=document.body;var g=this.mb,h=this.Ia;if("undefined"===typeof g||g===k||"undefined"===typeof h||h===k)return k;g=g.createElement("canvas");g.setAttribute("style","width: 100%; height: 100%;");g.width=a;g.height=b;g.id=d;c&&this.append(g,h);return g},pg:function(){var a=this.Pa(window.innerWidth,window.innerHeight,!0);this.Ia.setAttribute("style","background: #000; margin: 0px; padding: 0px; overflow: hidden;");
return a},append:function(a,b){b.appendChild(a)},remove:function(a){a.parentNode.removeChild(a)},he:function(a,b,c,d){var g=this.top=this.left=this.wb=0,h=0,i=function(b,d){var l,q,s,x;for(l=0,q=b.childNodes.length;l<q;l++)s=b.childNodes[l],d>g&&(g=d),h++,this.wb++,a(s,d,h,this.wb,this.left,this.top),i(s,d+1),c&&s.localName==="iframe"&&(x=Q.H.vc(s),this.left+=x.x,this.top+=x.y,i(s.contentDocument,d+1),this.left-=x.x,this.top-=x.y)}.bind(this);try{"function"===typeof a&&i(d||window.content.document,
0),"function"===typeof b&&b(g,h)}finally{d=k}},We:function(a){var b,c={width:a.innerWidth+a.scrollMaxX,height:a.innerHeight+a.scrollMaxY};this.he(function(a){b=this.vc(a);c.width=Math.max(c.width,b.x||0+b.width||0);c.height=Math.max(c.height,b.y||0+b.height||0)}.bind(this),k,a.document);return c},vc:function(a){if(a.nodeType!==1)return{x:0,y:0,width:0,height:0};var b,c,d,g;try{if(a.localName==="head"||a.localName==="body")throw new Exception;d=a.getBoundingClientRect();b=window.content.pageXOffset;
c=window.content.pageYOffset;return{x:d.left+b,y:d.top+c,width:d.width,height:d.height}}catch(h){c=b=0;d=a.clientWidth;g=a.clientHeight;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}else{if(a.x)b=a.x;if(a.y)c=a.y}return{x:b,y:c,width:d,height:g}}finally{}},mg:function(a){var b;a.nodeType===1?b="ELEMENT_NODE":a.nodeType===2?b="ATTRIBUTE_NODE":a.nodeType===3?b="TEXT_NODE":a.nodeType===4?b="CDATA_SECTION_NODE":a.nodeType===5?b="ENTITY_REFERENCE_NODE":a.nodeType===6?b="ENTITY_NODE":
a.nodeType===7?b="PROCESSING_INSTRUCTION_NODE":a.nodeType===8?b="COMMENT_NODE":a.nodeType===9?b="DOCUMENT_NODE":a.nodeType===10?b="DOCUMENT_TYPE_NODE":a.nodeType===11?b="DOCUMENT_FRAGMENT_NODE":a.nodeType===12&&(b="NOTATION_NODE");return b},Ve:function(a){var b=[],c,d;for(c=0,d=a.length;c<d;c++)b.push(a[c].name+' = "'+a[c].value+'"');return b.join("\n")+"\n"},Xe:function(a){var b=[],c,d,g;for(g=0;g<a.length;g++)c=a[g],d=a.getPropertyValue(c),c=c+": "+d+";",'background-attachment: scroll;\nbackground-clip: border-box;\nbackground-color: transparent;\nbackground-image: none;\nbackground-origin: padding-box;\nbackground-position: 0% 0%;\nbackground-repeat: repeat;\nbackground-size: auto auto;\nborder-bottom-color: rgb(0, 0, 0);\nborder-bottom-left-radius: 0px;\nborder-bottom-right-radius: 0px;\nborder-bottom-style: none;\nborder-bottom-width: 0px;\nborder-collapse: separate;\nborder-left-color: rgb(0, 0, 0);\nborder-left-style: none;\nborder-left-width: 0px;\nborder-right-color: rgb(0, 0, 0);\nborder-right-style: none;\nborder-right-width: 0px;\nborder-spacing: 0px 0px;\nborder-top-color: rgb(0, 0, 0);\nborder-top-left-radius: 0px;\nborder-top-right-radius: 0px;\nborder-top-style: none;\nborder-top-width: 0px;\nbottom: auto;\nbox-shadow: none;\ncaption-side: top;\nclear: none;\nclip: auto;\ncolor: rgb(0, 0, 0);\ncontent: none;\ncounter-increment: none;\ncounter-reset: none;\ncursor: auto;\ndirection: ltr;\ndisplay: block;\nempty-cells: -moz-show-background;\nfloat: none;\nfont-family: serif;\nfont-size: 16px;\nfont-size-adjust: none;\nfont-stretch: normal;\nfont-style: normal;\nfont-variant: normal;\nfont-weight: 400;\nheight: 0px;\nime-mode: auto;\nleft: auto;\nletter-spacing: normal;\nline-height: 19.2px;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: 8px;\nmargin-left: 8px;\nmargin-right: 8px;\nmargin-top: 8px;\nmarker-offset: auto;\nmax-height: none;\nmax-width: none;\nmin-height: 0px;\nmin-width: 0px;\nopacity: 1;\noutline-color: rgb(0, 0, 0);\noutline-offset: 0px;\noutline-style: none;\noutline-width: 0px;\noverflow: visible;\noverflow-x: visible;\noverflow-y: visible;\npadding-bottom: 0px;\npadding-left: 0px;\npadding-right: 0px;\npadding-top: 0px;\npage-break-after: auto;\npage-break-before: auto;\npointer-events: auto;\nposition: static;\nquotes: "\u201c" "\u201d" "\u2018" "\u2019";\nresize: none;\nright: auto;\ntable-layout: auto;\ntext-align: start;\ntext-decoration: none;\ntext-indent: 0px;\ntext-overflow: clip;\ntext-shadow: none;\ntext-transform: none;\ntop: auto;\nunicode-bidi: embed;\nvertical-align: baseline;\nvisibility: visible;\nwhite-space: normal;\nwidth: 1157px;\nword-spacing: 0px;\nword-wrap: normal;\nz-index: auto;\n-moz-animation-delay: 0s;\n-moz-animation-direction: normal;\n-moz-animation-duration: 0s;\n-moz-animation-fill-mode: none;\n-moz-animation-iteration-count: 1;\n-moz-animation-name: none;\n-moz-animation-play-state: running;\n-moz-animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-appearance: none;\n-moz-background-inline-policy: continuous;\n-moz-binding: none;\n-moz-border-bottom-colors: none;\n-moz-border-image: none;\n-moz-border-left-colors: none;\n-moz-border-right-colors: none;\n-moz-border-top-colors: none;\n-moz-box-align: stretch;\n-moz-box-direction: normal;\n-moz-box-flex: 0;\n-moz-box-ordinal-group: 1;\n-moz-box-orient: horizontal;\n-moz-box-pack: start;\n-moz-box-sizing: content-box;\n-moz-column-count: auto;\n-moz-column-gap: 16px;\n-moz-column-rule-color: rgb(0, 0, 0);\n-moz-column-rule-style: none;\n-moz-column-rule-width: 0px;\n-moz-column-width: auto;\n-moz-float-edge: content-box;\n-moz-font-feature-settings: normal;\n-moz-font-language-override: normal;\n-moz-force-broken-image-icon: 0;\n-moz-hyphens: manual;\n-moz-image-region: auto;\n-moz-orient: horizontal;\n-moz-outline-radius-bottomleft: 0px;\n-moz-outline-radius-bottomright: 0px;\n-moz-outline-radius-topleft: 0px;\n-moz-outline-radius-topright: 0px;\n-moz-stack-sizing: stretch-to-fit;\n-moz-tab-size: 8;\n-moz-text-blink: none;\n-moz-text-decoration-color: rgb(0, 0, 0);\n-moz-text-decoration-line: none;\n-moz-text-decoration-style: solid;\n-moz-transform: none;\n-moz-transform-origin: 50% 50%;\n-moz-transition-delay: 0s;\n-moz-transition-duration: 0s;\n-moz-transition-property: all;\n-moz-transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-user-focus: none;\n-moz-user-input: auto;\n-moz-user-modify: read-only;\n-moz-user-select: auto;\n-moz-window-shadow: default;\nclip-path: none;\nclip-rule: nonzero;\ncolor-interpolation: srgb;\ncolor-interpolation-filters: linearrgb;\ndominant-baseline: auto;\nfill: rgb(0, 0, 0);\nfill-opacity: 1;\nfill-rule: nonzero;\nfilter: none;\nflood-color: rgb(0, 0, 0);\nflood-opacity: 1;\nimage-rendering: auto;\nlighting-color: rgb(255, 255, 255);\nmarker-end: none;\nmarker-mid: none;\nmarker-start: none;\nmask: none;\nshape-rendering: auto;\nstop-color: rgb(0, 0, 0);\nstop-opacity: 1;\nstroke: none;\nstroke-dasharray: none;\nstroke-dashoffset: 0px;\nstroke-linecap: butt;\nstroke-linejoin: miter;\nstroke-miterlimit: 4;\nstroke-opacity: 1;\nstroke-width: 1px;\ntext-anchor: start;\ntext-rendering: auto;'.indexOf(c)===
-1&&b.push(c);return b.join("\n")+"\n"}};Q.q.u("Tilt.Document",Q.H);Q=Q||{};
Q.ua={Xf:function(a,b){var c;c=Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker);c.init(window,a,b==="folder"?Ci.nsIFilePicker.modeGetFolder:Ci.nsIFilePicker.tg);return c.show()==Ci.nsIFilePicker.returnOK?c.file:k},save:function(a,b){var c,d;Cu.import("resource://gre/modules/FileUtils.jsm");Cu.import("resource://gre/modules/NetUtil.jsm");c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile);c.initWithPath(b);c=FileUtils.openSafeFileOutputStream(c);d=Cc["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Ci.nsIScriptableUnicodeConverter);
d.charset="UTF-8";d=d.convertToInputStream(a);NetUtil.asyncCopy(d,c,function(a){Components.isSuccessCode(a)})},Jf:function(a,b){var c,d,g;Cu.import("resource://gre/modules/FileUtils.jsm");Cu.import("resource://gre/modules/NetUtil.jsm");c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile);c.initWithPath(b);d=Cc["@mozilla.org/network/io-service;1"].getService(Ci.nsIIOService);g=d.newURI(a.toDataURL("image/png",""),"UTF8",k);d.newFileURI(c);d=Cc["@mozilla.org/embedding/browser/nsWebBrowserPersist;1"].createInstance(Ci.nsIWebBrowserPersist);
d.persistFlags=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_REPLACE_EXISTING_FILES;d.persistFlags|=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_AUTODETECT_APPLY_CONVERSION;d.saveURI(g,k,k,k,k,c)},separator:navigator.appVersion.indexOf("Win")!==-1?"\\":"/"};Q.q.u("Tilt.File",Q.ua);Q=Q||{};
Q.h={Cf:function(a){return a*0.0174532925},kg:function(a){return a*57.2957795},map:function(a,b,c,d,g){return d+(g-d)*((a-b)/(c-b))},Md:function(a){return(a&a-1)===0},Vd:function(a){var b;--a;for(b=1;b<32;b<<=1)a|=a>>b;return a+1},G:function(a,b,c){if(b>c)var d=b,b=c,c=d;return Math.max(b,Math.min(c,a))},Bg:function(a,b,c){b*=0.5;var d=Math.sin(b),g=a[0]*d,h=a[1]*d,a=a[2]*d,b=Math.cos(b);return"undefined"===typeof c?[g,h,a,b]:(c[0]=g,c[1]=h,c[2]=a,c[3]=b,c)},Bf:function(a,b,c,d){var g;b*=0.5;a*=0.5;
c*=0.5;g=Math.sin(b);var h=Math.sin(a),i=Math.sin(c),j=Math.cos(b),m=Math.cos(a),l=Math.cos(c),b=g*m*l-j*h*i,a=j*h*l+g*m*i,c=j*m*i-g*h*l;g=j*m*l+g*h*i;return"undefined"===typeof d?[b,a,c,g]:(d[0]=b,d[1]=a,d[2]=c,d[3]=g,d)},zf:function(a,b,c,d,g){var h,i=ka();d?Ba(d,c,h=$()):h=c;a[3]=1;Ca(h,a,i);d?(g[0]=i[0]/i[3],g[1]=i[1]/i[3],g[0]*=b[2]*0.5,g[1]*=-b[3]*0.5,g[0]+=b[2]*0.5,g[1]+=b[3]*0.5,g[2]=0):(g[0]=i[0],g[1]=i[1],g[2]=i[2]);return g},ie:function(a,b,c,d,g){var h=$(),g=g||ka();Ba(d,c,h);var i;i||
(i=h);var c=h[0],d=h[1],j=h[2],m=h[3],l=h[4],q=h[5],s=h[6],x=h[7],y=h[8],v=h[9],C=h[10],p=h[11],r=h[12],w=h[13],t=h[14],u=h[15],z=c*q-d*l,B=c*s-j*l,n=c*x-m*l,D=d*s-j*q,E=d*x-m*q,H=j*x-m*s,K=y*w-v*r,L=y*t-C*r,o=y*u-p*r,I=v*t-C*w,J=v*u-p*w,A=C*u-p*t,F=1/(z*A-B*J+n*I+D*o-E*L+H*K);i[0]=(q*A-s*J+x*I)*F;i[1]=(-d*A+j*J-m*I)*F;i[2]=(w*H-t*E+u*D)*F;i[3]=(-v*H+C*E-p*D)*F;i[4]=(-l*A+s*o-x*L)*F;i[5]=(c*A-j*o+m*L)*F;i[6]=(-r*H+t*n-u*B)*F;i[7]=(y*H-C*n+p*B)*F;i[8]=(l*J-q*o+x*K)*F;i[9]=(-c*J+d*o-m*K)*F;i[10]=(r*
E-w*n+u*z)*F;i[11]=(-y*E+v*n-p*z)*F;i[12]=(-l*I+q*L-s*K)*F;i[13]=(c*I-d*L+j*K)*F;i[14]=(-r*D+w*B-t*z)*F;i[15]=(y*D-v*B+C*z)*F;g[0]=+((a[0]-b[0])/b[2]*2-1);g[1]=-((a[1]-b[1])/b[3]*2-1);g[2]=2*a[2]-1;g[3]=1;Ca(h,g);g[3]=1/g[3];g[0]*=g[3];g[1]*=g[3];g[2]*=g[3];return g},Ne:function(a,b,c,d,g){this.ie(a,c,d,g,a);this.ie(b,c,d,g,b);var g=za(b,a),h;h||(h=g);var c=g[0],d=g[1],g=g[2],i=Math.sqrt(c*c+d*d+g*g);i?i==1?(h[0]=c,h[1]=d,h[2]=g):(i=1/i,h[0]=c*i,h[1]=d*i,h[2]=g*i):(h[0]=0,h[1]=0,h[2]=0);return{position:a,
rg:b,direction:h}},jf:function(a,b,c,d,g){var h=W(),i=W(),j=W(),m=W(),l=W(),q=d.position,d=d.direction;"undefined"===typeof g&&(g=W());za(b,a,h);za(c,a,i);ma(h,i,j);if(j[0]===0&&j[1]===0&&j[2]===0)return-1;za(q,a,l);b=-oa(j,l);j=+oa(j,d);if(Math.abs(j)<1.0E-4)return b===0?2:0;j=b/j;if(j<0)return 0;ra(q,va(d,j),g);q=oa(h,h);d=oa(h,i);j=oa(i,i);za(g,a,m);a=oa(m,h);i=oa(m,i);m=d*d-q*j;g=(d*i-j*a)/m;if(g<0||g>1)return 0;i=(d*a-q*i)/m;return i<0||g+i>1?0:1},wc:function(a,b,c){if(!(c<0)&&!(c>1))if(c<0.166666667)return a+
(b-a)*6*c;else if(c<0.5)return b;else if(c<0.666666667)return a+(b-a)*(2/3-c)*6;return a},Gg:function(a,b,c){a*=0.00392156863;b*=0.00392156863;c*=0.00392156863;var d=Math.max(a,b,c),g=Math.min(a,b,c),h,i,j=(d+g)*0.5;d===g?i=g=0:(h=d-g,g=j>0.5?h/(2-d-g):h/(d+g),d===a?i=(b-c)/h+(b<c?6:0):d===b?i=(c-a)/h+2:d===c&&(i=(a-b)/h+4),i/=6);return[i,g,j]},ng:function(a,b,c){var d,g;b===0?c=b=a=c:(d=c<0.5?c*(1+b):c+b-c*b,g=2*c-d,c=this.wc(g,d,a+0.333333333),b=this.wc(g,d,a),a=this.wc(g,d,a-0.333333333));return[c*
255,b*255,a*255]},If:function(a,b,c){a*=0.00392156863;b*=0.00392156863;c*=0.00392156863;var d=Math.max(a,b,c),g=Math.min(a,b,c),h,i;h=d-g;d===g?i=0:(d===a?i=(b-c)/h+(b<c?6:0):d===b?i=(c-a)/h+2:d===c&&(i=(a-b)/h+4),i/=6);return[i,d===0?0:h/d,d]},cf:function(a,b,c){var d,g,h,i=Math.floor(a*6),j=a*6-i,a=c*(1-b),m=c*(1-j*b),b=c*(1-(1-j)*b);i%=6;i===0?(d=c,g=b,h=a):i===1?(d=m,g=c,h=a):i===2?(d=a,g=c,h=b):i===3?(d=a,g=m,h=c):i===4?(d=b,g=a,h=c):i===5&&(d=c,g=a,h=m);return[d*255,g*255,h*255]},wa:function(a){var a=
a.charAt(0)==="#"?a.substring(1):a,b,c,d,g;if("undefined"!==typeof this[a])return this[a];else b=window.parseInt(a,16);return a.length===3?this[a]=[((b&3840)>>8)*0.062745098,((b&240)>>4)*0.062745098,(b&15)*0.062745098,1]:a.length===4?this[a]=[((b&61440)>>12)*0.062745098,((b&3840)>>8)*0.062745098,((b&240)>>4)*0.062745098,(b&15)*0.062745098]:a.length===6?this[a]=[((b&16711680)>>16)*0.00392156863,((b&65280)>>8)*0.00392156863,(b&255)*0.00392156863,1]:a.length===5?this[a]=[((b&983040)>>12)/255,((b&61440)>>
8)/255,((b&3840)>>4)/255,(b&240)/255]:a.length===8?(b=parseInt(a.substring(0,2),16)*0.00392156863,c=parseInt(a.substring(2,4),16)*0.00392156863,d=parseInt(a.substring(4,6),16)*0.00392156863,g=parseInt(a.substring(6,8),16)*0.00392156863,this[a]=[b,c,d,g]):a.match("^rgba")=="rgba"?(b=a.substring(5,a.length-1).split(","),b[0]*=0.00392156863,b[1]*=0.00392156863,b[2]*=0.00392156863,b[3]*=0.00392156863,this[a]=b):a.match("^rgb")=="rgb"?(b=a.substring(4,a.length-1).split(","),b[0]*=0.00392156863,b[1]*=0.00392156863,
b[2]*=0.00392156863,b[3]=1,this[a]=b):this[a]=[0,0,0,1]}};Q.q.u("Tilt.Math",Q.h);Q=Q||{};Q.Bd={trim:function(a){return a.replace(/^\s+|\s+$/g,"")},sg:function(a){return a.replace(/^\s+/,"")},Hg:function(a){return a.replace(/\s+$/,"")}};Q.q.u("Tilt.String",Q.Bd);Q=Q||{};Q.mc={};
Q.mc.pc={ff:function(a){var b,c,d,g;b=Q.H.Pa();c=Q.H.Pa();b=Q.nc.prototype.Ed(b);d=b.getParameter(b.MAX_TEXTURE_SIZE);g=Q.H.We(a);b=Q.h.G(g.width,0,d);g=Q.h.G(g.height,0,d);c.width=b;c.height=g;d=c.getContext("2d");d.fillStyle="#fff";d.fillRect(0,0,c.width,c.height);d.drawWindow(a,0,0,b,g,"#fff");return c},Df:function(a,b,c,d){var g=c.left,h=c.top,i=c.width,c=c.height;if(d)return d=b.getContext("2d"),d.translate(g,h),d.drawWindow(a,g,h,i,c,"#fff"),d.translate(-g,-h),b;else{if("undefined"===typeof this.Xa)this.Xa=
Q.H.Pa();this.Xa.width=i;this.Xa.height=c;d=this.Xa.getContext("2d");d.drawWindow(a,g,h,i,c,"#fff");return this.Xa}}};Q.q.u("Tilt.WebGL",Q.pc);Q=Q||{};Q.Fe={Ef:function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.send(k);d.onreadystatechange=function(){d.readyState===4&&"function"===typeof b&&b(d,c)}},Fg:function(a,b,c){function d(d,i){g[i]=d;h++;h===a.length&&"function"===typeof b&&b(g,c)}var g=[],h=0,i,j;for(i=0,j=a.length;i<j;i++)this.Ef(a[i],d,i)}};Q.q.u("Tilt.Xhr",Q.Fe);
TiltChrome=TiltChrome||{};TiltChrome.ma={};
TiltChrome.ma.c={Ba:{sb:{qb:{value:50},ub:{value:0},kb:{value:100},ib:{value:80},vb:{value:100},Ub:{outline:[0,0,0,0.25]}},pf:{qb:{value:50},ub:{value:0},kb:{value:100},ib:{value:80},vb:{value:100},Ub:{outline:[0,0,0,0.25]}},eg:{qb:{value:57.5},ub:{value:50},kb:{value:100},ib:{value:7.5},vb:{value:100},Ub:{outline:[1,1,1,0.7]}}},e:{ag:{stroke:"#fff3"},html:{fill:"#FFF"},"head/body":{fill:"#E667AF"},title:{fill:"#CD0074"},script:{fill:"#A64B00"},style:{fill:"#FF9640"},div:{fill:"#5DC8CD"},span:{fill:"#67E46F"},
table:{fill:"#FF0700"},tr:{fill:"#FF4540"},td:{fill:"#FF7673"},ul:{fill:"#4671D5"},li:{fill:"#6C8CD5"},p:{fill:"#888"},a:{fill:"#123EAB"},img:{fill:"#FFB473"},iframe:{fill:"#85004B"},other:{fill:"#444"}}};TiltChrome=TiltChrome||{};TiltChrome.ud={};
TiltChrome.ud.Ee=function(){function a(a){a=a.keyCode||a.which;if(a===27)"open"===TiltChrome.BrowserOverlay.C.A.state?TiltChrome.BrowserOverlay.C.A.hidePopup():(TiltChrome.BrowserOverlay.d(!0,!0),TiltChrome.BrowserOverlay.href=k);j.Cc(a);m.Cc(a)}function b(a){a=a.keyCode||a.which;"open"!==TiltChrome.BrowserOverlay.C.A.state&&window.content.document.activeElement instanceof HTMLBodyElement&&(j.Bc(a),m.Bc(a))}function c(a){a.preventDefault();a.stopPropagation();j.Ic(a.detail);j.ka||m.Ic(a.detail)}function d(a){a.preventDefault();
a.stopPropagation();j.Hc();m.Hc()}function g(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;j.Gc(b,a);m.Gc(b,a)}function h(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;j.Jc(c,a,b);m.Jc(c,a,b)}function i(a){a.preventDefault();a.stopPropagation();l=a.clientX-a.target.offsetLeft;q=a.clientY-a.target.offsetTop;j.Fc(l,q,a.which);j.ka?m.stop():m.Fc(l,q,a.which)}var j=Q.c,
m=k,l=0,q=0;this.init=function(j){m=new Q.rd(j.width,j.height);this.stop=m.stop.bind(m);this.translate=m.translate.bind(m);this.rotate=m.rotate.bind(m);this.zoom=m.zoom.bind(m);this.reset=m.reset.bind(m);this.pa=m.pa.bind(m);j.addEventListener("mousedown",i,!1);j.addEventListener("mouseup",h,!1);j.addEventListener("click",s,!1);j.addEventListener("dblclick",x,!1);j.addEventListener("mousemove",g,!1);j.addEventListener("mouseout",d,!1);j.addEventListener("MozMousePixelScroll",c,!1);window.addEventListener("keydown",
b,!1);window.addEventListener("keyup",a,!1)};this.update=function(a){var b=this.n,a=m.loop(a);b.Qf(a.rotation);b.Sf(a.ea)};var s=function(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(l-c)<2&&Math.abs(q-a)<2&&(j.click(c,a,b),j.ka||this.n.sf(c,a))}.bind(this),x=function(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(l-b)<2&&Math.abs(q-a)<2&&(j.Re(b,
a),j.ka||this.n.rf(b,a))}.bind(this);this.d=function(y){j=this.n=k;i!==k&&(y.removeEventListener("mousedown",i,!1),i=k);h!==k&&(y.removeEventListener("mouseup",h,!1),h=k);s!==k&&(y.removeEventListener("click",s,!1),s=k);x!==k&&(y.removeEventListener("dblclick",x,!1),x=k);g!==k&&(y.removeEventListener("mousemove",g,!1),g=k);d!==k&&(y.removeEventListener("mouseout",d,!1),d=k);c!==k&&(y.removeEventListener("MozMousePixelScroll",c,!1),c=k);b!==k&&(window.removeEventListener("keydown",b,!1),b=k);a!==k&&
(window.removeEventListener("keyup",a,!1),a=k);m!==k&&(m.d(),m=k);q=l=k;Q.D(this)};Q.q.u("TiltChrome.Controller.MouseAndKeyboard",this)};TiltChrome=TiltChrome||{};TiltChrome.c={};
TiltChrome.c.De=function(){var a=Q.c,b=TiltChrome.ma.c,c=k,d=k,g=k,h=k,i=k,j=k,m=k,l=k,q=k,s=k,x=k,y=k,v=k,C=k,p=k,r=k,w=k,t=k,u=k,z=k,B=k,n=k,D=k,E=k,H=k,K=k,L=k,o=k,I=k,J=k,A=k,F=k,V=k,X=k,U=k,R=k,aa=k,S=k,ca=k,ea=k,ja=k,Y=k,N=k,G=k,ga=k,ha=k,ia=k,na=k,ta=k,ua=k;this.init=function(T){j=new Q.Fa("chrome://tilt/skin/tilt-ui.png",{Sd:"nearest",Pd:"nearest",onload:function(){this.n.v()}.bind(this)});c=new Q.na;d=new Q.na;m=new Q.w(j,[0,768,256,256],{width:T.width,height:T.height,oa:!0,disabled:!0});
K=new Q.g(new Q.w(j,[935,120,42,38]),{x:T.width-50,y:-5,padding:[0,0,0,5],onclick:function(){TiltChrome.BrowserOverlay.d(!0,!0);TiltChrome.BrowserOverlay.href=k}});L=new Q.g(new Q.w(j,[935,80,46,38]),{x:T.width-150,y:-5,padding:[0,0,0,5],onclick:function(){var b=T.width*0.5+197,c=T.height*0.5-218;ta.L(T.width*0.5-305,T.height*0.5-305);ua.L(b,c);a.uf(g)}.bind(this)});o=new Q.g(new Q.w(j,[935,40,61,38]),{x:T.width-215,y:-5,padding:[0,0,0,5],onclick:function(){var a=Q.$.get("folderPicker.string"),b=
Q.$.get("webpageFilename.string");if(a=Q.ua.Xf(a,"folder"))a.reveal(),this.n.tf(a.path,b)}.bind(this)});I=new Q.g(new Q.w(j,[935,0,66,38]),{x:T.width-285,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){Q.fa.alert("Tilt",Q.$.get("implement.info"))}.bind(this)});A=new Q.g(new Q.w(j,[935,200,48,38]),{x:T.width-337,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.n.ee()}.bind(this)});F=new Q.g(new Q.w(j,[935,160,36,38]),{x:T.width-377,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.n.Nf()}.bind(this)});
J=new Q.g(new Q.w(j,[935,240,84,38]),{x:T.width-465,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.n.Wb()}.bind(this)});V=new Q.g(new Q.w(j,[0,147,42,42]),{x:0,y:-5,padding:[6,6,6,6],onclick:function(){window.clearInterval(this.M);this.Yc=0;this.M=window.setInterval(function(){this.Yc++;this.ga.translate(i.view.i?-5:5,0);this.Yc>=20&&window.clearInterval(this.M)}.bind(this),1E3/60);d.i^=1;i.view.i^=1;if(!g.i)g.i=!0;if(!h.i)h.i=!0}.bind(this)});X=new Q.w(j,[0,0,145,145],{x:0,y:0});U=new Q.g(k,
{x:50,y:4,width:45,height:30,onmousedown:function(){window.clearInterval(this.M);this.M=window.setInterval(function(){this.ga.translate(0,-5);a.R||window.clearInterval(this.M)}.bind(this),1E3/60)}.bind(this)});R=new Q.g(k,{x:50,y:110,width:45,height:30,onmousedown:function(){window.clearInterval(this.M);this.M=window.setInterval(function(){this.ga.translate(0,5);a.R||window.clearInterval(this.M)}.bind(this),1E3/60)}.bind(this)});aa=new Q.g(k,{x:4,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.M);
this.M=window.setInterval(function(){this.ga.translate(-5,0);a.R||window.clearInterval(this.M)}.bind(this),1E3/60)}.bind(this)});S=new Q.g(k,{x:110,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.M);this.M=window.setInterval(function(){this.ga.translate(5,0);a.R||window.clearInterval(this.M)}.bind(this),1E3/60)}.bind(this)});ca=new Q.g(new Q.w(j,[0,190,42,42]),{x:50,y:135,padding:[6,6,6,6],onclick:function(){this.ga.reset(0.95)}.bind(this)});ea=new Q.g(new Q.w(j,[0,234,42,
42]),{x:90,y:ca.s(),padding:[6,6,6,6],onclick:function(){this.ga.zoom(200)}.bind(this)});ja=new Q.g(new Q.w(j,[0,278,42,42]),{x:10,y:ca.s(),padding:[6,6,6,6],onclick:function(){this.ga.zoom(-200)}.bind(this)});l=new Q.w(j,[1,365,88,353],{x:0,y:292,disabled:!0});i=new Q.Ad({x:85,y:300,width:130,height:T.height-310,background:"#0001",de:[0,Math.MAX_VALUE],top:new Q.w(j,[506,69,33,30],{padding:[2,2,2,4]}),bottom:new Q.w(j,[506,102,33,30],{padding:[2,2,2,4]}),reset:new Q.w(j,[506,134,33,30],{padding:[2,
4,2,2]})});q=new Q.g(k,{x:5,y:301,width:14,height:14,fill:b.e.html.fill,onclick:function(){O(b.e.html,q)}});s=new Q.g(k,{x:5,y:q.s()+20,width:14,height:14,fill:b.e["head/body"].fill,onclick:function(){O(b.e["head/body"],s)}});x=new Q.g(k,{x:5,y:s.s()+20,width:14,height:14,fill:b.e.title.fill,onclick:function(){O(b.e.title,x)}});y=new Q.g(k,{x:5,y:x.s()+20,width:14,height:14,fill:b.e.style.fill,onclick:function(){O(b.e.style,y)}});v=new Q.g(k,{x:5,y:y.s()+20,width:14,height:14,fill:b.e.script.fill,
onclick:function(){O(b.e.script,v)}});C=new Q.g(k,{x:5,y:v.s()+20,width:14,height:14,fill:b.e.div.fill,onclick:function(){O(b.e.div,C)}});p=new Q.g(k,{x:5,y:C.s()+20,width:14,height:14,fill:b.e.span.fill,onclick:function(){O(b.e.span,p)}});r=new Q.g(k,{x:5,y:p.s()+20,width:14,height:14,fill:b.e.table.fill,onclick:function(){O(b.e.table,r)}});w=new Q.g(k,{x:5,y:r.s()+20,width:14,height:14,fill:b.e.tr.fill,onclick:function(){O(b.e.tr,w)}});t=new Q.g(k,{x:5,y:w.s()+20,width:14,height:14,fill:b.e.td.fill,
onclick:function(){O(b.e.td,t)}});u=new Q.g(k,{x:5,y:t.s()+20,width:14,height:14,fill:b.e.ul.fill,onclick:function(){O(b.e.ul,u)}});z=new Q.g(k,{x:5,y:u.s()+20,width:14,height:14,fill:b.e.li.fill,onclick:function(){O(b.e.li,z)}});B=new Q.g(k,{x:5,y:z.s()+20,width:14,height:14,fill:b.e.p.fill,onclick:function(){O(b.e.p,B)}});n=new Q.g(k,{x:5,y:B.s()+20,width:14,height:14,fill:b.e.a.fill,onclick:function(){O(b.e.a,n)}});D=new Q.g(k,{x:5,y:n.s()+20,width:14,height:14,fill:b.e.img.fill,onclick:function(){O(b.e.img,
D)}});E=new Q.g(k,{x:5,y:D.s()+20,width:14,height:14,fill:b.e.iframe.fill,onclick:function(){O(b.e.iframe,E)}});H=new Q.g(k,{x:5,y:E.s()+20,width:14,height:14,fill:b.e.other.fill,onclick:function(){O(b.e.other,H)}});var O=function(a,b){this.re=a;this.qe=b;var c=Q.h.wa(a.fill),c=Q.h.If(c[0]*255,c[1]*255,c[2]*255);TiltChrome.BrowserOverlay.J.refresh(c[0]*360,c[1]*100,c[2]*100);TiltChrome.BrowserOverlay.J.A.openPopup(k,k,200+b.V(),80+b.s())}.bind(this),Ha=new Q.w(j,[438,67,66,66]),Ea=new Q.w(j,[438,
0,66,66]);Y=new Q.g(Ea,{x:39,y:170,padding:[12,10,12,12],onclick:function(){if(Y.type!==1){Y.type=1;Y.ge(Ha);var a=b.Ba.eg}else Y.type=0,Y.ge(Ea),a=b.Ba.pf;G.O(a.qb.value);ga.O(a.ub.value);ha.O(a.kb.value);ia.O(a.ib.value);na.O(a.vb.value);la();this.n.fe(a.Ub.outline)}.bind(this)});N=new Q.g(new Q.w(j,[505,0,66,66]),{x:39,y:230,padding:[12,10,14,16],onclick:function(){h.i^=1;this.n.v()}.bind(this)});var fa=new Q.w(j,[574,131,29,29],{padding:[8,8,8,8]});G=new Q.Ea(fa,{x:64,y:12,size:120,value:b.Ba.sb.qb.value,
onmousedown:function(){la()}});ga=new Q.Ea(fa,{x:G.V(),y:G.s()+19,size:120,value:b.Ba.sb.ub.value,onmousedown:function(){la()}});ha=new Q.Ea(fa,{x:G.V(),y:ga.s()+18,size:120,value:b.Ba.sb.kb.value,onmousedown:function(){la()}});ia=new Q.Ea(fa,{x:G.V(),y:ha.s()+18,size:120,value:b.Ba.sb.ib.value,onmousedown:function(){la()}});na=new Q.Ea(fa,{x:G.V(),y:ia.s()+18,size:120,value:b.Ba.sb.vb.value,onmousedown:function(){la()}});var la=function(){window.clearInterval(this.kd);this.kd=window.setInterval(function(){var b=
Q.h.cf(G.S*0.01,ga.S*0.01,ha.S*0.01),c=na.S*0.01;b[0]/=255;b[1]/=255;b[2]/=255;b[3]=ia.S*0.01;this.n.Of(b);this.n.Pf(c);a.R||window.clearInterval(this.kd)}.bind(this),1E3/60)}.bind(this),fa=new Q.w(j,[572,1,231,126],{disabled:!0});h=new Q.na({x:77,y:239,i:!0,elements:[fa,G,ga,ha,ia,na]});ta=new Q.w(j,[210,180,610,510],{disabled:!0});ua=new Q.g(k,{width:30,height:30,onclick:function(){a.Qe(g)}.bind(this)});g=new Q.na({i:!0,background:"#0107",elements:[ta,ua]});c.push(m,K,V);d.push(L,o,I,A,F,J,ca,ea,
ja,X,U,R,aa,S,Y,N,l,q,s,x,y,v,C,p,r,w,t,u,z,B,n,D,E,H)};this.F=function(){a.F()};this.Yd=function(){A.i=!1;F.i=!1;J.i=!1};this.Xd=function(){A.i=!0;F.i=!0;J.i=!0};this.yg=ba();this.Zd=function(){var a=TiltChrome.BrowserOverlay.J.Na.contentDocument.colorPicked;this.re.fill=a;this.qe.Xb(a);this.Dc();this.n.$d()};this.Rd=function(a,c,d,g){if(i.ed)i.ed=!1,i.view.clear(),this.Uc=0;if("undefined"===typeof this.Uc)this.Uc=0;if(!("undefined"===typeof a.localName||a.localName===k)){var d=this.Uc++,h=3+c*6,
c=3+d*10,j,m,n,J;n=Q.h.G(a.localName.length,4,10);var d=Q.h.G(a.id.length,4,10),l=Q.h.G(a.className.length,4,10),A=h+n*10+3,o=A+d*2+3,h=new Q.g(k,{x:h,y:c,width:n*10,height:7,padding:[-1,-1,-1,-1],stroke:b.e.ag.stroke});n=h.V()+h.La();J=h.s()+h.uc()*2;a.id&&(j=new Q.g(k,{x:A,y:c,width:d*2,height:7,padding:[-1,-1,-1,-1],stroke:h.kc}),n=Math.max(n,j.V()+j.La()));a.className&&(m=new Q.g(k,{x:o,y:c,width:l*2,height:7,padding:[-1,-1,-1,-1],stroke:h.kc}),n=Math.max(n,m.V()+m.La()));n>i.view.La()&&i.view.Tc(n);
i.bottom=J;if(h)i.view.push(h),h.localName=a.localName,h.onclick=function(){a.localName==="img"||a.localName==="input"||a.localName==="button"||a.localName==="meta"||a.localName==="link"||a.localName==="style"||a.localName==="script"||a.localName==="noscript"?this.n.Wb():this.n.ee();this.n.Ra(g)}.bind(this);if(j)i.view.push(j),j.Xb(h.Db),j.localName=a.localName,j.onclick=function(){this.n.Wb();this.n.Ra(g)}.bind(this);if(m)i.view.push(m),m.Xb(h.Db),m.localName=a.localName,m.onclick=function(){this.n.Wb();
this.n.Ra(g)}.bind(this)}};this.Dc=function(){i.view.forEach(function(a){a.Xb((b.e[a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body"]||b.e.other).fill)});i.ed=!0};this.pa=function(a,b){m.W(a,b);i.view.Sc(b-310);K.ca(a-50);L.ca(a-150);o.ca(a-215);I.ca(a-285);A.ca(a-337);F.ca(a-377);J.ca(a-465)};this.d=function(){b=a=this.ga=this.n=k;c!==k&&(c.d(),c=k);d!==k&&(d.d(),d=k);g!==k&&(g.d(),g=k);h!==k&&(h.d(),h=k);i!==k&&(i.d(),i=k);j!==k&&(j.d(),j=k);m!==k&&(m.d(),m=k);ua=ta=na=ia=ha=ga=
G=N=Y=ja=ea=ca=S=aa=R=U=X=V=F=A=J=I=o=L=K=H=E=D=n=B=t=w=r=p=C=v=y=x=s=q=l=k;Q.D(this)};Q.q.u("TiltChrome.UI",this)};TiltChrome=TiltChrome||{};
TiltChrome.Mb=function(a,b,c){var d=new Q.nc(a,{Qa:function(){TiltChrome.BrowserOverlay.d(!0,!0);TiltChrome.BrowserOverlay.href=k;Q.fa.alert("Firefox",Q.$.get("initWebGL.error"));gBrowser.selectedTab=gBrowser.addTab("http://get.webgl.org/troubleshooting/")}}),g=k,h=k,i=15,j=k,m=k,l=k,q={index:-1,fill:"#fff",stroke:"000",za:3,ke:W(),le:W(),me:W(),ne:W()},s={ea:W(),rotation:ka()},x=!0,y=!0,v=!0,C=function(){if(d&&d.t)l=new Q.Lb(TiltChrome.Z.Mb.yb,TiltChrome.Z.Mb.ob),r(),w(),z(),s.ea=[0,0,0],s.rotation=
[0,0,0,1],window.setTimeout(function(){D();E()}.bind(this),100)}.bind(this),p=function(){if(d&&d.t){d.loop(p);y&&(y=!1,t());v&&(v=!1,u());if(x){x=!1;d.clear(0,0,0,1);d.translate(d.width*0.5+100,d.height*0.5-50,-i*30);d.translate(s.ea[0],s.ea[1],s.ea[2]);d.transform(Fa(s.rotation));d.Cd("alpha");d.za(2);j.F();m.F();if(q.index!==-1){var a=Q.h.zf,g=j.I,h=j.P.Q,n=j.ja.Q,l=q.index*30,o=[h[n[l+1]*3],h[n[l+1]*3+1],h[n[l+1]*3+2]],r=[h[n[l+2]*3],h[n[l+2]*3+1],h[n[l+2]*3+2]],w=[h[n[l+5]*3],h[n[l+5]*3+1],h[n[l+
5]*3+2]];a([h[n[l]*3],h[n[l]*3+1],h[n[l]*3+2]],k,g,k,q.ke);a(o,k,g,k,q.le);a(r,k,g,k,q.me);a(w,k,g,k,q.ne);d.Nc();d.oa(!1);d.fill(q.fill);d.stroke(q.stroke);d.za(q.za);d.Af(q.ke,q.le,q.me,q.ne)}c&&"function"===typeof c.F&&c.F(d.nb)}b&&"function"===typeof b.update&&b.update(d.nb);(d.Hd+1)%1E3===0&&TiltChrome.BrowserOverlay.tb()}}.bind(this),r=function(){if("undefined"!==typeof b)b.n=this,"function"===typeof b.init&&b.init(a)}.bind(this),w=function(){if("undefined"!==typeof c)c.n=this,c.ga=b,Q.c.v=
this.v,"function"===typeof c.init&&c.init(a)}.bind(this),t=function(){var a=this.Be;if("undefined"===typeof a||a===k){if(g=Q.mc.pc.ff(window.content),h!==k&&h.d(),h=new Q.Fa(g,{fill:"white",stroke:"#aaa",za:8,vf:!0}),j!==k)j.Ua=h}else if("object"===typeof a){var b=Q.mc.pc.Df(window.content,g,a);h.dg(b,a.left,a.top)}}.bind(this),u=function(){if(d&&d.t){var a=[],b=[],g=[],n=[],o=[],r=[];if(j!==k)j.Ua=k,j.d();m!==k&&m.d();Q.H.he(function(j,m,l,p,q,s){c&&"function"===typeof c.Rd&&c.Rd(j,m,0,p);l={innerHTML:j.innerHTML,
attributes:j.attributes,localName:j.localName,className:j.className,id:j.id,wb:p};try{l.style=window.getComputedStyle(j)}catch(t){l.style=""}j.localName==="head"||j.localName==="title"||j.localName==="meta"||j.localName==="link"||j.localName==="style"||j.localName==="script"||j.localName==="noscript"||j.localName==="option"?(l.index=-1,r.push(l)):(j=Q.H.vc(j),j.width>4&&j.height>4?(l.index=o.length,o.push(l),l=a.length/3,m=m*i+Math.random()*0.1,q=j.x-d.width/2+q+Math.random()*0.1,s=j.y-d.height/2+
s+Math.random()*0.1,p=j.width,j=j.height,a.unshift(q,s,m,q+p,s,m,q+p,s+j,m,q,s+j,m,q,s+j,m-i,q+p,s+j,m-i,q+p,s+j,m,q,s+j,m,q,s,m,q+p,s,m,q+p,s,m-i,q,s,m-i),b.unshift((q+d.width*0.5)/h.width,(s+d.height*0.5)/h.height,(q+d.width*0.5+p)/h.width,(s+d.height*0.5)/h.height,(q+d.width*0.5+p)/h.width,(s+d.height*0.5+j)/h.height,(q+d.width*0.5)/h.width,(s+d.height*0.5+j)/h.height,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1),g.unshift(l+0,l+1,l+2,l+0,l+2,l+3,l+4,l+5,l+6,l+4,l+6,l+7,l+8,l+9,l+10,l+8,l+10,
l+11,l+10,l+9,l+6,l+10,l+6,l+5,l+8,l+11,l+4,l+8,l+4,l+7),n.unshift(l+0,l+1,l+1,l+2,l+2,l+3,l+3,l+0,l+4,l+5,l+5,l+6,l+6,l+7,l+7,l+4,l+8,l+9,l+9,l+10,l+10,l+11,l+11,l+8,l+10,l+9,l+9,l+6,l+6,l+5,l+5,l+10)):(l.index=-1,r.push(l)))}.bind(this),function(){c&&"undefined"!==c.Dc&&c.Dc()}.bind(this),!0);j=new Q.Kb({P:new Q.U(a,3),Ta:new Q.U(b,2),ja:new Q.hb(g),la:[1,1,1,0.85],alpha:1,Ua:h,Xc:o,bf:r,F:function(){var a=Q.Y,b=this.P,c=this.Ta,d=this.color,g=this.ja,h=this.la,j=this.alpha,i=this.Ua,m=this.Ob,
n=l;n.Wc();n.Ha("vertexPosition",b);n.Ha("vertexTexCoord",c);n.Ha("vertexColor",d);n.Ga("mvMatrix",a.I);n.Ga("projMatrix",a.ba);n.qc("tint",h);n.Je("alpha",j);n.bindTexture("sampler",i);a.Gd(m,g);this.I=$(a.I);this.ba=$(a.ba)}});m=new Q.Kb({P:j.P,ja:new Q.hb(n),color:"#0004",Ob:d.LINES});this.$d();TiltChrome.BrowserOverlay.tb()}}.bind(this),z=function(){var a=gBrowser.tabContainer,b=gBrowser.contentWindow,c=TiltChrome.BrowserOverlay.C.A,d=TiltChrome.BrowserOverlay.J.A;window.addEventListener("MozAfterPaint",
B,!1);a.addEventListener("TabClose",n,!1);a.addEventListener("TabAttrModified",n,!1);b.addEventListener("resize",D,!1);gBrowser.addEventListener("mouseover",E,!1);gBrowser.addEventListener("load",H,!0);c.addEventListener("popupshown",K,!1);c.addEventListener("popuphidden",L,!1);d.addEventListener("popupshown",o,!1);d.addEventListener("popuphidden",I,!1)}.bind(this),B=function(b){var b=b.boundingClientRect,c=a.offsetLeft,d=g.width,h=g.height,j=b.left,i=b.top,l=b.width,m=b.height;i>a.offsetTop&&j>c&&
l>4&&m>4?this.Rc(b):j<=0&&i<=0&&j>=-d&&i>=-h&&(l>=d||m>=h)&&window.setTimeout(function(){try{!v&&!y&&(this.Rc(k),this.ce())}catch(a){}}.bind(this),100)}.bind(this),n=function(){if(TiltChrome.BrowserOverlay.href!==window.content.location.href)TiltChrome.BrowserOverlay.href=k,TiltChrome.BrowserOverlay.d(!0,!0)}.bind(this),D=function(){this.v();d.width=window.content.innerWidth;d.height=window.content.innerHeight;b&&"function"===typeof b.pa&&b.pa(d.width,d.height);c&&"function"===typeof c.pa&&c.pa(d.width,
d.height);"open"===TiltChrome.BrowserOverlay.C.A.state&&TiltChrome.BrowserOverlay.C.A.hidePopup();"open"===TiltChrome.BrowserOverlay.J.A.state&&TiltChrome.BrowserOverlay.J.A.hidePopup()}.bind(this),E=function(){this.v();if(a.width!==d.width||a.height!==d.height)a.width=d.width,a.height=d.height,d.t.viewport(0,0,a.width,a.height),p()}.bind(this),H=function(){"undefined"===typeof this.we?this.we=!0:window.setTimeout(function(){try{!v&&!y&&(this.Rc(k),this.ce())}catch(a){}}.bind(this),1E3)}.bind(this),
K=function(){"function"===typeof c.Yd&&c.Yd();this.v()}.bind(this),L=function(){"function"===typeof c.Xd&&c.Xd();q.index=-1;TiltChrome.BrowserOverlay.tb();this.v()}.bind(this),o=function(){this.v()}.bind(this),I=function(){"function"===typeof c.Zd&&c.Zd();q.index=-1;TiltChrome.BrowserOverlay.tb();this.v()}.bind(this);this.v=function(){x=!0};this.Rc=function(a){this.Be=a;y=x=!0};this.ce=function(){v=x=!0};this.tf=function(a,b){Q.ua.Jf(g,a+Q.ua.separator+b+".png");j.save(a,b)};this.$d=function(){this.v();
for(var a=j.Xc,b=[],c=0,d=j.ja.Q.length;c<d;c+=30){var g=a[Math.floor(c/30)],h=Q.h.wa((TiltChrome.ma.c.e[g.localName!=="head"&&g.localName!=="body"?g.localName:"head/body"]||TiltChrome.ma.c.e.other).fill),g=[Q.h.G(h[0]*0.6,0,1),Q.h.G(h[1]*0.6,0,1),Q.h.G(h[2]*0.6,0,1)],h=[Q.h.G(h[0]*1,0,1),Q.h.G(h[1]*1,0,1),Q.h.G(h[2]*1,0,1)];b.unshift(0,0,0,0,0,0,0,0,0,0,0,0,g[0],g[1],g[2],g[0],g[1],g[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],g[0],g[1],g[2],g[0],g[1],g[2])}j.color=new Q.U(b,3)};
this.sf=function(a,b){this.ae(a,b,{Mc:function(a){"open"===TiltChrome.BrowserOverlay.C.A.state&&TiltChrome.BrowserOverlay.C.A.hidePopup();var b=a[0].Wd,a=b.index,b=b.localName!=="head"&&b.localName!=="body"?b.localName:"head/body",c=TiltChrome.ma.c.e[b]||TiltChrome.ma.c.e.other;if(b!=="html")q.index=a,q.fill=c.fill+"55",q.stroke=c.fill+"AA"}.bind(this),Qa:function(){"open"===TiltChrome.BrowserOverlay.C.A.state&&TiltChrome.BrowserOverlay.C.A.hidePopup();q.index=-1}})};this.rf=function(a,b){this.ae(a,
b,{Mc:function(a){this.Ra(a[0].Wd)}.bind(this),Qa:function(){"open"===TiltChrome.BrowserOverlay.C.A.state&&TiltChrome.BrowserOverlay.C.A.hidePopup()}})};this.ae=function(a,b,c){for(var c=c||{},a=Q.h.Ne([a,b,0],[a,b,1],[0,0,d.width,d.height],j.I,j.ba),b=[],g=W(),h=j.ja.Q,i=j.P.Q,l=0,m=h.length,n,o,p;l<m;l+=3)n=[i[h[l]*3],i[h[l]*3+1],i[h[l]*3+2]],o=[i[h[l+1]*3],i[h[l+1]*3+1],i[h[l+1]*3+2]],p=[i[h[l+2]*3],i[h[l+2]*3+1],i[h[l+2]*3+2]],Q.h.jf(n,o,p,a,g)>0&&b.push({Wd:j.Xc[Math.floor(l/30)],location:W(g)});
b.length>0?(b.sort(function(a,b){return a.location[2]<b.location[2]?1:-1}),"function"===typeof c.Mc&&c.Mc(b)):"function"===typeof c.Qa&&c.Qa();this.v()};this.Ra=function(a){if("number"===typeof a){for(var b=j.Xc,c=j.bf,d=0,g=b.length;d<g;d++){var h=b[d];if(a===h.wb){this.Ra(h);return}}b=0;for(d=c.length;b<d;b++)if(g=c[b],a===g.wb){this.Ra(g);break}}else if("object"===typeof a){var c=TiltChrome.BrowserOverlay.C.A,b=Q.Bd.trim(wa(a.innerHTML).replace(/</g,"&lt;").replace(/>/g,"&gt;"))+"\n",d=Q.H.Xe(a.style),
g=Q.H.Ve(a.attributes),h=document.getElementById("tilt-sourceeditor-iframe"),i=h.contentDocument.getElementById("code");document.getElementById("tilt-sourceeditor-title").value="<"+a.localName+(a.className?' class="'+a.className+'"':"")+(a.id?' id="'+a.id+'"':"")+">";c.openPopup(k,"overlap",window.innerWidth-h.width-21,window.innerHeight-h.height-77,!1,!1);i.df=b;i.Oe=d;i.He=g;a.localName==="img"||a.localName==="input"||a.localName==="button"||i.Qb==="attr"?(i.innerHTML=g,h.contentWindow.refreshCodeEditor("css")):
i.Qb==="css"?(i.innerHTML=d,h.contentWindow.refreshCodeEditor("css")):(i.innerHTML=b,h.contentWindow.refreshCodeEditor("html"));c=a.index;a=a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body";b=TiltChrome.ma.c.e[a]||TiltChrome.ma.c.e.other;if(a!=="html")q.index=c,q.fill=b.fill+"55",q.stroke=b.fill+"AA",this.v()}};this.ee=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.df;b.Qb="html";a.contentWindow.refreshCodeEditor("html")};
this.Nf=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.Oe;b.Qb="css";a.contentWindow.refreshCodeEditor("css")};this.Wb=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.He;b.Qb="attr";a.contentWindow.refreshCodeEditor("css")};this.Sf=function(a){var b=a[1],c=a[2];if(s.ea[0]!=a[0]||s.ea[1]!=b||s.ea[2]!=c)b=s.ea,b[0]=a[0],b[1]=a[1],b[2]=a[2],this.v()};
this.Qf=function(a){var b=a[1],c=a[2],d=a[3];if(s.rotation[0]!=a[0]||s.rotation[1]!=b||s.rotation[2]!=c||s.rotation[3]!=d)qa(a,s.rotation),this.v()};this.fe=function(a){m.color=a;this.v()};this.Jg=function(a){m.color[3]=a;this.v()};this.Of=function(a){j.la=a;this.v()};this.Ig=function(a){j.la[3]=a;this.v()};this.Pf=function(a){j.alpha=a;this.v()};this.d=function(){var J=gBrowser.tabContainer,A=gBrowser.contentWindow,F=TiltChrome.BrowserOverlay.C.A,V=TiltChrome.BrowserOverlay.J.A;B!==k&&(window.removeEventListener("MozAfterPaint",
B,!1),B=k);n!==k&&(J.removeEventListener("TabClose",n,!1),J.removeEventListener("TabAttrModified",n,!1),n=k);D!==k&&(A.removeEventListener("resize",D,!1),D=k);E!==k&&(gBrowser.removeEventListener("mouseover",E,!1),E=k);H!==k&&(gBrowser.removeEventListener("load",H,!0),H=k);K!==k&&(F.removeEventListener("popupshown",K,!1),K=k);L!==k&&(F.removeEventListener("popuphidden",L,!1),L=k);o!==k&&(V.removeEventListener("popupshown",o,!1),o=k);I!==k&&(V.removeEventListener("popuphidden",I,!1),I=k);b&&"function"===
typeof b.d&&(b.d(a),b=k);c&&"function"===typeof c.d&&(c.d(a),c=k);h!==k&&(h.d(),h=k);j!==k&&(j.d(),j=k);m!==k&&(m.d(),m=k);l!==k&&(l.d(),l=k);q!==k&&(Q.D(q),q=k);s!==k&&(Q.D(s),s=k);d!==k&&(d.d(),d=k);z=u=t=w=r=p=C=v=y=x=s=q=l=m=j=i=h=g=c=b=a=k;Q.D(this)};Q.q.u("TiltChrome.Visualization",this);C.call(this);p.call(this)};TiltChrome=TiltChrome||{};TiltChrome.Z={};
TiltChrome.Z.Mb={yb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nattribute vec3 vertexColor;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n  color = vertexColor;\n}",ob:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 tint;\nuniform float alpha;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  if (texCoord.s < 0.0) {\n    gl_FragColor = vec4(color.r, color.g, color.b, tint.a);\n  }\n  else {\n    vec4 texture = texture2D(sampler, texCoord);\n    gl_FragColor = tint * texture * alpha + tint * (1.0 - alpha);\n  }\n}"};
