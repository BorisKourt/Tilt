'use strict';var f=void 0,k=null;function ha(){return function(){}}function ia(a){return function(b){this[a]=b}}function y(a){return function(){return this[a]}}var z,TiltChrome=TiltChrome||{};
TiltChrome.BrowserOverlay={href:k,canvas:k,n:k,A:k,L:k,initialize:function(){this.e(!0);if(this.href===window.content.location.href)this.href=k;else{this.href=window.content.location.href;this.A={z:document.getElementById("tilt-sourceeditor"),title:document.getElementById("tilt-sourceeditor-title"),Ma:document.getElementById("tilt-sourceeditor-iframe")};this.L={z:document.getElementById("tilt-colorpicker"),Ma:document.getElementById("tilt-colorpicker-iframe")};this.A.refresh=this.A.Ma.contentWindow.refreshCodeEditor;
this.L.refresh=this.L.Ma.contentWindow.refreshColorPicker;var a=window.content.innerWidth,b=window.content.innerHeight;M.P.ib=document.getElementById("tilt-iframe").contentDocument;M.P.Ga=gBrowser.selectedBrowser.parentNode;this.canvas=M.P.ob(a,b,!0);this.n=new TiltChrome.Nb(this.canvas,new TiltChrome.wd.Fe,new TiltChrome.b.Ee)}},e:function(a,b){M.P.ib=k;M.P.Ga=k;if(this.canvas!==k)this.canvas.parentNode.removeChild(this.canvas),this.canvas=k;var c=function(){if(this.n!==k)this.n.e(),this.n=k;if(this.A!==
k)this.A.z.hidePopup(),this.A.z=k,this.A.title=k,this.A=this.A.Ma=k;if(this.L!==k)this.L.z.hidePopup(),this.L.z=k,this.L=this.L.Ma=k;M.C.log();M.C.reset();a&&window.setTimeout(this.Wb,100)}.bind(this);b?window.setTimeout(c,100):c()},Wb:function(){window.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci.nsIDOMWindowUtils).garbageCollect()}};var M=M||{};
M.ud=function(a,b,c){M.C.F("Tilt.Arcball",this);this.$a=[0,0];this.Gb=[0,0];this.Fb=[0,0];this.fd=[0,0];this.za=-1;this.ab=0;this.jc=[];this.od=P.create();this.ye=P.create();this.ze=P.create();this.kc=V.create([0,0,0,1]);this.bd=V.create([0,0,0,1]);this.ec=V.create([0,0,0,1]);this.ed=P.create();this.cd=P.create();this.ad=P.create();this.yb=[0,0];this.zb=[0,0];this.ve=V.create([0,0,0,1]);this.we=P.create();this.qa(a,b,c)};
M.ud.prototype={loop:function(a){var a="undefined"===typeof a?0.25:M.i.K(a/100,0.01,0.99),b,c,d=this.hd,e=this.q,h=this.r,g=this.$a,i=this.Gb,j=this.Fb;c=this.fd;var l=this.za,n=this.ab,r=this.jc,u=this.od,v=this.ye,s=this.ze,A=this.kc,o=this.bd,q=this.ec,x=this.ed,t=this.cd,w=this.ad,B=this.yb,D=this.zb,m=this.ve,E=this.we;c[0]+=(j[0]-c[0])*a;c[1]+=(j[1]-c[1])*a;b=c[0];c=c[1];if(l===3||b===i[0]&&c===i[1])this.jd=!1;l===1||this.jd?(this.jd=!0,this.fe(b,c,e,h,d,v),P.Hd(u,v,s),P.length(s)>0?(o[0]=s[0],
o[1]=s[1],o[2]=s[2],o[3]=-P.pa(u,v)):(o[0]=0,o[1]=0,o[2]=0,o[3]=1),V.multiply(A,o,q)):V.set(q,A);l===3?(t[0]=j[0]-g[0],t[1]=j[1]-g[1],w[0]=x[0]+t[0],w[1]=x[1]+t[1]):(x[0]=w[0],x[1]=w[1]);t[2]=(n-w[2])/10;w[2]+=t[2];r[65]&&(B[0]-=a/5);r[68]&&(B[0]+=a/5);r[87]&&(B[1]+=a/5);r[83]&&(B[1]-=a/5);r[37]&&(D[0]+=a*50);r[39]&&(D[0]-=a*50);r[38]&&(D[1]+=a*50);r[40]&&(D[1]-=a*50);m[0]+=(B[0]-m[0])*a;m[1]+=(B[1]-m[1])*a;E[0]+=(D[0]-E[0])*a;E[1]+=(D[1]-E[1])*a;M.i.Cf(m[0],m[1],0,o);t[0]=E[0];t[1]=E[1];t[2]=0;return{rotation:V.multiply(o,
q),Z:P.add(t,w)}},Hc:function(a,b,c){this.Xa();this.$a[0]=a;this.$a[1]=b;this.za=c;this.nc();this.fe(a,b,this.q,this.r,this.hd,this.od);V.set(this.ec,this.kc)},Lc:function(a,b){this.Gb[0]=a;this.Gb[1]=b;this.za=-1},Ic:function(a,b){this.za!==-1&&(this.Fb[0]=a,this.Fb[1]=b)},Jc:function(){this.za=-1},Kc:function(a){this.Xa();this.ab-=a*10},Dc:function(a){this.Xa();this.jc[a]=!0},Ec:function(a){this.jc[a]=!1},fe:function(a,b,c,d,e,h){a=(a-c/2)/e;b=(b-d/2)/e;c=0;c=a*a+b*b;c>1?(c=1/Math.sqrt(c),h[0]=
a*c,h[1]=b*c,h[2]=0):(h[0]=a,h[1]=b,h[2]=Math.sqrt(1-c))},qa:function(a,b,c){this.q=a;this.r=b;this.hd="undefined"!==typeof c?c:b;this.nc()},translate:function(a,b){this.zb[0]+=a;this.zb[1]+=b},rotate:function(a,b){this.yb[0]+=a;this.yb[1]+=b},zoom:function(a){this.ab+=a},stop:function(){this.Xa();this.nc();this.za=-1},reset:function(a){var b,c=this.ab,d=this.kc,e=this.bd,h=this.ec,g=this.ed,i=this.cd,j=this.ad,l=this.yb,n=this.zb;this.De(function(){b=V.inverse(d);V.Vc(d,b,1-a);V.Vc(e,b,1-a);V.Vc(h,
b,1-a);P.scale(g,a);P.scale(i,a);P.scale(j,a);l[0]*=a;l[1]*=a;n[0]*=a;n[1]*=a;this.ab*=a;P.length(d)<1.0E-4&&P.length(e)<1.0E-4&&P.length(h)<1.0E-4&&P.length(g)<0.01&&P.length(i)<0.01&&P.length(j)<0.01&&P.length([l[0],l[1],c])<0.01&&P.length([n[0],n[1],c])<0.01&&this.Xa()}.bind(this),1E3/60)},De:function(a,b){if("undefined"===typeof this.Bb)this.Bb=window.setInterval(a,b)},Xa:function(){"undefined"!==typeof this.Bb&&(window.clearInterval(this.Bb),delete this.Bb)},nc:function(){var a=this.Fb,b=this.Gb,
c=this.fd,d=this.$a[0],e=this.$a[1];a[0]=d;a[1]=e;b[0]=d;b[1]=e;c[0]=d;c[1]=e},e:function(){this.stop();M.G(this)}};M=M||{};M.W=function(a,b,c){M.C.F("Tilt.VertexBuffer",this);this.S=this.m=k;this.ca=this.Ub=0;"undefined"!==typeof a&&this.Bc(a,b,c)};
M.W.prototype={Bc:function(a,b,c){var d=M.B;"undefined"===typeof c&&(c=a.length/b);this.S=new Float32Array(a);this.m=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.m);d.bufferData(d.ARRAY_BUFFER,this.S,d.STATIC_DRAW);this.Ub=b;this.ca=c},e:function(){M.B.deleteBuffer(this.m);M.G(this)}};M.cb=function(a,b){M.C.F("Tilt.IndexBuffer",this);this.S=this.m=k;this.ca=this.Ub=0;"undefined"!==typeof a&&this.Bc(a,b)};
M.cb.prototype={Bc:function(a,b){var c=M.B;if("undefined"===typeof b)b=a.length;this.S=new Uint16Array(a);this.m=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.m);c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.S,c.STATIC_DRAW);this.Ub=1;this.ca=b},e:function(){M.B.deleteBuffer(this.m);M.G(this)}};M=M||{};M.B=k;M.aa=k;M.dc=-1;M.gc=-1;M.Eb={};M.uc=function(){M.B=k;M.aa=k;M.dc=-1;M.gc=-1;M.Eb={};M.Ad.Ya=0;M.sc.Ya=0};M=M||{};
M.G=function(a){for(var b in a)try{"function"===typeof a[b].e&&a[b].e()}catch(c){}finally{a[b]=k,delete a[b]}};M=M||{};
M.C={enabled:!1,Ja:[],F:function(a,b,c,d,e,h){var g,i,j;if(this.enabled)if(c){if("undefined"===typeof d&&(d=this.Ke.bind(this)),"undefined"===typeof e&&(e=this.Ie.bind(this)),"undefined"===typeof h&&(h=this.Ue.bind(this)),g=b[c],"function"===typeof g)i=this.Ja.length,this.Ja[i]={name:(a+"."||"")+c,hb:0,fb:0,wa:0,Ua:0},b[c]=function(){try{return d(i),h(b,g,arguments)}finally{e(i)}}}else for(j in b)"function"===typeof b[j]&&this.F(a,b,j,d,e,h)},Ke:function(a){this.Ja[a].currentTime=(new Date).getTime()},
Ie:function(a){var a=this.Ja[a],b=(new Date).getTime()-a.currentTime;a.hb++;a.wa=Math.max(a.wa,b);a.fb=(a.wa+b)/2;a.Ua+=b},Ue:function(a,b,c){if(c.length===0)return b.call(a);a=0;c=c.length;for(b="";a<c;a++)b+="arguments[2]["+a+"]"+(a!==c-1?",":"");return eval("arguments[1].call(arguments[0], "+b+");")},log:function(){var a=this.Ja.slice(0),b,c,d,e;a.sort(function(a,b){return a.Ua<b.Ua?1:-1});for(b=0;b<a.length;b++){d=a[b];for(c=b+1;c<a.length;c++)if(e=a[c],d.name===e.name)d.hb+=e.hb,d.wa=Math.max(d.wa,
e.wa),d.fb=(d.fb+e.fb)/2,d.Ua+=e.Ua,a.splice(c,1),c--;d.hb!==0&&M.ga.log("function "+d.name+"\ncalls    "+d.hb+"\naverage  "+d.fb+"ms\nlongest  "+d.wa+"ms\ntotal    "+d.Ua+"ms")}},reset:function(){this.Ja=[]}};M=M||{};M.Mb=function(a,b){M.C.F("Tilt.Program",this);this.m=k;this.Za=-1;this.bb=this.ta=k;this.Ab={};this.qd={};arguments.length===2&&this.kf(a,b)};
M.Mb.prototype={kf:function(a,b){this.m=M.Ad.create(a,b);this.Za=this.m.id;this.ta=this.m.attributes;this.bb=this.m.Va;delete this.m.id;delete this.m.attributes;delete this.m.Va},Yc:function(){var a=this.Za,b;if(M.dc!==a&&(M.dc=a,a=M.B,a.useProgram(this.m),this.Ne(),M.gc<this.ta.length))for(b in M.gc=this.ta.length,this.ta)this.ta.hasOwnProperty(b)&&b!=="length"&&a.enableVertexAttribArray(this.ta[b])},Fa:function(a,b){var c=M.B,d=this.ta[a],e=b.Ub;c.bindBuffer(c.ARRAY_BUFFER,b.m);c.vertexAttribPointer(d,
e,c.FLOAT,!1,0,0)},Ea:function(a,b){var c=this.Ab,d=(b[0]+b[1]+b[2])*(b[4]+b[5]+b[6])*(b[8]+b[9]+b[10])*(b[12]+b[13]+b[14]);c[a]!==d&&(c[a]=d,M.B.uniformMatrix4fv(this.bb[a],!1,b))},tc:function(a,b){var c=this.Ab,d=b[3]*255<<24|b[0]*255<<16|b[1]*255<<8|b[2]*255;c[a]!==d&&(c[a]=d,M.B.uniform4fv(this.bb[a],b))},Le:function(a,b){var c=this.Ab;c[a]!==b&&(c[a]=b,M.B.uniform1f(this.bb[a],b))},bindTexture:function(a,b){var c=this.qd,d=b.Za;if(c[a]!==d)c[a]=d,c=M.B,c.bindTexture(c.TEXTURE_2D,b.m),c.uniform1i(this.bb[a],
0)},Ne:function(){this.qd={}},uc:function(){this.Ab={}},e:function(){M.B.deleteShader(this.m);M.G(this)}};M=M||{};
M.Ad={create:function(a,b){var c=this.compile(a,"x-shader/x-vertex"),d=this.compile(b,"x-shader/x-fragment");return this.link(c,d)},compile:function(a,b){var c=M.B,d;if("string"!==typeof a||a.length<1)return M.ga.error(M.na.get("compileShader.source.error")),k;if(b==="x-shader/x-vertex")d=c.createShader(c.VERTEX_SHADER);else if(b==="x-shader/x-fragment")d=c.createShader(c.FRAGMENT_SHADER);else return M.ga.error(M.na.wc("compileShader.type.error"),[a]),k;c.shaderSource(d,a);c.compileShader(d);d.src=
a;return!c.getShaderParameter(d,c.COMPILE_STATUS)?(c=c.getShaderInfoLog(d),M.ga.error(M.na.wc("compileShader.compile.error"),[c]),k):d},link:function(a,b){var c=M.B,d;d=c.createProgram();c.attachShader(d,a);c.attachShader(d,b);c.linkProgram(d);if(!c.getProgramParameter(d,c.LINK_STATUS))return d=c.getProgramInfoLog(d),M.ga.error(M.na.wc("linkProgram.error",[d])),k;d.id=this.Ya++;c=[a.src,b.src].join(" ").replace(/#.*|[(){};,]/g," ").split(" ");return this.Sf(d,c)},Qf:function(a,b){return M.B.getAttribLocation(a,
b)},Tf:function(a,b){return M.B.getUniformLocation(a,b)},Rf:function(a,b){if("string"===typeof b){if(b.length<1)return k;var c;return(c=this.Qf(a,b))>=0?c:this.Tf(a,b)}return k},Sf:function(a,b){var c,d,e,h;a.attributes={};a.attributes.length=0;a.Va={};a.Va.length=0;for(c=0,d=b.length;c<d;c++)e=b[c],h=this.Rf(a,e),"number"===typeof h&&"undefined"===typeof a.attributes[e]&&(a.attributes[e]=h,a.attributes.length++),"object"===typeof h&&h instanceof WebGLUniformLocation&&"undefined"===typeof a.Va[e]&&
(a.Va[e]=h,a.Va.length++);return a},Ya:0};M=M||{};M.Da=function(a,b){M.C.F("Tilt.Texture",this);b=b||{};this.m=k;this.height=this.width=this.Za=-1;this.loaded=!1;this.onload=b.onload;"object"===typeof a?this.Od(a,b):"string"===typeof a?this.lf(a,b):M.ga.error(M.na.get("initTexture.source.error"))};
M.Da.prototype={Od:function(a,b){this.m=M.sc.create(a,b);this.Za=this.m.id;this.width=this.m.width;this.height=this.m.height;this.loaded=!0;if("function"===typeof this.onload)this.onload();delete this.m.id;delete this.m.width;delete this.m.height;delete this.onload},lf:function(a,b){var c=new Image;c.src=a;c.onload=function(){this.Od(c,b);b=c=k}.bind(this)},e:function(){M.B.deleteTexture(this.m);M.G(this)}};M=M||{};
M.sc={create:function(a,b){b=b||{};if("undefined"!==typeof M.Eb[a.src])return M.Eb[a.src];var c=M.B,d=M.sc.Gf(a,b),e=c.getParameter(c.TEXTURE_BINDING_2D),h=a.width,g=a.height,i=c.createTexture();c.bindTexture(c.TEXTURE_2D,i);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d);i.width=h;i.height=g;i.id=this.Ya++;this.Of(b);c.bindTexture(c.TEXTURE_2D,e);"undefined"!==typeof a.src&&(M.Eb[a.src]=i);return i},Of:function(a){var b=M.B,c=b.TEXTURE_MIN_FILTER,d=b.TEXTURE_MAG_FILTER,e=b.TEXTURE_WRAP_S,
h=b.TEXTURE_WRAP_T,a=a||{};a.ac&&b.bindTexture(b.TEXTURE_2D,a.ac.Eg);"nearest"===a.Vd?b.texParameteri(b.TEXTURE_2D,c,b.NEAREST):"linear"===a.Vd&&a.Wd?b.texParameteri(b.TEXTURE_2D,c,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,c,b.LINEAR);"nearest"===a.Sd?b.texParameteri(b.TEXTURE_2D,d,b.NEAREST):"linear"===a.Sd&&a.Wd?b.texParameteri(b.TEXTURE_2D,d,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,d,b.LINEAR);"repeat"===a.Qg?b.texParameteri(b.TEXTURE_2D,e,b.REPEAT):b.texParameteri(b.TEXTURE_2D,
e,b.CLAMP_TO_EDGE);"repeat"===a.Rg?b.texParameteri(b.TEXTURE_2D,h,b.REPEAT):b.texParameteri(b.TEXTURE_2D,h,b.CLAMP_TO_EDGE);a.Wd&&b.generateMipmap(b.TEXTURE_2D)},Gf:function(a,b){var c=(a.src||"").indexOf("chrome://"),d=M.i.Pd(a.height);if(M.i.Pd(a.width)&&d&&c===-1)try{return a}finally{b=a=k}b=b||{};c=M.P.ob(M.i.Zd(a.width),M.i.Zd(a.height));d=c.getContext("2d");if(b.fill)d.fillStyle=b.fill,d.fillRect(0,0,c.width,c.height);d.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);if(b.stroke)d.strokeStyle=
b.stroke,d.lineWidth=b.sb,d.strokeRect(0,0,c.width,c.height);return c},Lg:function(a){M.B.pixelStorei(M.B.UNPACK_FLIP_Y_WEBGL,a)},Ya:0};
function ja(a){var b={indent_size:2,indent_char:" ",max_char:78,brace_style:"collapse"},c,d,e,b=b||{};c=b.nb||2;d=b.Md||" ";e=b.Ob||"collapse";b=new function(){this.M=0;this.Og="";this.Ha="CONTENT";this.w={parent:"parent1",Bg:1,Ag:""};this.ya=this.Rd=this.of=this.bc=this.fa="";this.V={cc:"\n\r\t ".split(""),Vf:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),Ve:"head,body,/html".split(","),Na:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;
return!1}};this.af=function(){for(var a="",b=[],c=!1;this.input.charAt(this.M)!=="<";){if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;this.Q++;if(this.V.Na(a,this.V.cc))b.length&&(c=!0),this.Q--;else{if(c){if(this.Q>=this.Td){b.push("\n");for(c=0;c<this.ia;c++)b.push(this.Sb);this.Q=0}else b.push(" "),this.Q++;c=!1}b.push(a)}}return b.length?b.join(""):""};this.bf=function(){var a="",b=[],a=/<\/script>/igm;a.lastIndex=this.M;for(var c=(a=
a.exec(this.input))?a.index:this.input.length;this.M<c;){if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;b.push(a)}return b.length?b.join(""):""};this.Sc=function(a){this.w[a+"count"]?this.w[a+"count"]++:this.w[a+"count"]=1;this.w[a+this.w[a+"count"]]=this.ia;this.w[a+this.w[a+"count"]+"parent"]=this.w.parent;this.w.parent=a+this.w[a+"count"]};this.Hf=function(a){if(this.w[a+"count"]){for(var b=this.w.parent;b;){if(a+this.w[a+"count"]===b)break;
b=this.w[b+"parent"]}if(b)this.ia=this.w[a+this.w[a+"count"]],this.w.parent=this.w[b+"parent"];delete this.w[a+this.w[a+"count"]+"parent"];delete this.w[a+this.w[a+"count"]];this.w[a+"count"]==1?delete this.w[a+"count"]:this.w[a+"count"]--}};this.cf=function(){var a="",b=[],c=!1;do{if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;this.Q++;if(this.V.Na(a,this.V.cc))c=!0,this.Q--;else{if(a==="'"||a==='"')if(!b[1]||b[1]!=="!")a+=this.lb(a),c=
!0;a==="="&&(c=!1);if(b.length&&b[b.length-1]!=="="&&a!==">"&&c)this.Q>=this.Td?(this.Sa(!1,b),this.Q=0):(b.push(" "),this.Q++),c=!1;b.push(a)}}while(a!==">");a=b.join("");c=a.substring(1,a.indexOf(" ")!=-1?a.indexOf(" "):a.indexOf(">")).toLowerCase();a.charAt(a.length-2)==="/"||this.V.Na(c,this.V.Vf)?this.fa="SINGLE":c==="script"?(this.Sc(c),this.fa="SCRIPT"):c==="style"?(this.Sc(c),this.fa="STYLE"):c==="a"?(a=this.lb("</a>",a),b.push(a),this.fa="SINGLE"):c.charAt(0)==="!"?c.indexOf("[if")!=-1?(a.indexOf("!IE")!=
-1&&(a=this.lb("--\>",a),b.push(a)),this.fa="START"):c.indexOf("[endif")!=-1?(this.fa="END",this.bg()):(a=c.indexOf("[cdata[")!=-1?this.lb("]]\>",a):this.lb("--\>",a),b.push(a),this.fa="SINGLE"):(c.charAt(0)==="/"?(this.Hf(c.substring(1)),this.fa="END"):(this.Sc(c),this.fa="START"),this.V.Na(c,this.V.Ve)&&this.Sa(!0,this.xa));return b.join("")};this.lb=function(a,b){if(b&&b.indexOf(a)!=-1)return"";var c="",d="",e=!0;do{if(this.M>=this.input.length)break;c=this.input.charAt(this.M);this.M++;if(this.V.Na(c,
this.V.cc)){if(!e){this.Q--;continue}if(c==="\n"||c==="\r"){d+="\n";for(c=0;c<this.ia;c++)d+=this.Sb;e=!1;this.Q=0;continue}}d+=c;this.Q++;e=!0}while(d.indexOf(a)==-1);return d};this.df=function(){var a;if(this.Rd==="TK_TAG_SCRIPT"){a=this.bf();if(typeof a!=="string")return a;a=ka(a,{indent_size:this.nb,indent_char:this.Nd,indent_level:this.ia,brace_style:this.Ob});return[a.replace(/^[\t ]+/,""),"TK_CONTENT"]}if(this.Ha==="CONTENT")return a=this.af(),typeof a!=="string"?a:[a,"TK_CONTENT"];if(this.Ha===
"TAG")return a=this.cf(),typeof a!=="string"?a:[a,"TK_TAG_"+this.fa]};this.Af=function(a,b,c,d){this.input=a||"";this.xa=[];this.Nd=b;this.Sb="";this.nb=c;this.Ob=d;this.ia=0;this.Td=80;for(a=this.Q=0;a<this.nb;a++)this.Sb+=this.Nd;this.Sa=function(a,b){this.Q=0;if(b&&b.length){if(!a)for(;this.V.Na(b[b.length-1],this.V.cc);)b.pop();b.push("\n");for(var c=0;c<this.ia;c++)b.push(this.Sb)}};this.Xb=function(a){this.xa.push(a)};this.hf=function(){this.ia++};this.bg=function(){this.ia>0&&this.ia--}};return this};
for(b.Af(a,d,c,e);;){a=b.df();b.ya=a[0];b.bc=a[1];if(b.bc==="TK_EOF")break;switch(b.bc){case "TK_TAG_START":case "TK_TAG_SCRIPT":case "TK_TAG_STYLE":b.Sa(!1,b.xa);b.Xb(b.ya);b.hf();b.Ha="CONTENT";break;case "TK_TAG_END":b.Sa(!0,b.xa);b.Xb(b.ya);b.Ha="CONTENT";break;case "TK_TAG_SINGLE":b.Sa(!1,b.xa);b.Xb(b.ya);b.Ha="CONTENT";break;case "TK_CONTENT":b.ya!==""&&(b.Sa(!1,b.xa),b.Xb(b.ya)),b.Ha="TAG"}b.Rd=b.bc;b.of=b.ya}return b.xa.join("")}
function ka(a,b){function c(a){for(a=typeof a==="undefined"?!1:a;q.length&&(q[q.length-1]===" "||q[q.length-1]===G||q[q.length-1]===X||a&&(q[q.length-1]==="\n"||q[q.length-1]==="\r"));)q.pop()}function d(a){return a.replace(/^\s\s*|\s\s*$/,"")}function e(){var a=L;L=!1;h();L=a}function h(a){m.Qb=!1;if(!L||!n(m.mode))if(a=typeof a==="undefined"?!0:a,m.La=!1,c(),q.length){if(q[q.length-1]!=="\n"||!a)T=!0,q.push("\n");X&&q.push(X);for(a=0;a<m.ja;a+=1)q.push(G);m.$&&m.ra&&(ea===" "?q.push("    "):q.push(G))}}
function g(){if(m.Qb)m.Qb=!1;else{var a=" ";q.length&&(a=q[q.length-1]);a!==" "&&a!=="\n"&&a!==G&&q.push(" ")}}function i(){T=!1;m.Qb=!1;q.push(x)}function j(){q.length&&q[q.length-1]===G&&q.pop()}function l(a){m&&E.push(m);m={zf:m?m.mode:"BLOCK",mode:a,$:!1,sa:!1,ra:!1,Ac:!1,La:!1,zc:!1,Qb:!1,Tb:-1,ja:m?m.ja+(m.$&&m.ra?1:0):0,Xc:0}}function n(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"}function r(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"||a==="(EXPRESSION)"}function u(){aa=
m.mode==="DO_BLOCK";E.length>0&&(m=E.pop())}function v(a){for(var b=0;b<a.length;b++)if(d(a[b])[0]!="*")return!1;return!0}function s(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function A(){N=0;if(p>=I)return["","TK_EOF"];Z=!1;var a=o.charAt(p);p+=1;if(L&&n(m.mode)){for(var b=0;s(a,H);){a==="\n"?(c(),q.push("\n"),T=!0,b=0):a==="\t"?b+=4:a!=="\r"&&(b+=1);if(p>=I)return["","TK_EOF"];a=o.charAt(p);p+=1}if(m.Tb===-1)m.Tb=b;if(T){var e;for(e=0;e<m.ja+1;e+=1)q.push(G);if(m.Tb!==-1)for(e=
0;e<b-m.Tb;e++)q.push(" ")}}else{for(;s(a,H);){a==="\n"&&(N+=ga?N<=ga?1:0:1);if(p>=I)return["","TK_EOF"];a=o.charAt(p);p+=1}if(W&&N>1)for(e=0;e<N;e+=1)h(e===0),T=!0;Z=N>0}if(s(a,K)){if(p<I)for(;s(o.charAt(p),K);)if(a+=o.charAt(p),p+=1,p===I)break;if(p!==I&&a.match(/^[0-9]+[Ee]$/)&&(o.charAt(p)==="-"||o.charAt(p)==="+"))return b=o.charAt(p),p+=1,e=A(),a+=b+e[0],[a,"TK_WORD"];if(a==="in")return[a,"TK_OPERATOR"];Z&&t!=="TK_OPERATOR"&&t!=="TK_EQUALS"&&!m.La&&(W||w!=="var")&&h();return[a,"TK_WORD"]}if(a===
"("||a==="[")return[a,"TK_START_EXPR"];if(a===")"||a==="]")return[a,"TK_END_EXPR"];if(a==="{")return[a,"TK_START_BLOCK"];if(a==="}")return[a,"TK_END_BLOCK"];if(a===";")return[a,"TK_SEMICOLON"];if(a==="/"){b="";e=!0;if(o.charAt(p)==="*"){p+=1;if(p<I)for(;!(o.charAt(p)==="*"&&o.charAt(p+1)&&o.charAt(p+1)==="/")&&p<I;){a=o.charAt(p);b+=a;if(a==="\r"||a==="\n")e=!1;p+=1;if(p>=I)break}p+=2;return e?["/*"+b+"*/","TK_INLINE_COMMENT"]:["/*"+b+"*/","TK_BLOCK_COMMENT"]}if(o.charAt(p)==="/"){for(b=a;o.charAt(p)!==
"\r"&&o.charAt(p)!=="\n";)if(b+=o.charAt(p),p+=1,p>=I)break;p+=1;Z&&h();return[b,"TK_COMMENT"]}}if(a==="'"||a==='"'||a==="/"&&(t==="TK_WORD"&&s(w,["return","do"])||t==="TK_COMMENT"||t==="TK_START_EXPR"||t==="TK_START_BLOCK"||t==="TK_END_BLOCK"||t==="TK_OPERATOR"||t==="TK_EQUALS"||t==="TK_EOF"||t==="TK_SEMICOLON")){b=a;e=!1;var g=a;if(p<I)if(b==="/")for(a=!1;e||a||o.charAt(p)!==b;){if(g+=o.charAt(p),e?e=!1:(e=o.charAt(p)==="\\",o.charAt(p)==="["?a=!0:o.charAt(p)==="]"&&(a=!1)),p+=1,p>=I)return[g,"TK_STRING"]}else for(;e||
o.charAt(p)!==b;)if(g+=o.charAt(p),e=e?!1:o.charAt(p)==="\\",p+=1,p>=I)return[g,"TK_STRING"];p+=1;g+=b;if(b==="/")for(;p<I&&s(o.charAt(p),K);)g+=o.charAt(p),p+=1;return[g,"TK_STRING"]}if(a==="#"){if(q.length===0&&o.charAt(p)==="!"){for(g=a;p<I&&a!="\n";)a=o.charAt(p),g+=a,p+=1;q.push(d(g)+"\n");h();return A()}b="#";if(p<I&&s(o.charAt(p),Q)){do a=o.charAt(p),b+=a,p+=1;while(p<I&&a!=="#"&&a!=="=");a!=="#"&&(o.charAt(p)==="["&&o.charAt(p+1)==="]"?(b+="[]",p+=2):o.charAt(p)==="{"&&o.charAt(p+1)==="}"&&
(b+="{}",p+=2));return[b,"TK_WORD"]}}if(a==="<"&&o.substring(p-1,p+3)==="<\!--")return p+=3,m.Ac=!0,["<\!--","TK_COMMENT"];if(a==="-"&&m.Ac&&o.substring(p-1,p+2)==="--\>")return m.Ac=!1,p+=2,Z&&h(),["--\>","TK_COMMENT"];if(s(a,J)){for(;p<I&&s(a+o.charAt(p),J);)if(a+=o.charAt(p),p+=1,p>=I)break;return a==="="?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}var o,q,x,t,w,B,D,m,E,G,H,K,J,p,C,Q,F,Y,aa,Z,T,N,X="",b=b?b:{},R;if(b.Wf!==f&&b.Cc===f)b.Cc=b.Wf;b.Me!==f&&(R=b.Me?"expand":"collapse");
R=b.Ob?b.Ob:R?R:"collapse";D=b.nb?b.nb:2;var ea=b.Md?b.Md:" ",W=typeof b.yf==="undefined"?!0:b.yf,ga=typeof b.qf==="undefined"?!1:b.qf,U=b.Cc==="undefined"?!1:b.Cc,L=typeof b.nf==="undefined"?!1:b.nf;T=!1;var I=a.length;for(G="";D>0;)G+=ea,D-=1;for(;a&&(a[0]===" "||a[0]==="\t");)X+=a[0],a=a.substring(1);o=a;D="";t="TK_START_EXPR";B=w="";q=[];aa=!1;H="\n\r\t ".split("");K="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");Q="0123456789".split("");J="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");
C="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(",");E=[];l("BLOCK");for(p=0;;){Y=A();x=Y[0];Y=Y[1];if(Y==="TK_EOF")break;switch(Y){case "TK_START_EXPR":if(x==="["){if(t==="TK_WORD"||w===")"){s(w,C)&&g();l("(EXPRESSION)");i();break}if(m.mode==="[EXPRESSION]"||m.mode==="[INDENTED-EXPRESSION]")if(B==="]"&&w===","){if(m.mode==="[EXPRESSION]")m.mode="[INDENTED-EXPRESSION]",L||(m.ja+=1);l("[EXPRESSION]");L||h()}else if(w==="["){if(m.mode==="[EXPRESSION]")m.mode=
"[INDENTED-EXPRESSION]",L||(m.ja+=1);l("[EXPRESSION]");L||h()}else l("[EXPRESSION]");else l("[EXPRESSION]")}else l("(EXPRESSION)");w===";"||t==="TK_START_BLOCK"?h():t==="TK_END_EXPR"||t==="TK_START_EXPR"||t==="TK_END_BLOCK"||w==="."||(t!=="TK_WORD"&&t!=="TK_OPERATOR"?g():D==="function"||D==="typeof"?U&&g():(s(w,C)||w==="catch")&&g());i();break;case "TK_END_EXPR":if(x==="]")if(L){if(w==="}"){j();i();u();break}}else if(m.mode==="[INDENTED-EXPRESSION]"&&w==="]"){u();h();i();break}u();i();break;case "TK_START_BLOCK":D===
"do"?l("DO_BLOCK"):l("BLOCK");R=="expand"?(t!=="TK_OPERATOR"&&(w==="return"||w==="="?g():h(!0)),i(),m.ja+=1):(t!=="TK_OPERATOR"&&t!=="TK_START_EXPR"?t==="TK_START_BLOCK"?h():g():n(m.zf)&&w===","&&(B==="}"?g():h()),m.ja+=1,i());break;case "TK_END_BLOCK":u();R=="expand"?w!=="{"&&h():t==="TK_START_BLOCK"?T?j():c():n(m.mode)&&L?(L=!1,h(),L=!0):h();i();break;case "TK_WORD":if(aa){g();i();g();aa=!1;break}if(x==="function"){if(m.$)m.ra=!0;if((T||w===";")&&w!=="{"){N=T?N:0;W||(N=1);for(F=0;F<2-N;F++)h(!1)}}if(x===
"case"||x==="default"){w===":"?j():(m.ja--,h(),m.ja++);i();m.zc=!0;break}F="NONE";t==="TK_END_BLOCK"?s(x.toLowerCase(),["else","catch","finally"])?R=="expand"||R=="end-expand"?F="NEWLINE":(F="SPACE",g()):F="NEWLINE":t==="TK_SEMICOLON"&&(m.mode==="BLOCK"||m.mode==="DO_BLOCK")?F="NEWLINE":t==="TK_SEMICOLON"&&r(m.mode)?F="SPACE":t==="TK_STRING"?F="NEWLINE":t==="TK_WORD"?(w==="else"&&c(!0),F="SPACE"):t==="TK_START_BLOCK"?F="NEWLINE":t==="TK_END_EXPR"&&(g(),F="NEWLINE");s(x,C)&&w!==")"&&(F=w=="else"?"SPACE":
"NEWLINE");if(m.La&&t==="TK_END_EXPR")m.La=!1;if(s(x.toLowerCase(),["else","catch","finally"]))t!=="TK_END_BLOCK"||R=="expand"||R=="end-expand"?h():(c(!0),g());else if(F==="NEWLINE"){if(!((t==="TK_START_EXPR"||w==="="||w===",")&&x==="function"))if(x==="function"&&w=="new")g();else if(w==="return"||w==="throw")g();else if(t!=="TK_END_EXPR"){if((t!=="TK_START_EXPR"||x!=="var")&&w!==":")x==="if"&&D==="else"&&w!=="{"?g():(m.$=!1,m.ra=!1,h())}else if(s(x,C)&&w!=")")m.$=!1,m.ra=!1,h()}else n(m.mode)&&w===
","&&B==="}"?h():F==="SPACE"&&g();i();D=x;if(x==="var")m.$=!0,m.ra=!1,m.sa=!1;if(x==="if")m.La=!0;if(x==="else")m.La=!1;break;case "TK_SEMICOLON":i();m.$=!1;m.ra=!1;if(m.mode=="OBJECT")m.mode="BLOCK";break;case "TK_STRING":t==="TK_START_BLOCK"||t==="TK_END_BLOCK"||t==="TK_SEMICOLON"?h():t==="TK_WORD"&&g();i();break;case "TK_EQUALS":if(m.$)m.sa=!0;g();i();g();break;case "TK_OPERATOR":F=B=!0;if(m.$&&x===","&&r(m.mode))m.sa=!1;if(m.$&&x===",")if(m.sa){i();m.ra=!0;m.sa=!1;h();break}else m.sa=!1;if(w===
"return"||w==="throw"){g();i();break}if(x===":"&&m.zc){i();h();m.zc=!1;break}if(x==="::"){i();break}if(x===","){m.$?m.sa?(i(),h(),m.sa=!1):(i(),g()):t==="TK_END_BLOCK"&&m.mode!=="(EXPRESSION)"?(i(),m.mode==="OBJECT"&&w==="}"?h():g()):m.mode==="OBJECT"?(i(),h()):(i(),g());break}else s(x,["--","++","!"])||s(x,["-","+"])&&(s(t,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||s(w,C))?(F=B=!1,w===";"&&r(m.mode)&&(B=!0),t==="TK_WORD"&&s(w,C)&&(B=!0),m.mode==="BLOCK"&&(w==="{"||w===";")&&h()):
x==="."?B=!1:x===":"?m.Xc==0?(m.mode="OBJECT",B=!1):m.Xc-=1:x==="?"&&(m.Xc+=1);B&&g();i();F&&g();break;case "TK_BLOCK_COMMENT":B=x.split(/\x0a|\x0d\x0a/);if(v(B.slice(1))){h();q.push(B[0]);for(F=1;F<B.length;F++)h(),q.push(" "),q.push(d(B[F]))}else{B.length>1?(h(),c()):g();for(F=0;F<B.length;F++)q.push(B[F]),q.push("\n")}h();break;case "TK_INLINE_COMMENT":g();i();r(m.mode)?g():e();break;case "TK_COMMENT":Z?h():g();i();e();break;case "TK_UNKNOWN":(w==="return"||w==="throw")&&g(),i()}B=w;t=Y;w=x}return X+
q.join("").replace(/[\n ]+$/,"")}if(typeof exports!=="undefined")exports.qg=ka;var na,P,oa,$,V;na=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;
P={create:function(a){var b=new na(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},add:function(a,b,c){if(!c||a==c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},tb:function(a,b,c){if(!c||a==c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},wg:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},scale:function(a,b,c){if(!c||a==c)return a[0]*=
b,a[1]*=b,a[2]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},normalize:function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],h=Math.sqrt(c*c+d*d+e*e);if(h){if(h==1)return b[0]=c,b[1]=d,b[2]=e,b}else return b[0]=0,b[1]=0,b[2]=0,b;h=1/h;b[0]=c*h;b[1]=d*h;b[2]=e*h;return b},Hd:function(a,b,c){c||(c=a);var d=a[0],e=a[1],a=a[2],h=b[0],g=b[1],b=b[2];c[0]=e*b-a*g;c[1]=a*h-d*b;c[2]=d*g-e*h;return c},length:function(a){var b=a[0],c=a[1],a=a[2];return Math.sqrt(b*b+c*c+a*a)},pa:function(a,b){return a[0]*b[0]+
a[1]*b[1]+a[2]*b[2]},direction:function(a,b,c){c||(c=a);var d=a[0]-b[0],e=a[1]-b[1],a=a[2]-b[2],b=Math.sqrt(d*d+e*e+a*a);if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/b;c[0]=d*b;c[1]=e*b;c[2]=a*b;return c},rg:function(a,b,c,d){d||(d=a);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);d[2]=a[2]+c*(b[2]-a[2]);return d},Wc:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"}};
oa={create:function(a){var b=new na(9);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8]);return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},va:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},ag:function(a,b){if(!b||a==b){var c=a[1],d=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[3]=c;a[5]=a[7];a[6]=d;a[7]=e;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];
b[4]=a[4];b[5]=a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b},ne:function(a,b){b||(b=$.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=0;b[4]=a[3];b[5]=a[4];b[6]=a[5];b[7]=0;b[8]=a[6];b[9]=a[7];b[10]=a[8];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},Wc:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}};
$={create:function(a){var b=new na(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},va:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=
0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},ag:function(a,b){if(!b||a==b){var c=a[1],d=a[2],e=a[3],h=a[6],g=a[7],i=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=c;a[6]=a[9];a[7]=a[13];a[8]=d;a[9]=h;a[11]=a[14];a[12]=e;a[13]=g;a[14]=i;return a}b[0]=a[0];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b},kg:function(a){var b=a[0],c=a[1],d=a[2],e=a[3],h=a[4],g=a[5],
i=a[6],j=a[7],l=a[8],n=a[9],r=a[10],u=a[11],v=a[12],s=a[13],A=a[14],a=a[15];return v*n*i*e-l*s*i*e-v*g*r*e+h*s*r*e+l*g*A*e-h*n*A*e-v*n*d*j+l*s*d*j+v*c*r*j-b*s*r*j-l*c*A*j+b*n*A*j+v*g*d*u-h*s*d*u-v*c*i*u+b*s*i*u+h*c*A*u-b*g*A*u-l*g*d*a+h*n*d*a+l*c*i*a-b*n*i*a-h*c*r*a+b*g*r*a},inverse:function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],h=a[3],g=a[4],i=a[5],j=a[6],l=a[7],n=a[8],r=a[9],u=a[10],v=a[11],s=a[12],A=a[13],o=a[14],q=a[15],x=c*i-d*g,t=c*j-e*g,w=c*l-h*g,B=d*j-e*i,D=d*l-h*i,m=e*l-h*j,E=n*A-r*s,G=
n*o-u*s,H=n*q-v*s,K=r*o-u*A,J=r*q-v*A,p=u*q-v*o,C=1/(x*p-t*J+w*K+B*H-D*G+m*E);b[0]=(i*p-j*J+l*K)*C;b[1]=(-d*p+e*J-h*K)*C;b[2]=(A*m-o*D+q*B)*C;b[3]=(-r*m+u*D-v*B)*C;b[4]=(-g*p+j*H-l*G)*C;b[5]=(c*p-e*H+h*G)*C;b[6]=(-s*m+o*w-q*t)*C;b[7]=(n*m-u*w+v*t)*C;b[8]=(g*J-i*H+l*E)*C;b[9]=(-c*J+d*H-h*E)*C;b[10]=(s*D-A*w+q*x)*C;b[11]=(-n*D+r*w-v*x)*C;b[12]=(-g*K+i*G-j*E)*C;b[13]=(c*K-d*G+e*E)*C;b[14]=(-s*B+A*t-o*x)*C;b[15]=(n*B-r*t+u*x)*C;return b}};
$.Ng=function(a,b){b||(b=$.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};$.$f=function(a,b){b||(b=oa.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b};
$.Mg=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[4],g=a[5],i=a[6],j=a[8],l=a[9],n=a[10],r=n*g-i*l,u=-n*h+i*j,v=l*h-g*j,s=c*r+d*u+e*v;if(!s)return k;s=1/s;b||(b=oa.create());b[0]=r*s;b[1]=(-n*d+e*l)*s;b[2]=(i*d-e*g)*s;b[3]=u*s;b[4]=(n*c-e*j)*s;b[5]=(-i*c+e*h)*s;b[6]=v*s;b[7]=(-l*c+d*j)*s;b[8]=(g*c-d*h)*s;return b};
$.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],h=a[2],g=a[3],i=a[4],j=a[5],l=a[6],n=a[7],r=a[8],u=a[9],v=a[10],s=a[11],A=a[12],o=a[13],q=a[14],a=a[15],x=b[0],t=b[1],w=b[2],B=b[3],D=b[4],m=b[5],E=b[6],G=b[7],H=b[8],K=b[9],J=b[10],p=b[11],C=b[12],Q=b[13],F=b[14],b=b[15];c[0]=x*d+t*i+w*r+B*A;c[1]=x*e+t*j+w*u+B*o;c[2]=x*h+t*l+w*v+B*q;c[3]=x*g+t*n+w*s+B*a;c[4]=D*d+m*i+E*r+G*A;c[5]=D*e+m*j+E*u+G*o;c[6]=D*h+m*l+E*v+G*q;c[7]=D*g+m*n+E*s+G*a;c[8]=H*d+K*i+J*r+p*A;c[9]=H*e+K*j+J*u+p*o;c[10]=H*h+K*l+J*
v+p*q;c[11]=H*g+K*n+J*s+p*a;c[12]=C*d+Q*i+F*r+b*A;c[13]=C*e+Q*j+F*u+b*o;c[14]=C*h+Q*l+F*v+b*q;c[15]=C*g+Q*n+F*s+b*a;return c};$.sf=function(a,b,c){c||(c=b);var d=b[0],e=b[1],b=b[2];c[0]=a[0]*d+a[4]*e+a[8]*b+a[12];c[1]=a[1]*d+a[5]*e+a[9]*b+a[13];c[2]=a[2]*d+a[6]*e+a[10]*b+a[14];return c};$.Yd=function(a,b,c){c||(c=b);var d=b[0],e=b[1],h=b[2],b=b[3];c[0]=a[0]*d+a[4]*e+a[8]*h+a[12]*b;c[1]=a[1]*d+a[5]*e+a[9]*h+a[13]*b;c[2]=a[2]*d+a[6]*e+a[10]*h+a[14]*b;c[3]=a[3]*d+a[7]*e+a[11]*h+a[15]*b};
$.translate=function(a,b,c){var d=b[0],e=b[1],b=b[2];if(!c||a==c)return a[12]=a[0]*d+a[4]*e+a[8]*b+a[12],a[13]=a[1]*d+a[5]*e+a[9]*b+a[13],a[14]=a[2]*d+a[6]*e+a[10]*b+a[14],a[15]=a[3]*d+a[7]*e+a[11]*b+a[15],a;var h=a[0],g=a[1],i=a[2],j=a[3],l=a[4],n=a[5],r=a[6],u=a[7],v=a[8],s=a[9],A=a[10],o=a[11];c[0]=h;c[1]=g;c[2]=i;c[3]=j;c[4]=l;c[5]=n;c[6]=r;c[7]=u;c[8]=v;c[9]=s;c[10]=A;c[11]=o;c[12]=h*d+l*e+v*b+a[12];c[13]=g*d+n*e+s*b+a[13];c[14]=i*d+r*e+A*b+a[14];c[15]=j*d+u*e+o*b+a[15];return c};
$.scale=function(a,b,c){var d=b[0],e=b[1],b=b[2];if(!c||a==c)return a[0]*=d,a[1]*=d,a[2]*=d,a[3]*=d,a[4]*=e,a[5]*=e,a[6]*=e,a[7]*=e,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a;c[0]=a[0]*d;c[1]=a[1]*d;c[2]=a[2]*d;c[3]=a[3]*d;c[4]=a[4]*e;c[5]=a[5]*e;c[6]=a[6]*e;c[7]=a[7]*e;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c};
$.rotate=function(a,b,c,d){var e=c[0],h=c[1],c=c[2],g=Math.sqrt(e*e+h*h+c*c);if(!g)return k;g!=1&&(g=1/g,e*=g,h*=g,c*=g);var i=Math.sin(b),j=Math.cos(b),l=1-j,b=a[0],g=a[1],n=a[2],r=a[3],u=a[4],v=a[5],s=a[6],A=a[7],o=a[8],q=a[9],x=a[10],t=a[11],w=e*e*l+j,B=h*e*l+c*i,D=c*e*l-h*i,m=e*h*l-c*i,E=h*h*l+j,G=c*h*l+e*i,H=e*c*l+h*i,e=h*c*l-e*i,h=c*c*l+j;d?a!=d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a;d[0]=b*w+u*B+o*D;d[1]=g*w+v*B+q*D;d[2]=n*w+s*B+x*D;d[3]=r*w+A*B+t*D;d[4]=b*m+u*E+o*G;d[5]=g*
m+v*E+q*G;d[6]=n*m+s*E+x*G;d[7]=r*m+A*E+t*G;d[8]=b*H+u*e+o*h;d[9]=g*H+v*e+q*h;d[10]=n*H+s*e+x*h;d[11]=r*H+A*e+t*h;return d};$.ge=function(a,b,c){var d=Math.sin(b),b=Math.cos(b),e=a[4],h=a[5],g=a[6],i=a[7],j=a[8],l=a[9],n=a[10],r=a[11];c?a!=c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[4]=e*b+j*d;c[5]=h*b+l*d;c[6]=g*b+n*d;c[7]=i*b+r*d;c[8]=e*-d+j*b;c[9]=h*-d+l*b;c[10]=g*-d+n*b;c[11]=i*-d+r*b;return c};
$.he=function(a,b,c){var d=Math.sin(b),b=Math.cos(b),e=a[0],h=a[1],g=a[2],i=a[3],j=a[8],l=a[9],n=a[10],r=a[11];c?a!=c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=e*b+j*-d;c[1]=h*b+l*-d;c[2]=g*b+n*-d;c[3]=i*b+r*-d;c[8]=e*d+j*b;c[9]=h*d+l*b;c[10]=g*d+n*b;c[11]=i*d+r*b;return c};
$.ie=function(a,b,c){var d=Math.sin(b),b=Math.cos(b),e=a[0],h=a[1],g=a[2],i=a[3],j=a[4],l=a[5],n=a[6],r=a[7];c?a!=c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=e*b+j*d;c[1]=h*b+l*d;c[2]=g*b+n*d;c[3]=i*b+r*d;c[4]=e*-d+j*b;c[5]=h*-d+l*b;c[6]=g*-d+n*b;c[7]=i*-d+r*b;return c};
$.Xe=function(a,b,c,d,e,h,g){g||(g=$.create());var i=b-a,j=d-c,l=h-e;g[0]=e*2/i;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=e*2/j;g[6]=0;g[7]=0;g[8]=(b+a)/i;g[9]=(d+c)/j;g[10]=-(h+e)/l;g[11]=-1;g[12]=0;g[13]=0;g[14]=-(h*e*2)/l;g[15]=0;return g};$.qb=function(a,b,c,d,e,h){a=c*Math.tan(a*Math.PI/360);b*=a;return $.Xe(-b,b,-a*(h?-1:1),a*(h?-1:1),c,d,e)};
$.Pc=function(a,b,c,d,e,h,g){g||(g=$.create());var i=b-a,j=d-c,l=h-e;g[0]=2/i;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/j;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/l;g[11]=0;g[12]=-(a+b)/i;g[13]=-(d+c)/j;g[14]=-(h+e)/l;g[15]=1;return g};
$.pf=function(a,b,c,d){d||(d=$.create());var e=a[0],h=a[1],a=a[2],g=c[0],i=c[1],j=c[2],c=b[1],l=b[2];if(e==b[0]&&h==c&&a==l)return $.va(d);var n,r,u,v,c=e-b[0],l=h-b[1],b=a-b[2];v=1/Math.sqrt(c*c+l*l+b*b);c*=v;l*=v;b*=v;n=i*b-j*l;j=j*c-g*b;g=g*l-i*c;(v=Math.sqrt(n*n+j*j+g*g))?(v=1/v,n*=v,j*=v,g*=v):g=j=n=0;i=l*g-b*j;r=b*n-c*g;u=c*j-l*n;(v=Math.sqrt(i*i+r*r+u*u))?(v=1/v,i*=v,r*=v,u*=v):u=r=i=0;d[0]=n;d[1]=i;d[2]=c;d[3]=0;d[4]=j;d[5]=r;d[6]=l;d[7]=0;d[8]=g;d[9]=u;d[10]=b;d[11]=0;d[12]=-(n*e+j*h+g*a);
d[13]=-(i*e+r*h+u*a);d[14]=-(c*e+l*h+b*a);d[15]=1;return d};$.Wc=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"};
V={create:function(a){var b=new na(4);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]);return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},ig:function(a,b){var c=a[0],d=a[1],e=a[2];if(!b||a==b)return a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a;b[0]=c;b[1]=d;b[2]=e;b[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e));return b},inverse:function(a,b){if(!b||a==b)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b},length:function(a){var b=a[0],c=a[1],d=a[2],
a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)},normalize:function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],h=a[3],g=Math.sqrt(c*c+d*d+e*e+h*h);if(g==0)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;g=1/g;b[0]=c*g;b[1]=d*g;b[2]=e*g;b[3]=h*g;return b},multiply:function(a,b,c){c||(c=a);var d=a[0],e=a[1],h=a[2],a=a[3],g=b[0],i=b[1],j=b[2],b=b[3];c[0]=d*b+a*g+e*j-h*i;c[1]=e*b+a*i+h*g-d*j;c[2]=h*b+a*j+d*i-e*g;c[3]=a*b-d*g-e*i-h*j;return c},sf:function(a,b,c){c||(c=b);var d=b[0],e=b[1],h=b[2],b=a[0],g=a[1],i=a[2],a=a[3],
j=a*d+g*h-i*e,l=a*e+i*d-b*h,n=a*h+b*e-g*d,d=-b*d-g*e-i*h;c[0]=j*a+d*-b+l*-i-n*-g;c[1]=l*a+d*-g+n*-b-j*-i;c[2]=n*a+d*-i+j*-g-l*-b;return c},$f:function(a,b){b||(b=oa.create());var c=a[0],d=a[1],e=a[2],h=a[3],g=c+c,i=d+d,j=e+e,l=c*g,n=c*i;c*=j;var r=d*i;d*=j;e*=j;g*=h;i*=h;h*=j;b[0]=1-(r+e);b[1]=n-h;b[2]=c+i;b[3]=n+h;b[4]=1-(l+e);b[5]=d-g;b[6]=c-i;b[7]=d+g;b[8]=1-(l+r);return b},ne:function(a,b){b||(b=$.create());var c=a[0],d=a[1],e=a[2],h=a[3],g=c+c,i=d+d,j=e+e,l=c*g,n=c*i;c*=j;var r=d*i;d*=j;e*=j;
g*=h;i*=h;h*=j;b[0]=1-(r+e);b[1]=n-h;b[2]=c+i;b[3]=0;b[4]=n+h;b[5]=1-(l+e);b[6]=d-g;b[7]=0;b[8]=c-i;b[9]=d+g;b[10]=1-(l+r);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},Vc:function(a,b,c,d){d||(d=a);var e=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];if(Math.abs(e)>=1)return d!=a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]),d;var h=Math.acos(e),g=Math.sqrt(1-e*e);if(Math.abs(g)<0.0010)return d[0]=a[0]*0.5+b[0]*0.5,d[1]=a[1]*0.5+b[1]*0.5,d[2]=a[2]*0.5+b[2]*0.5,d[3]=a[3]*0.5+b[3]*0.5,d;e=Math.sin((1-c)*
h)/g;c=Math.sin(c*h)/g;d[0]=a[0]*e+b[0]*c;d[1]=a[1]*e+b[1]*c;d[2]=a[2]*e+b[2]*c;d[3]=a[3]*e+b[3]*c;return d},Wc:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};var qa;qa||(qa={});
(function(){function a(a){return a<10?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=i[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var e,i,v,s,A=h,o,q=d[a];q&&typeof q==="object"&&typeof q.toJSON==="function"&&(q=q.toJSON(a));typeof j==="function"&&(q=j.call(d,a,q));switch(typeof q){case "string":return b(q);case "number":return isFinite(q)?String(q):"null";case "boolean":case "null":return String(q);
case "object":if(!q)return"null";h+=g;o=[];if(Object.prototype.toString.apply(q)==="[object Array]"){s=q.length;for(e=0;e<s;e+=1)o[e]=c(e,q)||"null";v=o.length===0?"[]":h?"[\n"+h+o.join(",\n"+h)+"\n"+A+"]":"["+o.join(",")+"]";h=A;return v}if(j&&typeof j==="object"){s=j.length;for(e=0;e<s;e+=1)typeof j[e]==="string"&&(i=j[e],(v=c(i,q))&&o.push(b(i)+(h?": ":":")+v))}else for(i in q)Object.prototype.hasOwnProperty.call(q,i)&&(v=c(i,q))&&o.push(b(i)+(h?": ":":")+v);v=o.length===0?"{}":h?"{\n"+h+o.join(",\n"+
h)+"\n"+A+"}":"{"+o.join(",")+"}";h=A;return v}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":k},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,g,i={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;if(typeof qa.stringify!=="function")qa.stringify=function(a,b,d){var e;g=h="";if(typeof d==="number")for(e=0;e<d;e+=1)g+=" ";else typeof d==="string"&&(g=d);if((j=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return c("",
{"":a})};if(typeof qa.parse!=="function")qa.parse=function(a,b){function c(a,d){var e,g,h=a[d];if(h&&typeof h==="object")for(e in h)Object.prototype.hasOwnProperty.call(h,e)&&(g=c(h,e),g!==f?h[e]=g:delete h[e]);return b.call(a,d,h)}var e,a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),typeof b==="function"?c({"":e},""):e;throw new SyntaxError("JSON.parse");}})();M=M||{};
M.xd=function(a,b,c){M.C.F("Tilt.Cube",this);a=a||1;b=b||1;c=c||1;this.I=new M.W([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,0.5*c,-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*
b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,-0.5*c],3);this.Ta=new M.W([0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],2);this.ka=new M.cb([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23])};M.xd.prototype={e:function(){M.G(this)}};M=M||{};
M.yd=function(a,b,c){M.C.F("Tilt.CubeWireframe",this);a=a||1;b=b||1;c=c||1;this.I=new M.W([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c],3);this.ka=new M.cb([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,5,1,4,2,7,3,6])};M.yd.prototype={e:function(){M.G(this)}};M=M||{};M.Bd=function(){M.C.F("Tilt.Rectangle",this);this.I=new M.W([0,0,1,0,0,1,1,1],2);this.Ta=new M.W([0,0,1,0,0,1,1,1],2)};
M.Bd.prototype={e:function(){M.G(this)}};M=M||{};M.Cd=function(){M.C.F("Tilt.RectangleWireframe",this);this.I=new M.W([0,0,1,0,1,1,0,1],2)};M.Cd.prototype={e:function(){M.G(this)}};M=M||{};M.Lb=function(a){M.C.F("Tilt.Mesh",this);for(var b in a)this[b]!=="draw"&&(this[b]=a[b]);if("string"===typeof this.color)this.color=M.i.ua(this.color);else if("undefined"===typeof this.color)this.color=[1,1,1,1];if("undefined"===typeof this.Pb)this.Pb=M.aa.TRIANGLES;if("function"===typeof a.D)this.D=a.D};
M.Lb.prototype={D:function(){var a=M.aa,b=this.I,c=this.Ta,d=this.ka,e=this.color,h=this.ac,g=this.Pb;h?a.qe(b,c,e,h):a.wb(b,e);d?a.Jd(g,d):a.Ia(g,b.ca)},e:function(){M.G(this)}};M=M||{};
M.Lb.prototype.save=function(a,b){var c=[],d=[],e=this.I.S,h=this.Ta.S,g=this.ka.S,i,j;c.push("mtllib "+b+".mtl","usemtl webpage");d.push("newmtl webpage","illum 2","Ka 1.000 1.000 1.000","Kd 1.000 1.000 1.000","Ks 0.000 0.000 0.000","map_Ka "+b+".png","map_Kd "+b+".png","map_Ks "+b+".png");for(i=0,j=e.length;i<j;i+=3)c.push("v "+e[i]/100+" "+e[i+1]/-100+" "+e[i+2]/100);for(i=0,j=h.length;i<j;i+=2)c.push("vt "+h[i]+" "+(1-h[i+1]));for(i=0,j=g.length;i<j;i+=3)c.push("f "+(g[i]+1)+"/"+(g[i]+1)+" "+
(g[i+1]+1)+"/"+(g[i+1]+1)+" "+(g[i+2]+1)+"/"+(g[i+2]+1));e=M.Ba.separator;M.Ba.save(c.join("\n"),a+e+b+".obj");M.Ba.save(d.join("\n"),a+e+b+".mtl")};M=M||{};
M.rc=function(a,b){M.C.F("Tilt.Renderer",this);b=b||{};this.canvas=a;this.s=this.Gd(a,{antialias:!0,stencil:!0});M.uc();M.B=this.s;M.aa=this;if("undefined"!==typeof this.s&&this.s!==k){if(this.TRIANGLES=this.s.TRIANGLES,this.TRIANGLE_STRIP=this.s.TRIANGLE_STRIP,this.TRIANGLE_FAN=this.s.TRIANGLE_FAN,this.LINES=this.s.LINES,this.LINE_STRIP=this.s.LINE_STRIP,this.LINE_LOOP=this.s.LINE_LOOP,this.POINTS=this.s.POINTS,this.COLOR_BUFFER_BIT=this.s.COLOR_BUFFER_BIT,this.DEPTH_BUFFER_BIT=this.s.DEPTH_BUFFER_BIT,
this.STENCIL_BUFFER_BIT=this.s.STENCIL_BUFFER_BIT,this.s.clearColor(0,0,0,1),this.s.clearDepth(1),this.s.clearStencil(0),"function"===typeof b.onsuccess)b.onsuccess()}else if(M.ga.log(M.na.get("initWebGL.error")),"function"===typeof b.Qa){b.Qa();return}this.width=a.width;this.height=a.height;this.Nc=[];this.H=$.va($.create());this.da=$.va($.create());this.se=[0,0,0,0];this.sd=[1,1,1,1];this.hc=[1,1,1,1];this.Jb=[0,0,0,1];this.pd=1;this.Oe=new M.Mb(M.ba.vd.xb,M.ba.vd.kb);this.Zf=new M.Mb(M.ba.Da.xb,
M.ba.Da.kb);this.mc=new M.Bd;this.Ce=new M.Cd;this.cg=new M.xd;this.dg=new M.yd;this.lc=0;this.fc=k;this.jb=this.We=this.Kd=this.elapsedTime=0;this.origin();this.qb();this.Id()};
M.rc.prototype={clear:function(a,b,c,d){var e=this.se,h=this.s;if(e[0]!==a||e[1]!==b||e[2]!==c||e[3]!==d)e[0]=a,e[1]=b,e[2]=c,e[3]=d,h.clearColor(a,b,c,d),a*=255,b*=255,c*=255,d*=255,this.canvas.setAttribute("style",["background: rgba(",a,", ",b,", ",c,", ",d,"); width: 100%; height: 100%;"].join(""));h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},background:function(a){a="string"===typeof a?M.i.ua(a):"undefined"===typeof a?[0,0,0,1]:"number"===typeof a?[a/255,a/255,a/255,1]:
[a[0]/255,a[1]/255,a[2]/255,a[3]/255];this.clear(a[0],a[1],a[2],a[3])},qb:function(){var a=this.width,b=this.height,c=a/2,d=b/2,e=d/Math.tan(M.i.Df(45)/2);$.qb(45,a/b,e/10,e*10,this.da,!0);$.translate(this.da,[-c,-d,-e]);$.va(this.H);this.oa(!0)},Pc:function(){$.Pc(0,this.width,this.height,0,-1E6,1E6,this.da);$.translate(this.da,[0,0,-999999]);$.va(this.H);this.oa(!1)},Rc:function(){this.Nc.push($.create(this.H))},Qc:function(){if(this.Nc.length>0)this.H=this.Nc.pop()},origin:function(){$.va(this.H)},
transform:function(a){$.multiply(this.H,a)},translate:function(a,b,c){$.translate(this.H,[a,b,c||0])},rotate:function(a,b,c,d){$.rotate(this.H,a,[b,c,d])},ge:function(a){$.ge(this.H,a)},he:function(a){$.he(this.H,a)},ie:function(a){$.ie(this.H,a)},scale:function(a,b,c){$.scale(this.H,[a,b,c||0])},la:function(a){this.sd=M.i.ua(a)},fill:function(a){this.hc=M.i.ua(a)},stroke:function(a){this.Jb=M.i.ua(a)},tf:function(){var a=this.Jb;a[0]=0;a[1]=0;a[2]=0;a[3]=0},sb:function(a){if(this.pd!==a)this.pd=
a,this.s.lineWidth(a)},Ed:function(a){var b=this.s;"alpha"===a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA)):"add"===a||"additive"===a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE)):b.disable(b.BLEND)},oa:function(a){var b=this.s;a?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)},Xf:function(a){var b=this.s;a?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST)},Id:function(){this.la("#fff");this.fill("#fff");this.stroke("#000");this.sb(1);this.oa(!0);this.Xf(!1);this.Ed("alpha")},
wb:function(a,b){var c=this.Oe;c.Yc();c.Fa("vertexPosition",a);c.Ea("mvMatrix",this.H);c.Ea("projMatrix",this.da);c.tc("color",b)},qe:function(a,b,c,d){var e=this.Zf;e.Yc();e.Fa("vertexPosition",a);e.Fa("vertexTexCoord",b);e.Ea("mvMatrix",this.H);e.Ea("projMatrix",this.da);e.tc("color",c);e.bindTexture("sampler",d)},Bf:function(a,b,c,d){var e=this.hc,h=this.Jb,a=new M.W([a[0],a[1],a[2],b[0],b[1],b[2],c[0],c[1],c[2],d[0],d[1],d[2]],3);e[3]&&(this.wb(a,e),this.Ia(this.TRIANGLE_FAN,a.ca));h[3]&&(this.wb(a,
h),this.Ia(this.LINE_LOOP,a.ca));a.e()},rect:function(a,b,c,d){var e=this.mc,h=this.Ce,g=this.hc,i=this.Jb;"center"===this.mc.Dg&&(a-=c/2,b-=d/2);this.Rc();this.translate(a,b,0);this.scale(c,d,1);g[3]&&(this.wb(e.I,g),this.Ia(this.TRIANGLE_STRIP,e.I.ca));i[3]&&(this.wb(h.I,i),this.Ia(this.LINE_LOOP,h.I.ca));this.Qc()},Ld:function(a,b,c,d,e,h){if(a.loaded){var g=this.mc,i=this.sd,h=h||g.Ta;if("undefined"===typeof d||"undefined"===typeof e)d=a.width,e=a.height;"center"===g.og&&(b-=d/2,c-=e/2);i[3]&&
(this.Rc(),this.translate(b,c,0),this.scale(d,e,1),this.qe(g.I,h,i,a),this.Ia(this.TRIANGLE_STRIP,g.I.ca),this.Qc())}},Ia:function(a,b){this.s.drawArrays(a,0,b)},Jd:function(a,b){var c=this.s;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.m);c.drawElements(a,b.ca,c.UNSIGNED_SHORT,0)},Gd:function(a,b){var c=["experimental-webgl","webgl","webkit-3d","moz-webgl"],d,e,h;for(e=0,h=c.length;e<h;++e){try{d=a.getContext(c[e],b)}catch(g){}if(d)break}return d},loop:function(a){window.Ff(a);this.qb();this.fc=(new Date).getTime();
if(this.lc!==0)this.jb=this.fc-this.lc,this.We=1E3/this.jb;this.lc=this.fc;this.elapsedTime+=this.jb;this.Kd++},e:function(){M.uc();M.G(this)}};window.Ff=window.Fg||window.Pg||window.ug||window.xg||window.vg||function(a){window.setTimeout(a,1E3/60)};M=M||{};M.ba={};M.ba.vd={xb:"attribute vec3 vertexPosition;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvoid main(void) {\n    gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n}",kb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nvoid main(void) {\n    gl_FragColor = color;\n}"};
M.ba.Da={xb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n}",kb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvoid main(void) {\n  vec4 texture = texture2D(sampler, texCoord);\n  gl_FragColor = color * texture;\n}"};
M=M||{};M.ma=function(a){M.C.F("Tilt.Container",this);a=a||{};this.j=a.j||!1;this.disabled=a.disabled||!1;this.re=a.background||k;this.l=a.x||0;this.k=a.y||0;this.q=a.width||0;this.r=a.height||0;this.Aa=a.yg||[0,0];a.elements instanceof Array&&a.elements.forEach(function(a){this.push(a)}.bind(this));M.b.push(this)};M.ma.prototype=[];z=M.ma.prototype;z.N=function(a,b){this.l=a;this.k=b};z.Y=function(a,b){this.q=a;this.r=b};z.ea=ia("l");z.Uc=ia("q");z.Tc=ia("r");z.X=y("l");z.v=y("k");z.Ka=y("q");
z.update=function(a,b){var c,d,e;for(d=0,e=this.length;d<e;d++)c=this[d],"function"===typeof c.update&&!c.j&&!c.disabled&&c.update(a,b)};
z.D=function(a,b){var b=b||M.aa,c;c=this.re;var d=this.l,e=this.k,h=this.q,g=this.r,i=this.Aa,j=d+i[0],i=e+i[1],l,n,r,u,v,s,A,o,q,x;c!==k&&(b.fill(c),b.tf(),b.rect(d,e,h||b.width,g||b.height));b.Rc();b.translate(j,i,0);for(q=0,x=this.length;q<x;q++)if(c=this[q],c.vc=!1,c.Ae=d,c.Be=e,c.gg=h,c.fg=g,!c.j)if(h===0||g===0)c.D(a,b),c.vc=!0;else if(l=c.o||[1,1,1,1],n=l[0]+j,r=l[1]+i,u=l[2],v=l[3],l=n,s=r,n+=u,r+=v,u=d,v=e,A=d+h,o=e+g,l>u&&n<A&&s>v&&r<o)c.D(a,b),c.vc=!0;b.Qc()};
z.e=function(){M.b.splice(M.b.indexOf(this),1);M.G(this)};M=M||{};
M.Dd=function(a){M.C.F("Tilt.ScrollContainer",this);M.b.push(this);this.view=new M.ma(a);this.scrollbars=new M.ma;var b=new M.g(a.top,{x:this.view.l-25,y:this.view.k-5,width:32,height:30,fill:a.top?k:"#f00a",padding:a.top?a.top.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.Ib);window.clearInterval(this.ld);var a=M.b;this.ld=window.setInterval(function(){this.view.Aa[1]+=5;a.t();a.T||(a=k,window.clearInterval(this.ld))}.bind(this),1E3/60)}.bind(this)}),c=new M.g(a.bottom,{x:this.view.l-
25,y:this.view.k+this.view.r-25,width:32,height:30,fill:a.bottom?k:"#0f0a",padding:a.bottom?a.bottom.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.Ib);window.clearInterval(this.kd);var a=M.b;this.kd=window.setInterval(function(){this.view.Aa[1]-=5;a.t();a.T||(a=k,window.clearInterval(this.kd))}.bind(this),1E3/60)}.bind(this)}),a=new M.g(a.reset,{x:this.view.l-25,y:this.view.k+this.view.r-50,width:32,height:30,fill:a.reset?k:"#0f0b",padding:a.reset?a.reset.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.Ib);
this.Ib=window.setInterval(function(){this.view.Aa[1]/=1.15;M.b.t();Math.abs(this.view.Aa[1])<0.1&&window.clearInterval(this.Ib)}.bind(this),1E3/60)}.bind(this)});this.scrollbars.push(b,c,a);a=c=b=k};M.Dd.prototype={update:function(){this.scrollbars.j=this.view.j;this.scrollbars.disabled=this.view.disabled},D:ha(),e:function(){M.b.splice(M.b.indexOf(this),1);M.G(this)}};M=M||{};
M.g=function(a,b){M.C.F("Tilt.Button",this);b=b||{};this.j=b.j||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||f;this.onmouseup=b.onmouseup||f;this.onclick=b.onclick||f;this.c=a||{l:-1,k:-1,q:-1,r:-1};this.c.l=b.x||this.c.l;this.c.k=b.y||this.c.k;this.c.q=b.width||this.c.q;this.c.r=b.height||this.c.r;this.c.disabled=!0;this.f=b.padding||[0,0,0,0];this.Cb=b.fill||k;this.pc=b.stroke||k;this.o=[this.c.l+this.f[0],this.c.k+this.f[1],this.c.q-this.f[0]-this.f[2],this.c.r-this.f[1]-this.f[3]]};
M.g.prototype={N:function(a,b){"function"===typeof this.c.N?this.c.N(a,b):(this.c.l=a,this.c.k=b);this.o[0]=a+this.f[0];this.o[1]=b+this.f[1]},Y:function(a,b){"function"===typeof this.c.Y?this.c.Y(a,b):(this.c.q=a,this.c.r=b);this.o[2]=a-this.f[0]-this.f[2];this.o[3]=b-this.f[1]-this.f[3]},ea:function(a){this.N(a,this.c.k)},Uc:function(a){this.Y(a,this.c.r)},Tc:function(a){this.Y(this.c.q,a)},le:function(a){var b=this.c.l,c=this.c.k,d=this.c.q,e=this.c.r,h=this.c.f;this.c=a;this.c.f=h;this.c.N(b,
c);this.c.Y(d,e);this.c.disabled=!0},$b:ia("Cb"),X:function(){return this.c.l},v:function(){return this.c.k},Ka:function(){return this.c.q},D:function(a,b){b=b||M.aa;"undefined"!==typeof this.c.qc&&this.c.D(b);var c,d,e=this.Cb,h=this.pc;if(e||h)c=this.o,d=this.f,b.fill(e||"#fff0"),b.stroke(h||"#0000"),b.rect(c[0]-d[0],c[1]-d[1],c[2]+d[0]+d[2],c[3]+d[1]+d[3]);M.b.Re&&(b.fill("#fff2"),b.stroke("#00f"),b.rect(this.c.l,this.c.k,this.c.q,this.c.r),this.disabled||(b.fill("#0f04"),b.rect(this.o[0],this.o[1],
this.o[2],this.o[3])))},e:function(){M.G(this)}};M=M||{};
M.Ca=function(a,b){M.C.F("Tilt.Slider",this);b=b||{};this.j=b.j||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||f;this.onmouseup=b.onmouseup||f;this.onclick=b.onclick||f;this.c=new M.u(a.qc,a.Hb,{padding:a.f,la:a.rd});this.c.l=b.x||this.c.l;this.c.k=b.y||this.c.k;this.c.q=b.width||this.c.q;this.c.r=b.height||this.c.r;this.l=this.c.l;this.k=this.c.k;this.oc=b.size||100;this.dd=b.direction||0;this.o=[this.c.l+this.c.f[0],this.c.k+this.c.f[1],this.c.q-this.c.f[2],this.c.r-this.c.f[3]];
this.R(b.value||0)};
M.Ca.prototype={N:function(a,b){this.l=a;this.k=b;this.o[0]=a+this.c.f[0];this.o[1]=b+this.c.f[1];this.R(this.U)},ea:function(a){this.N(a,this.k);this.R(this.U)},Y:function(a){this.oc=a;this.R(this.U)},R:function(a){var b=this.c,c=this.l,d=this.k,e=this.oc,h=this.dd;this.U=M.i.K(a+0.0010,0,100);h===0?(a=M.i.map(this.U,0,100,c,c+e),b.N(a,d),this.o[0]=a+b.f[0]):(a=M.i.map(this.U,0,100,d,d+e),b.N(c,a),this.o[1]=a+b.f[1])},X:y("l"),v:y("k"),update:function(){var a,b,c,d,e,h,g;if(this.T)this.nd=!0;else if(!M.b.T)this.nd=
!1;if(this.nd)a=this.c,b=this.Ae,c=this.Be,d=this.l,e=this.k,h=this.oc,g=this.dd,g===0?(d+=b,h=d+h,g=M.i.K(M.b.Mc-a.q/2,d,h),b=g-b,a.N(b,e),this.U=M.i.map(g,d,h,0,100),this.o[0]=b+a.f[0]):(e+=c,g=M.i.K(M.b.eg-a.r/2,e,e+h),b=g-c,a.N(d,b),this.U=M.i.map(b,e,e+h,0,100),this.o[1]=b+a.f[1])},D:function(a,b){b=b||M.aa;this.c.D(b)},e:function(){M.G(this)}};M=M||{};
M.u=function(a,b,c){M.C.F("Tilt.Sprite",this);c=c||{};this.j=c.j||!1;this.disabled=c.disabled||!1;this.onmousedown=c.onmousedown||f;this.onmouseup=c.onmouseup||f;this.onclick=c.onclick||f;this.qc=a;this.Hb=b||[0,0,a.width,a.height];this.l=c.x||0;this.k=c.y||0;this.q=c.width||this.Hb[2];this.r=c.height||this.Hb[3];this.f=c.padding||[0,0,0,0];this.rd=c.la||k;this.xe=c.oa||!1;this.o=[this.l+this.f[0],this.k+this.f[1],this.q-this.f[0]-this.f[2],this.r-this.f[0]-this.f[3]];this.Kb=k};
M.u.prototype={N:function(a,b){this.l=a;this.k=b;this.o[0]=a+this.f[0];this.o[1]=b+this.f[1]},Y:function(a,b){this.q=a;this.r=b;this.o[2]=a-this.f[0]-this.f[2];this.o[3]=b-this.f[1]-this.f[3]},ea:function(a){this.N(a,this.k)},Uc:function(a){this.Y(a,this.r)},Tc:function(a){this.Y(this.q,a)},X:y("l"),v:y("k"),Ka:y("q"),D:function(a,b){var b=b||M.aa,c=this.Hb,d=this.qc,e=this.l,h=this.k,g=this.q,i=this.r,j=this.xe,l=this.rd;if(this.Kb===k&&d.loaded)this.Kb=new M.W([c[0]/d.width,c[1]/d.height,(c[0]+
c[2])/d.width,c[1]/d.height,c[0]/d.width,(c[1]+c[3])/d.height,(c[0]+c[2])/d.width,(c[1]+c[3])/d.height],2);l!==k&&b.la(l);j?(b.oa(!0),b.Ld(d,e,h,g,i,this.Kb),b.oa(!1)):b.Ld(d,e,h,g,i,this.Kb);l!==k&&b.la("#fff");M.b.Re&&(b.fill("#fff2"),b.stroke("#f00"),b.rect(this.l,this.k,this.q,this.r),this.disabled||(b.fill("#0f04"),b.rect(this.o[0],this.o[1],this.o[2],this.o[3])))},e:function(){M.G(this)}};M=M||{};M.b=[];M.b.Mc=0;M.b.Xd=0;M.b.T=!1;M.b.rf=0;M.b.Qd=[];M.b.t=ha();
M.b.D=function(a){var b=M.aa,c,d,e;b.Id();b.Pc();for(c=0,d=this.length;c<d;c++)e=this[c],e.j||(e.disabled||e.update(a,b),e.D(a,b))};M.b.xf=function(a){if(!(a.Gc||this.indexOf(a)===-1)){for(var b=0,c=this.length;b<c;b++)this[b].gd=this[b].disabled,this[b].disabled=!0;a.Gc=!0;a.j=!1;a.disabled=!1;this.t()}};M.b.Se=function(a){if(a.Gc&&this.indexOf(a)!==-1){for(var b=0,c=this.length;b<c;b++)this[b].disabled=this[b].gd,delete this[b].gd;a.Gc=!1;a.j=!0;a.disabled=!0;this.t()}};
M.b.Hc=function(a,b,c){this.T=!0;this.Oa=!1;this.Db("onmousedown",a,b,c)};M.b.Lc=function(a,b,c){this.Oa=this.T=!1;this.Db("onmouseup",a,b,c)};M.b.click=function(a,b){this.Db("onclick",a,b)};M.b.Te=function(a,b){this.Db("ondoubleclick",a,b)};M.b.Ic=function(a,b){this.Mc=a;this.Xd=b};M.b.Kc=function(a){this.rf=a;this.ic("onmousescroll",a)};M.b.Oa=ha();M.b.Jc=ha();M.b.Dc=function(a){this.Qd[a]=!0;this.ic("onkeydown",a)};M.b.Ec=function(a){this.Qd[a]=!1;this.ic("onkeyup",a)};
M.b.Db=function(a,b,c,d){var e,h,g,i,j,l,n,r,u,v,s,A,o=this.Mc,q=this.Xd;for(e=0,g=this.length;e<g;e++)if(j=this[e],!j.j&&!j.disabled){h=j.Aa||[0,0];n=j.l+h[0];r=j.k+h[1]+2;for(h=0,i=j.length;h<i;h++)if(l=j[h],!l.j&&!l.disabled&&l.vc){u=l.o||[-1,-1,-1,-1];v=u[0]+n;s=u[1]+r;A=u[2];u=u[3];if("onmouseup"===a)l.T=!1;if(o>v&&o<v+A&&q>s&&q<s+u){if("onmousedown"===a)l.T=!0;this.Oa=!0;l=l[a];"function"===typeof l&&l(b,c,d)}}}};
M.b.ic=function(a,b){var c,d,e,h,g,i;for(c=0,e=this.length;c<e;c++)if(g=this[c],!g.j&&!g.disabled)for(d=0,h=g.length;d<h;d++)i=g[d],!i.j&&!i.disabled&&(i=i[a],"function"===typeof i&&i(b))};M.C.F("Tilt.UI",M.b);M=M||{};
M.ga={alert:function(a,b){var c;"undefined"===typeof b&&(b="undefined");try{c=Cc["@mozilla.org/embedcomp/prompt-service;1"].getService(Ci.nsIPromptService),c.alert(k,a,b)}catch(d){window.alert(b)}},log:function(a){var b;"undefined"===typeof a&&(a="undefined");try{b=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),b.logStringMessage(a)}catch(c){window.alert(a)}},error:function(a,b,c,d,e,h,g){var i,j;"undefined"===typeof a&&(a="undefined");try{i=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),
j=Cc["@mozilla.org/scripterror;1"].createInstance(Ci.nsIScriptError),j.init(a,b,c,d,e,h,g),i.logMessage(j)}catch(l){window.alert(a)}}};M.na={Fd:"tilt-string-bundle",get:function(a){if("undefined"===typeof a)return"undefined";var b=document.getElementById(this.Fd);return b?b.getString(a):a},wc:function(a,b){if("undefined"===typeof a)return"undefined";if("undefined"===typeof b)return a;var c=document.getElementById(this.Fd);return c?c.lg(a,b):[a,b].join(" ")}};M=M||{};
M.P={ib:f,Ga:f,ob:function(a,b,c,d){if("undefined"===typeof this.ib)this.ib=document;if("undefined"===typeof this.Ga)this.Ga=document.body;var e=this.ib,h=this.Ga;if("undefined"===typeof e||e===k||"undefined"===typeof h||h===k)return k;e=e.createElement("canvas");e.setAttribute("style","width: 100%; height: 100%;");e.width=a;e.height=b;e.id=d;c&&this.append(e,h);return e},pg:function(){var a=this.ob(window.innerWidth,window.innerHeight,!0);this.Ga.setAttribute("style","background: #000; margin: 0px; padding: 0px; overflow: hidden;");
return a},append:function(a,b){b.appendChild(a)},remove:function(a){a.parentNode.removeChild(a)},oe:function(a,b,c,d){var e=this.top=this.left=this.vb=0,h=0,g=function(b,d){var l,n,r,u;for(l=0,n=b.childNodes.length;l<n;l++)r=b.childNodes[l],d>e&&(e=d),h++,this.vb++,a(r,d,h,this.vb,this.left,this.top),g(r,d+1),c&&r.localName==="iframe"&&(u=M.P.xc(r),this.left+=u.x,this.top+=u.y,g(r.contentDocument,d+1),this.left-=u.x,this.top-=u.y)}.bind(this);try{"function"===typeof a&&g(d||window.content.document,
0),"function"===typeof b&&b(e,h)}finally{d=k}},Ze:function(a){var b,c={width:a.innerWidth+a.scrollMaxX,height:a.innerHeight+a.scrollMaxY};this.oe(function(a){b=this.xc(a);c.width=Math.max(c.width,b.x||0+b.width||0);c.height=Math.max(c.height,b.y||0+b.height||0)}.bind(this),k,a.document);return c},xc:function(a){if(a.nodeType!==1)return{x:0,y:0,width:0,height:0};var b,c,d,e;try{if(a.localName==="head"||a.localName==="body")throw new Exception;d=a.getBoundingClientRect();b=window.content.pageXOffset;
c=window.content.pageYOffset;return{x:d.left+b,y:d.top+c,width:d.width,height:d.height}}catch(h){c=b=0;d=a.clientWidth;e=a.clientHeight;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}else{if(a.x)b=a.x;if(a.y)c=a.y}return{x:b,y:c,width:d,height:e}}finally{}},mg:function(a){var b;a.nodeType===1?b="ELEMENT_NODE":a.nodeType===2?b="ATTRIBUTE_NODE":a.nodeType===3?b="TEXT_NODE":a.nodeType===4?b="CDATA_SECTION_NODE":a.nodeType===5?b="ENTITY_REFERENCE_NODE":a.nodeType===6?b="ENTITY_NODE":
a.nodeType===7?b="PROCESSING_INSTRUCTION_NODE":a.nodeType===8?b="COMMENT_NODE":a.nodeType===9?b="DOCUMENT_NODE":a.nodeType===10?b="DOCUMENT_TYPE_NODE":a.nodeType===11?b="DOCUMENT_FRAGMENT_NODE":a.nodeType===12&&(b="NOTATION_NODE");return b},Ye:function(a){var b=[],c,d;for(c=0,d=a.length;c<d;c++)b.push(a[c].name+' = "'+a[c].value+'"');return b.join("\n")+"\n"},$e:function(a){var b=[],c,d,e;for(e=0;e<a.length;e++)c=a[e],d=a.getPropertyValue(c),c=c+": "+d+";",'background-attachment: scroll;\nbackground-clip: border-box;\nbackground-color: transparent;\nbackground-image: none;\nbackground-origin: padding-box;\nbackground-position: 0% 0%;\nbackground-repeat: repeat;\nbackground-size: auto auto;\nborder-bottom-color: rgb(0, 0, 0);\nborder-bottom-left-radius: 0px;\nborder-bottom-right-radius: 0px;\nborder-bottom-style: none;\nborder-bottom-width: 0px;\nborder-collapse: separate;\nborder-left-color: rgb(0, 0, 0);\nborder-left-style: none;\nborder-left-width: 0px;\nborder-right-color: rgb(0, 0, 0);\nborder-right-style: none;\nborder-right-width: 0px;\nborder-spacing: 0px 0px;\nborder-top-color: rgb(0, 0, 0);\nborder-top-left-radius: 0px;\nborder-top-right-radius: 0px;\nborder-top-style: none;\nborder-top-width: 0px;\nbottom: auto;\nbox-shadow: none;\ncaption-side: top;\nclear: none;\nclip: auto;\ncolor: rgb(0, 0, 0);\ncontent: none;\ncounter-increment: none;\ncounter-reset: none;\ncursor: auto;\ndirection: ltr;\ndisplay: block;\nempty-cells: -moz-show-background;\nfloat: none;\nfont-family: serif;\nfont-size: 16px;\nfont-size-adjust: none;\nfont-stretch: normal;\nfont-style: normal;\nfont-variant: normal;\nfont-weight: 400;\nheight: 0px;\nime-mode: auto;\nleft: auto;\nletter-spacing: normal;\nline-height: 19.2px;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: 8px;\nmargin-left: 8px;\nmargin-right: 8px;\nmargin-top: 8px;\nmarker-offset: auto;\nmax-height: none;\nmax-width: none;\nmin-height: 0px;\nmin-width: 0px;\nopacity: 1;\noutline-color: rgb(0, 0, 0);\noutline-offset: 0px;\noutline-style: none;\noutline-width: 0px;\noverflow: visible;\noverflow-x: visible;\noverflow-y: visible;\npadding-bottom: 0px;\npadding-left: 0px;\npadding-right: 0px;\npadding-top: 0px;\npage-break-after: auto;\npage-break-before: auto;\npointer-events: auto;\nposition: static;\nquotes: "\u201c" "\u201d" "\u2018" "\u2019";\nresize: none;\nright: auto;\ntable-layout: auto;\ntext-align: start;\ntext-decoration: none;\ntext-indent: 0px;\ntext-overflow: clip;\ntext-shadow: none;\ntext-transform: none;\ntop: auto;\nunicode-bidi: embed;\nvertical-align: baseline;\nvisibility: visible;\nwhite-space: normal;\nwidth: 1157px;\nword-spacing: 0px;\nword-wrap: normal;\nz-index: auto;\n-moz-animation-delay: 0s;\n-moz-animation-direction: normal;\n-moz-animation-duration: 0s;\n-moz-animation-fill-mode: none;\n-moz-animation-iteration-count: 1;\n-moz-animation-name: none;\n-moz-animation-play-state: running;\n-moz-animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-appearance: none;\n-moz-background-inline-policy: continuous;\n-moz-binding: none;\n-moz-border-bottom-colors: none;\n-moz-border-image: none;\n-moz-border-left-colors: none;\n-moz-border-right-colors: none;\n-moz-border-top-colors: none;\n-moz-box-align: stretch;\n-moz-box-direction: normal;\n-moz-box-flex: 0;\n-moz-box-ordinal-group: 1;\n-moz-box-orient: horizontal;\n-moz-box-pack: start;\n-moz-box-sizing: content-box;\n-moz-column-count: auto;\n-moz-column-gap: 16px;\n-moz-column-rule-color: rgb(0, 0, 0);\n-moz-column-rule-style: none;\n-moz-column-rule-width: 0px;\n-moz-column-width: auto;\n-moz-float-edge: content-box;\n-moz-font-feature-settings: normal;\n-moz-font-language-override: normal;\n-moz-force-broken-image-icon: 0;\n-moz-hyphens: manual;\n-moz-image-region: auto;\n-moz-orient: horizontal;\n-moz-outline-radius-bottomleft: 0px;\n-moz-outline-radius-bottomright: 0px;\n-moz-outline-radius-topleft: 0px;\n-moz-outline-radius-topright: 0px;\n-moz-stack-sizing: stretch-to-fit;\n-moz-tab-size: 8;\n-moz-text-blink: none;\n-moz-text-decoration-color: rgb(0, 0, 0);\n-moz-text-decoration-line: none;\n-moz-text-decoration-style: solid;\n-moz-transform: none;\n-moz-transform-origin: 50% 50%;\n-moz-transition-delay: 0s;\n-moz-transition-duration: 0s;\n-moz-transition-property: all;\n-moz-transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-user-focus: none;\n-moz-user-input: auto;\n-moz-user-modify: read-only;\n-moz-user-select: auto;\n-moz-window-shadow: default;\nclip-path: none;\nclip-rule: nonzero;\ncolor-interpolation: srgb;\ncolor-interpolation-filters: linearrgb;\ndominant-baseline: auto;\nfill: rgb(0, 0, 0);\nfill-opacity: 1;\nfill-rule: nonzero;\nfilter: none;\nflood-color: rgb(0, 0, 0);\nflood-opacity: 1;\nimage-rendering: auto;\nlighting-color: rgb(255, 255, 255);\nmarker-end: none;\nmarker-mid: none;\nmarker-start: none;\nmask: none;\nshape-rendering: auto;\nstop-color: rgb(0, 0, 0);\nstop-opacity: 1;\nstroke: none;\nstroke-dasharray: none;\nstroke-dashoffset: 0px;\nstroke-linecap: butt;\nstroke-linejoin: miter;\nstroke-miterlimit: 4;\nstroke-opacity: 1;\nstroke-width: 1px;\ntext-anchor: start;\ntext-rendering: auto;'.indexOf(c)===
-1&&b.push(c);return b.join("\n")+"\n"}};M=M||{};
M.Ba={Uf:function(a,b){var c;c=Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker);c.init(window,a,b==="folder"?Ci.nsIFilePicker.modeGetFolder:Ci.nsIFilePicker.tg);return c.show()==Ci.nsIFilePicker.returnOK?c.file:k},save:function(a,b){var c,d;Cu.import("resource://gre/modules/FileUtils.jsm");Cu.import("resource://gre/modules/NetUtil.jsm");c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile);c.initWithPath(b);c=FileUtils.openSafeFileOutputStream(c);d=Cc["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Ci.nsIScriptableUnicodeConverter);
d.charset="UTF-8";d=d.convertToInputStream(a);NetUtil.asyncCopy(d,c,function(a){Components.isSuccessCode(a)})},Jf:function(a,b){var c,d,e;Cu.import("resource://gre/modules/FileUtils.jsm");Cu.import("resource://gre/modules/NetUtil.jsm");c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile);c.initWithPath(b);d=Cc["@mozilla.org/network/io-service;1"].getService(Ci.nsIIOService);e=d.newURI(a.toDataURL("image/png",""),"UTF8",k);d.newFileURI(c);d=Cc["@mozilla.org/embedding/browser/nsWebBrowserPersist;1"].createInstance(Ci.nsIWebBrowserPersist);
d.persistFlags=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_REPLACE_EXISTING_FILES;d.persistFlags|=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_AUTODETECT_APPLY_CONVERSION;d.saveURI(e,k,k,k,k,c)},separator:navigator.appVersion.indexOf("Win")!==-1?"\\":"/"};M=M||{};
M.i={Df:function(a){return a*Math.PI/180},jg:function(a){return a*180/Math.PI},map:function(a,b,c,d,e){return d+(e-d)*((a-b)/(c-b))},Pd:function(a){return(a&a-1)===0},Zd:function(a){var b;--a;for(b=1;b<32;b<<=1)a|=a>>b;return a+1},K:function(a,b,c){return Math.max(b,Math.min(c,a))},Cg:function(a,b,c){b*=0.5;var d=Math.sin(b),e=a[0]*d,h=a[1]*d,a=a[2]*d,b=Math.cos(b);return"undefined"===typeof c?[e,h,a,b]:(c[0]=e,c[1]=h,c[2]=a,c[3]=b,c)},Cf:function(a,b,c,d){var e;b*=0.5;a*=0.5;c*=0.5;e=Math.sin(b);
var h=Math.sin(a),g=Math.sin(c),i=Math.cos(b),j=Math.cos(a),l=Math.cos(c),b=e*j*l-i*h*g,a=i*h*l+e*j*g,c=i*j*g-e*h*l;e=i*j*l+e*h*g;return"undefined"===typeof d?[b,a,c,e]:(d[0]=b,d[1]=a,d[2]=c,d[3]=e,d)},Yb:function(a,b,c,d,e){var h,g=V.create();d?$.multiply(d,c,h=$.create()):h=c;a[3]=1;$.Yd(h,a,g);d?(e[0]=g[0]/g[3],e[1]=g[1]/g[3],e[0]*=b[2]/2,e[1]*=-b[3]/2,e[0]+=b[2]/2,e[1]+=b[3]/2,e[2]=0):(e[0]=g[0],e[1]=g[1],e[2]=g[2]);return e},pe:function(a,b,c,d,e){var h=$.create(),e=e||V.create();$.multiply(d,
c,h);$.inverse(h);e[0]=+((a[0]-b[0])/b[2]*2-1);e[1]=-((a[1]-b[1])/b[3]*2-1);e[2]=2*a[2]-1;e[3]=1;$.Yd(h,e);e[3]=1/e[3];e[0]*=e[3];e[1]*=e[3];e[2]*=e[3];return e},Pe:function(a,b,c,d,e){this.pe(a,c,d,e,a);this.pe(b,c,d,e,b);return{position:a,pf:b,direction:P.normalize(P.tb(b,a))}},mf:function(a,b,c,d,e){var h=P.create(),g=P.create(),i=P.create(),j=P.create(),l=P.create(),n=d.position,d=d.direction;"undefined"===typeof e&&(e=P.create());P.tb(b,a,h);P.tb(c,a,g);P.Hd(h,g,i);if(i[0]===0&&i[1]===0&&i[2]===
0)return-1;P.tb(n,a,l);b=-P.pa(i,l);i=+P.pa(i,d);if(Math.abs(i)<1.0E-4)return b===0?2:0;i=b/i;if(i<0)return 0;P.add(n,P.scale(d,i),e);n=P.pa(h,h);d=P.pa(h,g);i=P.pa(g,g);P.tb(e,a,j);a=P.pa(j,h);g=P.pa(j,g);j=d*d-n*i;e=(d*g-i*a)/j;if(e<0||e>1)return 0;g=(d*a-n*g)/j;return g<0||e+g>1?0:1},yc:function(a,b,c){c<0&&(c+=1);c>1&&(c-=1);return c<1/6?a+(b-a)*6*c:c<0.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a},Hg:function(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),h,g,i=(d+e)/2;if(d===e)g=e=0;else{h=
d-e;e=i>0.5?h/(2-d-e):h/(d+e);switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return[g,e,i]},ng:function(a,b,c){var d,e;b===0?c=b=a=c:(d=c<0.5?c*(1+b):c+b-c*b,e=2*c-d,c=this.yc(e,d,a+1/3),b=this.yc(e,d,a),a=this.yc(e,d,a-1/3));return[c*255,b*255,a*255]},If:function(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),h,g;h=d-e;if(d===e)g=0;else{switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return[g,
d===0?0:h/d,d]},ff:function(a,b,c){var d,e,h,g=Math.floor(a*6),i=a*6-g,a=c*(1-b),j=c*(1-i*b),b=c*(1-(1-i)*b);switch(g%6){case 0:d=c;e=b;h=a;break;case 1:d=j;e=c;h=a;break;case 2:d=a;e=c;h=b;break;case 3:d=a;e=j;h=c;break;case 4:d=b;e=a;h=c;break;case 5:d=c,e=a,h=j}return[d*255,e*255,h*255]},ua:function(a){var b,c,d;d=a.charAt(0)==="#"?a.substring(1):a;if("undefined"!==typeof this[d])return this[d];if(d.length===3)a=d.charAt(0),b=d.charAt(1),c=d.charAt(2),d=[a,a,b,b,c,c,"ff"].join("");else if(d.length===
4||d.length===5)a=d.charAt(0),b=d.charAt(1),c=d.charAt(2),d=d.charAt(3),d=[a,a,b,b,c,c,d,d].join("");else if(d.match("^rgba")=="rgba")return a=d.substring(5,d.length-1).split(","),a[0]/=255,a[1]/=255,a[2]/=255,a[3]/=255,this[d]=a;else if(d.match("^rgb")=="rgb")return a=d.substring(4,d.length-1).split(","),a[0]/=255,a[1]/=255,a[2]/=255,a[3]=1,this[d]=a;return this[d]=a=[parseInt(d.substring(0,2),16)/255,parseInt(d.substring(2,4),16)/255,parseInt(d.substring(4,6),16)/255,d.length===6?1:parseInt(d.substring(6,
8),16)/255]}};M=M||{};M.Ge={trim:function(a){return a.replace(/^\s+|\s+$/g,"")},sg:function(a){return a.replace(/^\s+/,"")},Ig:function(a){return a.replace(/\s+$/,"")}};M=M||{};M.zd={};M.zd.He={jf:function(a){var b,c,d,e;b=M.P.ob();c=M.P.ob();b=M.rc.prototype.Gd(b);d=b.getParameter(b.MAX_TEXTURE_SIZE);e=M.P.Ze(a);b=M.i.K(e.width,0,d);d=M.i.K(e.height,0,d);c.width=b;c.height=d;c.getContext("2d").drawWindow(a,0,0,b,d,"#fff");return c}};M=M||{};
M.hg={Ef:function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.send(k);d.onreadystatechange=function(){d.readyState===4&&"function"===typeof b&&b(d,c)}},Gg:function(a,b,c){function d(d,g){e[g]=d;h++;h===a.length&&"function"===typeof b&&b(e,c)}var e=[],h=0,g,i;for(g=0,i=a.length;g<i;g++)this.Ef(a[g],d,g)}};TiltChrome=TiltChrome||{};TiltChrome.d={};
TiltChrome.d.b={J:{pb:{mb:{value:50},rb:{value:0},gb:{value:100},eb:{value:80},ub:{value:100},Vb:{outline:[0,0,0,0.25]}},Pa:{mb:{value:50},rb:{value:0},gb:{value:100},eb:{value:80},ub:{value:100},Vb:{outline:[0,0,0,0.25]}},Wa:{mb:{value:57.5},rb:{value:50},gb:{value:100},eb:{value:7.5},ub:{value:100},Vb:{outline:[1,1,1,0.7]}}},h:{Yf:{stroke:"#fff3"},html:{fill:"#FFF"},"head/body":{fill:"#E667AF"},title:{fill:"#CD0074"},script:{fill:"#A64B00"},style:{fill:"#FF9640"},div:{fill:"#5DC8CD"},span:{fill:"#67E46F"},
table:{fill:"#FF0700"},tr:{fill:"#FF4540"},td:{fill:"#FF7673"},ul:{fill:"#4671D5"},li:{fill:"#6C8CD5"},p:{fill:"#888"},a:{fill:"#123EAB"},img:{fill:"#FFB473"},other:{fill:"#444"}}};TiltChrome=TiltChrome||{};TiltChrome.wd={};
TiltChrome.wd.Fe=function(){var a=M.b,b=k,c=0,d=0,e,h,g,i,j,l,n,r,u;this.init=function(a){b=new M.ud(a.width,a.height);this.stop=b.stop.bind(b);this.translate=b.translate.bind(b);this.rotate=b.rotate.bind(b);this.zoom=b.zoom.bind(b);this.reset=b.reset.bind(b);this.qa=b.qa.bind(b);a.addEventListener("mousedown",e,!1);a.addEventListener("mouseup",h,!1);a.addEventListener("click",g,!1);a.addEventListener("dblclick",i,!1);a.addEventListener("mousemove",j,!1);a.addEventListener("mouseout",l,!1);a.addEventListener("DOMMouseScroll",
n,!1);window.addEventListener("keydown",r,!1);window.addEventListener("keyup",u,!1)};this.update=function(a){var c=this.n,a=b.loop(a);c.Nf(a.rotation);c.Pf(a.Z)};e=function(e){e.preventDefault();e.stopPropagation();c=e.clientX-e.target.offsetLeft;d=e.clientY-e.target.offsetTop;a.Hc(c,d,e.which);a.Oa?b.stop():b.Hc(c,d,e.which)};h=function(c){c.preventDefault();c.stopPropagation();var d=c.which,e=c.clientX-c.target.offsetLeft,c=c.clientY-c.target.offsetTop;a.Lc(e,c,d);b.Lc(e,c,d)};g=function(b){b.preventDefault();
b.stopPropagation();var e=b.which,g=b.clientX-b.target.offsetLeft,b=b.clientY-b.target.offsetTop;Math.abs(c-g)<2&&Math.abs(d-b)<2&&(a.click(g,b,e),a.Oa||this.n.vf(g,b))}.bind(this);i=function(b){b.preventDefault();b.stopPropagation();var e=b.clientX-b.target.offsetLeft,b=b.clientY-b.target.offsetTop;Math.abs(c-e)<2&&Math.abs(d-b)<2&&(a.Te(e,b),a.Oa||this.n.uf(e,b))}.bind(this);j=function(c){c.preventDefault();c.stopPropagation();var d=c.clientX-c.target.offsetLeft,c=c.clientY-c.target.offsetTop;a.Ic(d,
c);b.Ic(d,c)};l=function(c){c.preventDefault();c.stopPropagation();a.Jc();b.Jc()};n=function(c){c.preventDefault();c.stopPropagation();a.Kc(c.detail);b.Kc(c.detail)};r=function(c){c=c.keyCode||c.which;"open"!==TiltChrome.BrowserOverlay.A.z.state&&(a.Dc(c),b.Dc(c))};u=function(c){c=c.keyCode||c.which;if(c===27)"open"===TiltChrome.BrowserOverlay.A.z.state?TiltChrome.BrowserOverlay.A.z.hidePopup():(TiltChrome.BrowserOverlay.e(!0,!0),TiltChrome.BrowserOverlay.href=k);a.Ec(c);b.Ec(c)};this.e=function(c){a=
this.n=k;e!==k&&(c.removeEventListener("mousedown",e,!1),e=k);h!==k&&(c.removeEventListener("mouseup",h,!1),h=k);g!==k&&(c.removeEventListener("click",g,!1),g=k);i!==k&&(c.removeEventListener("dblclick",i,!1),i=k);j!==k&&(c.removeEventListener("mousemove",j,!1),j=k);l!==k&&(c.removeEventListener("mouseout",l,!1),l=k);n!==k&&(c.removeEventListener("DOMMouseScroll",n,!1),n=k);r!==k&&(window.removeEventListener("keydown",r,!1),r=k);u!==k&&(window.removeEventListener("keyup",u,!1),u=k);b!==k&&(b.e(),
b=k);M.G(this)};M.C.F("TiltChrome.Controller.MouseAndKeyboard",this)};TiltChrome=TiltChrome||{};TiltChrome.b={};
TiltChrome.b.Ee=function(){var a=M.b,b=k,c=k,d=k,e=k,h=k,g=k,i=k,j=k,l=k,n=k,r=k,u=k,v=k,s=k,A=k,o=k,q=k,x=k,t=k,w=k,B=k,D=k,m=k,E=k,G=k,H=k,K=k,J=k,p=k,C=k,Q=k,F=k,Y=k,aa=k,Z=k,T=k,N=k,X=k,R=k,ea=k,W=k,ga=k,U=k,L=k,I=k,ba=k,fa=k,la=k,ma=k;this.init=function(S){g=new M.Da("chrome://tilt/skin/tilt-ui.png",{Vd:"nearest",Sd:"nearest",onload:function(){this.n.t()}.bind(this)});b=new M.ma;c=new M.ma;i=new M.u(g,[0,768,256,256],{width:S.width,height:S.height,oa:!0,disabled:!0});G=new M.g(new M.u(g,[935,
120,42,38]),{x:S.width-50,y:-5,padding:[0,0,0,5],onclick:function(){TiltChrome.BrowserOverlay.e(!0,!0);TiltChrome.BrowserOverlay.href=k}});H=new M.g(new M.u(g,[935,80,46,38]),{x:S.width-150,y:-5,padding:[0,0,0,5],onclick:function(){var b=S.width/2+197,c=S.height/2-218;la.N(S.width/2-305,S.height/2-305);ma.N(b,c);a.xf(d)}.bind(this)});K=new M.g(new M.u(g,[935,40,61,38]),{x:S.width-215,y:-5,padding:[0,0,0,5],onclick:function(){var a=M.Ba.Uf("Select the folder to save the 3D webpage","folder");a&&(a.reveal(),
this.n.wf(a.path))}.bind(this)});J=new M.g(new M.u(g,[935,0,66,38]),{x:S.width-285,y:-5,padding:[0,0,0,5],onclick:function(){M.ga.alert("Tilt",M.na.get("implement.info"))}.bind(this)});C=new M.g(new M.u(g,[935,200,48,38]),{x:S.width-337,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){this.n.je()}.bind(this)});Q=new M.g(new M.u(g,[935,160,36,38]),{x:S.width-377,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){this.n.Kf()}.bind(this)});p=new M.g(new M.u(g,[935,240,84,38]),{x:S.width-465,y:-5,padding:[0,
0,0,5],j:!0,onclick:function(){this.n.Zb()}.bind(this)});F=new M.g(new M.u(g,[0,147,42,42]),{x:0,y:-5,padding:[6,6,6,6],onclick:function(){window.clearInterval(this.O);this.$c=0;this.O=window.setInterval(function(){this.$c++;this.ha.translate(h.view.j?-5:5,0);this.$c>=20&&window.clearInterval(this.O)}.bind(this),1E3/60);c.j^=1;h.view.j^=1;if(!d.j)d.j=!0;if(!e.j)e.j=!0}.bind(this)});Y=new M.u(g,[0,0,145,145],{x:0,y:0});aa=new M.g(k,{x:50,y:4,width:45,height:30,onmousedown:function(){window.clearInterval(this.O);
this.O=window.setInterval(function(){this.ha.translate(0,-5);a.T||window.clearInterval(this.O)}.bind(this),1E3/60)}.bind(this)});Z=new M.g(k,{x:50,y:110,width:45,height:30,onmousedown:function(){window.clearInterval(this.O);this.O=window.setInterval(function(){this.ha.translate(0,5);a.T||window.clearInterval(this.O)}.bind(this),1E3/60)}.bind(this)});T=new M.g(k,{x:4,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.O);this.O=window.setInterval(function(){this.ha.translate(-5,
0);a.T||window.clearInterval(this.O)}.bind(this),1E3/60)}.bind(this)});N=new M.g(k,{x:110,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.O);this.O=window.setInterval(function(){this.ha.translate(5,0);a.T||window.clearInterval(this.O)}.bind(this),1E3/60)}.bind(this)});X=new M.g(new M.u(g,[0,190,42,42]),{x:50,y:135,padding:[6,6,6,6],onclick:function(){this.ha.reset(0.95)}.bind(this)});R=new M.g(new M.u(g,[0,234,42,42]),{x:90,y:X.v(),padding:[6,6,6,6],onclick:function(){this.ha.zoom(200)}.bind(this)});
ea=new M.g(new M.u(g,[0,278,42,42]),{x:10,y:X.v(),padding:[6,6,6,6],onclick:function(){this.ha.zoom(-200)}.bind(this)});j=new M.u(g,[1,365,88,333],{x:0,y:292,disabled:!0});h=new M.Dd({x:85,y:300,width:130,height:S.height-310,background:"#0001",top:new M.u(g,[506,69,33,30],{padding:[4,4,4,8]}),bottom:new M.u(g,[506,102,33,30],{padding:[4,4,4,8]}),reset:new M.u(g,[506,134,33,30],{padding:[4,8,4,4]})});l=new M.g(k,{x:5,y:301,width:14,height:14,fill:TiltChrome.d.b.h.html.fill,onclick:function(){O(TiltChrome.d.b.h.html,
l)}});n=new M.g(k,{x:5,y:l.v()+20,width:14,height:14,fill:TiltChrome.d.b.h["head/body"].fill,onclick:function(){O(TiltChrome.d.b.h["head/body"],n)}});r=new M.g(k,{x:5,y:n.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.title.fill,onclick:function(){O(TiltChrome.d.b.h.title,r)}});u=new M.g(k,{x:5,y:r.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.style.fill,onclick:function(){O(TiltChrome.d.b.h.style,u)}});v=new M.g(k,{x:5,y:u.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.script.fill,onclick:function(){O(TiltChrome.d.b.h.script,
v)}});s=new M.g(k,{x:5,y:v.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.div.fill,onclick:function(){O(TiltChrome.d.b.h.div,s)}});A=new M.g(k,{x:5,y:s.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.span.fill,onclick:function(){O(TiltChrome.d.b.h.span,A)}});o=new M.g(k,{x:5,y:A.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.table.fill,onclick:function(){O(TiltChrome.d.b.h.table,o)}});q=new M.g(k,{x:5,y:o.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.tr.fill,onclick:function(){O(TiltChrome.d.b.h.tr,
q)}});x=new M.g(k,{x:5,y:q.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.td.fill,onclick:function(){O(TiltChrome.d.b.h.td,x)}});t=new M.g(k,{x:5,y:x.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.ul.fill,onclick:function(){O(TiltChrome.d.b.h.ul,t)}});w=new M.g(k,{x:5,y:t.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.li.fill,onclick:function(){O(TiltChrome.d.b.h.li,w)}});B=new M.g(k,{x:5,y:w.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.p.fill,onclick:function(){O(TiltChrome.d.b.h.p,B)}});D=
new M.g(k,{x:5,y:B.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.a.fill,onclick:function(){O(TiltChrome.d.b.h.a,D)}});m=new M.g(k,{x:5,y:D.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.img.fill,onclick:function(){O(TiltChrome.d.b.h.img,m)}});E=new M.g(k,{x:5,y:m.v()+20,width:14,height:14,fill:TiltChrome.d.b.h.other.fill,onclick:function(){O(TiltChrome.d.b.h.other,E)}});var O=function(a,b){this.ue=a;this.te=b;var c=M.i.ua(a.fill),c=M.i.If(c[0]*255,c[1]*255,c[2]*255);TiltChrome.BrowserOverlay.L.refresh(c[0]*
360,c[1]*100,c[2]*100);TiltChrome.BrowserOverlay.L.z.openPopup(k,k,200+b.X(),80+b.v())}.bind(this),ra=new M.u(g,[438,67,66,66]),pa=new M.u(g,[438,0,66,66]);W=new M.g(pa,{x:39,y:170,padding:[12,10,12,12],onclick:function(){W.type!==1?(W.type=1,W.le(ra),U.R(TiltChrome.d.b.J.Wa.mb.value),L.R(TiltChrome.d.b.J.Wa.rb.value),I.R(TiltChrome.d.b.J.Wa.gb.value),ba.R(TiltChrome.d.b.J.Wa.eb.value),fa.R(TiltChrome.d.b.J.Wa.ub.value),ca(),this.n.ke(TiltChrome.d.b.J.Wa.Vb.outline)):(W.type=0,W.le(pa),U.R(TiltChrome.d.b.J.Pa.mb.value),
L.R(TiltChrome.d.b.J.Pa.rb.value),I.R(TiltChrome.d.b.J.Pa.gb.value),ba.R(TiltChrome.d.b.J.Pa.eb.value),fa.R(TiltChrome.d.b.J.Pa.ub.value),ca(),this.n.ke(TiltChrome.d.b.J.Pa.Vb.outline))}.bind(this)});ga=new M.g(new M.u(g,[505,0,66,66]),{x:39,y:230,padding:[12,10,14,16],onclick:function(){e.j^=1;this.n.t()}.bind(this)});var da=new M.u(g,[574,131,29,29],{padding:[8,8,8,8]});U=new M.Ca(da,{x:64,y:12,size:120,value:TiltChrome.d.b.J.pb.mb.value,onmousedown:function(){ca()}});L=new M.Ca(da,{x:U.X(),y:U.v()+
19,size:120,value:TiltChrome.d.b.J.pb.rb.value,onmousedown:function(){ca()}});I=new M.Ca(da,{x:U.X(),y:L.v()+18,size:120,value:TiltChrome.d.b.J.pb.gb.value,onmousedown:function(){ca()}});ba=new M.Ca(da,{x:U.X(),y:I.v()+18,size:120,value:TiltChrome.d.b.J.pb.eb.value,onmousedown:function(){ca()}});fa=new M.Ca(da,{x:U.X(),y:ba.v()+18,size:120,value:TiltChrome.d.b.J.pb.ub.value,onmousedown:function(){ca()}});var ca=function(){window.clearInterval(this.md);this.md=window.setInterval(function(){var b=M.i.ff(U.U/
100,L.U/100,I.U/100),c=fa.U/100;b[0]/=255;b[1]/=255;b[2]/=255;b[3]=ba.U/100;this.n.Lf(b);this.n.Mf(c);a.T||window.clearInterval(this.md)}.bind(this),1E3/60)}.bind(this),da=new M.u(g,[572,1,231,126],{disabled:!0});e=new M.ma({x:77,y:239,j:!0,elements:[da,U,L,I,ba,fa]});la=new M.u(g,[210,180,610,510],{disabled:!0});ma=new M.g(k,{width:30,height:30,onclick:function(){a.Se(d)}.bind(this)});d=new M.ma({j:!0,background:"#0107",elements:[la,ma]});b.push(i,G,F);c.push(H,K,J,C,Q,p,X,R,ea,Y,aa,Z,T,N,W,ga,j,
l,n,r,u,v,s,A,o,q,x,t,w,B,D,m,E)};this.D=function(){a.D()};this.be=function(){C.j=!1;Q.j=!1;p.j=!1};this.ae=function(){C.j=!0;Q.j=!0;p.j=!0};this.zg=ha();this.ce=function(){var a=TiltChrome.BrowserOverlay.L.Ma.contentDocument.colorPicked;this.ue.fill=a;this.te.$b(a);this.Fc();this.n.de()};this.Ud=function(a,b,c,d){if("undefined"===typeof this.me)this.me=0;if(!("undefined"===typeof a.localName||a.localName===k)){var c=this.me++,e=3+b*6,b=3+c*10,g,i,j;j=M.i.K(a.localName.length,3,10);var c=M.i.K(a.localName.length,
3,10),l=M.i.K(a.id.length,3,10),m=e+j*10+3,o=m+c*3+3,e=new M.g(k,{x:e,y:b,width:j*10,height:7,padding:[-1,-1,-1,-1],stroke:TiltChrome.d.b.h.Yf.stroke});j=e.X()+e.Ka();a.className&&(i=new M.g(k,{x:m,y:b,width:c*3,height:7,padding:[-1,-1,-1,-1],stroke:e.pc}),j=Math.max(j,i.X()+i.Ka()));a.id&&(g=new M.g(k,{x:o,y:b,width:l*3,height:7,padding:[-1,-1,-1,-1],stroke:e.pc}),j=Math.max(j,g.X()+g.Ka()));j>h.view.Ka()&&h.view.Uc(j);if(e)h.view.push(e),e.localName=a.localName,e.onclick=function(){a.localName===
"img"||a.localName==="input"||a.localName==="button"||a.localName==="meta"||a.localName==="link"||a.localName==="style"||a.localName==="script"||a.localName==="noscript"?this.n.Zb():this.n.je();this.n.Ra(d)}.bind(this);if(i)h.view.push(i),i.$b(e.Cb),i.localName=a.localName,i.onclick=function(){this.n.Zb();this.n.Ra(d)}.bind(this);if(g)h.view.push(g),g.$b(e.Cb),g.localName=a.localName,g.onclick=function(){this.n.Zb();this.n.Ra(d)}.bind(this)}};this.Fc=function(){h.view.forEach(function(a){a.$b((TiltChrome.d.b.h[a.localName!==
"head"&&a.localName!=="body"?a.localName:"head/body"]||TiltChrome.d.b.h.other).fill)})};this.qa=function(a,b){i.Y(a,b);h.view.Tc(b-310);G.ea(a-50);H.ea(a-150);K.ea(a-215);J.ea(a-285);C.ea(a-337);Q.ea(a-377);p.ea(a-465)};this.e=function(){a=this.ha=this.n=k;b!==k&&(b.e(),b=k);c!==k&&(c.e(),c=k);d!==k&&(d.e(),d=k);e!==k&&(e.e(),e=k);h!==k&&(h.e(),h=k);g!==k&&(g.e(),g=k);i!==k&&(i.e(),i=k);ma=la=fa=ba=I=L=U=ga=W=ea=R=X=N=T=Z=aa=Y=F=Q=C=p=J=K=H=G=E=m=D=B=x=q=o=A=s=v=u=r=n=l=j=k;M.G(this)};M.C.F("TiltChrome.UI",
this)};TiltChrome=TiltChrome||{};
TiltChrome.Nb=function(a,b,c){var d=new M.rc(a,{Qa:function(){TiltChrome.BrowserOverlay.e(!0,!0);TiltChrome.BrowserOverlay.href=k;M.ga.alert("Firefox",M.na.get("initWebGL.error"));gBrowser.selectedTab=gBrowser.addTab("http://get.webgl.org/troubleshooting/")}}),e=k,h=k,g=k,i=k,j=k,l=-1,n="#fff",r="000",u=P.create(),v=P.create(),s=P.create(),A=P.create(),o={Z:P.create(),rotation:V.create()},q=!0,x=function(){if(d&&d.s)e=M.zd.He.jf(window.content),h=new M.Da(e,{fill:"white",stroke:"#aaa",sb:8}),j=new M.Mb(TiltChrome.ba.Nb.xb,
TiltChrome.ba.Nb.kb),w(),B(),D(),m(),o.Z=[0,0,0],o.rotation=[0,0,0,1],window.setTimeout(function(){p();C()}.bind(this),100)}.bind(this),t=function(){if(d&&d.s){d.loop(t);if(q){q=!1;d.clear(0,0,0,1);d.translate(d.width/2+100,d.height/2-50,-450);d.translate(o.Z[0],o.Z[1],o.Z[2]);d.transform(V.ne(o.rotation));d.Ed("alpha");d.sb(2);g.D();i.D();if(l!==-1){var a=g.H,e=g.I.S,h=g.ka.S,j=l*30,m=[e[h[j+1]*3],e[h[j+1]*3+1],e[h[j+1]*3+2]],p=[e[h[j+2]*3],e[h[j+2]*3+1],e[h[j+2]*3+2]],N=[e[h[j+5]*3],e[h[j+5]*3+
1],e[h[j+5]*3+2]];(0,M.i.Yb)([e[h[j]*3],e[h[j]*3+1],e[h[j]*3+2]],k,a,k,u);(0,M.i.Yb)(m,k,a,k,v);(0,M.i.Yb)(p,k,a,k,s);(0,M.i.Yb)(N,k,a,k,A);d.qb();d.oa(!1);d.fill(n);d.stroke(r);d.sb(3);d.Bf(u,v,s,A)}c&&"function"===typeof c.D&&c.D(d.jb)}b&&"function"===typeof b.update&&b.update(d.jb);(d.Kd+1)%1E3===0&&TiltChrome.BrowserOverlay.Wb()}}.bind(this),w=function(){if("undefined"!==typeof b)b.n=this,"function"===typeof b.init&&b.init(a)}.bind(this),B=function(){if("undefined"!==typeof c)c.n=this,c.ha=b,
M.b.t=this.t,"function"===typeof c.init&&c.init(a)}.bind(this),D=function(){var a=[],b=[],e=[],l=[],m=[],o=[];M.P.oe(function(g,i,j,p,n,q){c&&"function"===typeof c.Ud&&c.Ud(g,i,0,p);j={innerHTML:g.innerHTML,attributes:g.attributes,localName:g.localName,className:g.className,id:g.id,vb:p};try{j.style=window.getComputedStyle(g)}catch(r){j.style=""}g.nodeType!==1||g.localName==="head"||g.localName==="title"||g.localName==="meta"||g.localName==="link"||g.localName==="style"||g.localName==="script"||g.localName===
"noscript"||g.localName==="span"||g.localName==="option"?(j.index=-1,o.push(j)):(g=M.P.xc(g),g.width>4&&g.height>4?(j.index=m.length,m.push(j),j=a.length/3,i=i*15+Math.random()/10,n=g.x-d.width/2+Math.random()/10+n,q=g.y-d.height/2+Math.random()/10+q,p=g.width,g=g.height,a.push(n,q,i,n+p,q,i,n+p,q+g,i,n,q+g,i,n,q+g,i-15,n+p,q+g,i-15,n+p,q+g,i,n,q+g,i,n,q,i,n+p,q,i,n+p,q,i-15,n,q,i-15),b.push((n+d.width/2)/h.width,(q+d.height/2)/h.height,(n+d.width/2+p)/h.width,(q+d.height/2)/h.height,(n+d.width/2+
p)/h.width,(q+d.height/2+g)/h.height,(n+d.width/2)/h.width,(q+d.height/2+g)/h.height,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1),e.push(j+0,j+1,j+2,j+0,j+2,j+3,j+4,j+5,j+6,j+4,j+6,j+7,j+8,j+9,j+10,j+8,j+10,j+11,j+10,j+9,j+6,j+10,j+6,j+5,j+8,j+11,j+4,j+8,j+4,j+7),l.push(j+0,j+1,j+1,j+2,j+2,j+3,j+3,j+0,j+4,j+5,j+5,j+6,j+6,j+7,j+7,j+4,j+8,j+9,j+9,j+10,j+10,j+11,j+11,j+8,j+10,j+9,j+9,j+6,j+6,j+5,j+5,j+10)):(j.index=-1,o.push(j)))}.bind(this),function(){c&&"undefined"!==c.Fc&&c.Fc()}.bind(this),!0);
g=new M.Lb({I:new M.W(a,3),Ta:new M.W(b,2),ka:new M.cb(e),la:[1,1,1,0.85],alpha:1,ac:h,Zc:m,ef:o,D:function(){var a=M.aa,b=this.I,c=this.Ta,d=this.color,e=this.ka,g=this.la,h=this.alpha,i=this.ac,l=this.Pb,m=j;m.Yc();m.Fa("vertexPosition",b);m.Fa("vertexTexCoord",c);m.Fa("vertexColor",d);m.Ea("mvMatrix",a.H);m.Ea("projMatrix",a.da);m.tc("tint",g);m.Le("alpha",h);m.bindTexture("sampler",i);a.Jd(l,e);this.H=$.create(a.H);this.da=$.create(a.da)}});i=new M.Lb({I:g.I,ka:new M.cb(l),color:"#0004",Pb:d.LINES});
this.de()}.bind(this),m=function(){var a=gBrowser.tabContainer,b=TiltChrome.BrowserOverlay.A.z,c=TiltChrome.BrowserOverlay.L.z;a.addEventListener("TabClose",J,!1);a.addEventListener("TabAttrModified",J,!1);gBrowser.contentWindow.addEventListener("resize",p,!1);gBrowser.addEventListener("mouseover",C,!1);b.addEventListener("popupshown",E,!1);b.addEventListener("popuphidden",G,!1);c.addEventListener("popupshown",H,!1);c.addEventListener("popuphidden",K,!1)}.bind(this),E=function(){"function"===typeof c.be&&
c.be();this.t()}.bind(this),G=function(){"function"===typeof c.ae&&c.ae();l=-1;TiltChrome.BrowserOverlay.Wb();this.t()}.bind(this),H=function(){this.t()}.bind(this),K=function(){"function"===typeof c.ce&&c.ce();l=-1;TiltChrome.BrowserOverlay.Wb();this.t()}.bind(this),J=function(){if(TiltChrome.BrowserOverlay.href!==window.content.location.href)TiltChrome.BrowserOverlay.href=k,TiltChrome.BrowserOverlay.e(!0,!0)}.bind(this),p=function(){this.t();d.width=window.content.innerWidth;d.height=window.content.innerHeight;
b&&"function"===typeof b.qa&&b.qa(d.width,d.height);c&&"function"===typeof c.qa&&c.qa(d.width,d.height);"open"===TiltChrome.BrowserOverlay.A.z.state&&TiltChrome.BrowserOverlay.A.z.hidePopup();"open"===TiltChrome.BrowserOverlay.L.z.state&&TiltChrome.BrowserOverlay.L.z.hidePopup()}.bind(this),C=function(){this.t();if(a.width!==d.width||a.height!==d.height)a.width=d.width,a.height=d.height,d.s.viewport(0,0,a.width,a.height),t()}.bind(this);this.t=function(){q=!0};this.wf=function(a){M.Ba.Jf(e,a+M.Ba.separator+
"webpage.png");g.save(a,"webpage")};this.de=function(){this.t();for(var a=g.Zc,b=[],c=0,d=g.ka.S.length;c<d;c+=30){var e=a[Math.floor(c/30)],h=M.i.ua((TiltChrome.d.b.h[e.localName!=="head"&&e.localName!=="body"?e.localName:"head/body"]||TiltChrome.d.b.h.other).fill),e=[M.i.K(h[0]*0.6,0,1),M.i.K(h[1]*0.6,0,1),M.i.K(h[2]*0.6,0,1)],h=[M.i.K(h[0]*1,0,1),M.i.K(h[1]*1,0,1),M.i.K(h[2]*1,0,1)];b.push(0,0,0,0,0,0,0,0,0,0,0,0,e[0],e[1],e[2],e[0],e[1],e[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],
h[2],e[0],e[1],e[2],e[0],e[1],e[2])}g.color=new M.W(b,3)};this.vf=function(a,b){this.ee(a,b,{Oc:function(a){"open"===TiltChrome.BrowserOverlay.A.z.state&&TiltChrome.BrowserOverlay.A.z.hidePopup();var b=a[0].$d,a=b.index,b=b.localName!=="head"&&b.localName!=="body"?b.localName:"head/body",c=TiltChrome.d.b.h[b]||TiltChrome.d.b.h.other;b!=="html"&&(l=a,n=c.fill+"55",r=c.fill+"AA")}.bind(this),Qa:function(){"open"===TiltChrome.BrowserOverlay.A.z.state&&TiltChrome.BrowserOverlay.A.z.hidePopup();l=-1}})};
this.uf=function(a,b){this.ee(a,b,{Oc:function(a){this.Ra(a[0].$d)}.bind(this),Qa:function(){"open"===TiltChrome.BrowserOverlay.A.z.state&&TiltChrome.BrowserOverlay.A.z.hidePopup()}})};this.ee=function(a,b,c){for(var c=c||{},a=M.i.Pe([a,b,0],[a,b,1],[0,0,d.width,d.height],g.H,g.da),b=[],e=P.create(),h=g.ka.S,i=g.I.S,j=0,l=h.length,m,n,o;j<l;j+=3)m=[i[h[j]*3],i[h[j]*3+1],i[h[j]*3+2]],n=[i[h[j+1]*3],i[h[j+1]*3+1],i[h[j+1]*3+2]],o=[i[h[j+2]*3],i[h[j+2]*3+1],i[h[j+2]*3+2]],M.i.mf(m,n,o,a,e)>0&&b.push({$d:g.Zc[Math.floor(j/
30)],location:P.create(e)});b.length>0?(b.sort(function(a,b){return a.location[2]<b.location[2]?1:-1}),"function"===typeof c.Oc&&c.Oc(b)):"function"===typeof c.Qa&&c.Qa();this.t()};this.Ra=function(a){if("number"===typeof a){for(var b=g.Zc,c=g.ef,d=0,e=b.length;d<e;d++){var h=b[d];if(a===h.vb){this.Ra(h);return}}b=0;for(d=c.length;b<d;b++)if(e=c[b],a===e.vb){this.Ra(e);break}}else if("object"===typeof a){var c=TiltChrome.BrowserOverlay.A.z,b=M.Ge.trim(ja(a.innerHTML).replace(/</g,"&lt;").replace(/>/g,
"&gt;"))+"\n",d=M.P.$e(a.style),e=M.P.Ye(a.attributes),h=document.getElementById("tilt-sourceeditor-iframe"),i=h.contentDocument.getElementById("code");document.getElementById("tilt-sourceeditor-title").value="<"+a.localName+(a.className?' class="'+a.className+'"':"")+(a.id?' id="'+a.id+'"':"")+">";c.openPopup(k,"overlap",window.innerWidth-h.width-21,window.innerHeight-h.height-77,!1,!1);i.gf=b;i.Qe=d;i.Je=e;a.localName==="img"||a.localName==="input"||a.localName==="button"||a.localName==="iframe"||
i.Rb==="attr"?(i.innerHTML=e,h.contentWindow.refreshCodeEditor("css")):i.Rb==="css"?(i.innerHTML=d,h.contentWindow.refreshCodeEditor("css")):(i.innerHTML=b,h.contentWindow.refreshCodeEditor("html"));c=a.index;a=a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body";b=TiltChrome.d.b.h[a]||TiltChrome.d.b.h.other;a!=="html"&&(l=c,n=b.fill+"55",r=b.fill+"AA",this.t())}};this.je=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");
b.innerHTML=b.gf;b.Rb="html";a.contentWindow.refreshCodeEditor("html")};this.Kf=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.Qe;b.Rb="css";a.contentWindow.refreshCodeEditor("css")};this.Zb=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.Je;b.Rb="attr";a.contentWindow.refreshCodeEditor("css")};this.Pf=function(a){var b=a[1],c=a[2];if(o.Z[0]!=
a[0]||o.Z[1]!=b||o.Z[2]!=c)P.set(a,o.Z),this.t()};this.Nf=function(a){var b=a[1],c=a[2],d=a[3];if(o.rotation[0]!=a[0]||o.rotation[1]!=b||o.rotation[2]!=c||o.rotation[3]!=d)V.set(a,o.rotation),this.t()};this.ke=function(a){i.color=a;this.t()};this.Kg=function(a){i.color[3]=a;this.t()};this.Lf=function(a){g.la=a;this.t()};this.Jg=function(a){g.la[3]=a;this.t()};this.Mf=function(a){g.alpha=a;this.t()};this.e=function(){var j=gBrowser.tabContainer,l=TiltChrome.BrowserOverlay.A.z,n=TiltChrome.BrowserOverlay.L.z;
J!==k&&(j.removeEventListener("TabClose",J,!1),j.removeEventListener("TabAttrModified",J,!1),J=k);p!==k&&(gBrowser.contentWindow.removeEventListener("resize",p,!1),p=k);C!==k&&(gBrowser.removeEventListener("mouseover",C,!1),C=k);E!==k&&(l.removeEventListener("popupshown",E,!1),E=k);G!==k&&(l.removeEventListener("popuphidden",G,!1),G=k);H!==k&&(n.removeEventListener("popupshown",H,!1),H=k);K!==k&&(n.removeEventListener("popuphidden",K,!1),K=k);b&&"function"===typeof b.e&&(b.e(a),b=k);c&&"function"===
typeof c.e&&(c.e(a),c=k);h!==k&&(h.e(),h=k);g!==k&&(g.e(),g=k);i!==k&&(i.e(),i=k);if(o!==k)o.rotation=k,o=o.Z=k;d!==k&&(d.e(),d=k);B=w=m=D=t=x=a=e=k;M.G(this)};M.C.F("TiltChrome.Visualization",this);x.call(this);t.call(this)};TiltChrome=TiltChrome||{};TiltChrome.ba={};
TiltChrome.ba.Nb={xb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nattribute vec3 vertexColor;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n  color = vertexColor;\n}",kb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 tint;\nuniform float alpha;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  if (texCoord.s < 0.0) {\n    gl_FragColor = vec4(color.r, color.g, color.b, tint.a);\n  }\n  else {\n    vec4 texture = texture2D(sampler, texCoord);\n    gl_FragColor = tint * texture * alpha + tint * (1.0 - alpha);\n  }\n}"};
