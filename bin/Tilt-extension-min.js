'use strict';var f=void 0,k=null;function ba(){return function(){}}function da(b){return function(a){this[b]=a}}function M(b){return function(){return this[b]}}var P,TiltChrome=TiltChrome||{};
TiltChrome.BrowserOverlay={href:k,canvas:k,n:k,C:k,J:k,initialize:function(){this.d(!0);if(this.href===window.content.location.href)this.href=k;else{this.href=window.content.location.href;this.C={A:document.getElementById("tilt-sourceeditor"),title:document.getElementById("tilt-sourceeditor-title"),Na:document.getElementById("tilt-sourceeditor-iframe")};this.J={A:document.getElementById("tilt-colorpicker"),Na:document.getElementById("tilt-colorpicker-iframe")};this.C.refresh=this.C.Na.contentWindow.refreshCodeEditor;
this.J.refresh=this.J.Na.contentWindow.refreshColorPicker;gBrowser.selectedBrowser.markupDocumentViewer.fullZoom=1;var b=window.content.innerWidth,a=window.content.innerHeight;Q.H.mb=document.getElementById("tilt-iframe").contentDocument;Q.H.Ia=gBrowser.selectedBrowser.parentNode;this.canvas=Q.H.Pa(b,a,!0);this.n=new TiltChrome.Lb(this.canvas,new TiltChrome.ud.Ee,new TiltChrome.c.De)}},d:function(b,a){Q.H.mb=k;Q.H.Ia=k;if(this.canvas!==k)this.canvas.parentNode.removeChild(this.canvas),this.canvas=
k;var c=function(){if(this.n!==k)this.n.d(),this.n=k;if(this.C!==k)this.C.A.hidePopup(),this.C.A=k,this.C.title=k,this.C=this.C.Na=k;if(this.J!==k)this.J.A.hidePopup(),this.J.A=k,this.J=this.J.Na=k;Q.q.log();Q.q.reset();b&&window.setTimeout(this.Ub,100)}.bind(this);a?window.setTimeout(c,100):c()},Ub:function(){window.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci.nsIDOMWindowUtils).garbageCollect()}};var Q=Q||{};
Q.rd=function(b,a,c){Q.q.u("Tilt.Arcball",this);this.bb=[0,0];this.Fb=[0,0];this.Eb=[0,0];this.fd=[0,0];this.Ca=-1;this.Da=0;this.Lf=-3E3;this.Kf=500;this.Mf=1;this.ec=[];this.md=W();this.ve=W();this.xe=W();this.fc=la([0,0,0,1]);this.$c=la([0,0,0,1]);this.ac=la([0,0,0,1]);this.dd=W();this.ad=W();this.Zc=W();this.yb=[0,0];this.zb=[0,0];this.se=la([0,0,0,1]);this.te=W();this.pa(b,a,c)};
Q.rd.prototype={loop:function(b){var b=Q.h.G((b||25)*0.01,0.01,0.99),a,c,d=this.hd,g=this.o,h=this.j,j=this.bb,i=this.Fb,m=this.Eb;c=this.fd;var l=this.Ca,s=this.Da,p=this.ec,w=this.md,y=this.ve,x=this.xe,D=this.fc,t=this.$c,r=this.ac,v=this.dd,q=this.ad,u=this.Zc,z=this.yb,B=this.zb,n=this.se,C=this.te;c[0]+=(m[0]-c[0])*b;c[1]+=(m[1]-c[1])*b;a=c[0];c=c[1];if(l===3||a===i[0]&&c===i[1])this.jd=!1;l===1||this.jd?(this.jd=!0,this.be(a,c,g,h,d,y),na(w,y,x),Z(x)>0?(t[0]=x[0],t[1]=x[1],t[2]=x[2],t[3]=-oa(w,
y)):(t[0]=0,t[1]=0,t[2]=0,t[3]=1),pa(D,t,r)):qa(r,D);l===3?(q[0]=m[0]-j[0],q[1]=m[1]-j[1],u[0]=v[0]+q[0],u[1]=v[1]+q[1]):(v[0]=u[0],v[1]=u[1]);q[2]=(s-u[2])*0.1;u[2]+=q[2];p[65]&&(z[0]-=b*0.2);p[68]&&(z[0]+=b*0.2);p[87]&&(z[1]+=b*0.2);p[83]&&(z[1]-=b*0.2);p[37]&&(B[0]+=b*50);p[39]&&(B[0]-=b*50);p[38]&&(B[1]+=b*50);p[40]&&(B[1]-=b*50);n[0]+=(z[0]-n[0])*b;n[1]+=(z[1]-n[1])*b;C[0]+=(B[0]-C[0])*b;C[1]+=(B[1]-C[1])*b;Q.h.Bf(n[0],n[1],0,t);q[0]=C[0];q[1]=C[1];q[2]=0;return{rotation:pa(t,r),da:ra(q,u)}},
Fc:function(b,a,c){this.Ya();this.bb[0]=b;this.bb[1]=a;this.Ca=c;this.ic();this.be(b,a,this.o,this.j,this.hd,this.md);qa(this.ac,this.fc)},Jc:function(b,a){this.Fb[0]=b;this.Fb[1]=a;this.Ca=-1},Gc:function(b,a){this.Ca!==-1&&(this.Eb[0]=b,this.Eb[1]=a)},Hc:function(){this.Ca=-1},Ic:function(b){var a=this.Mf,c=this.Lf,d=this.Kf;this.Ya();this.Da=Q.h.G(this.Da-b*a,c,d)},Bc:function(b){this.Ya();this.ec[b]=!0},Cc:function(b){this.ec[b]=!1},be:function(b,a,c,d,g,h){b=(b-c*0.5)/g;a=(a-d*0.5)/g;c=0;c=b*
b+a*a;c>1?(c=1/Math.sqrt(c),h[0]=b*c,h[1]=a*c,h[2]=0):(h[0]=b,h[1]=a,h[2]=Math.sqrt(1-c))},pa:function(b,a,c){this.o=b;this.j=a;this.hd="undefined"!==typeof c?c:a;this.ic()},translate:function(b,a){this.zb[0]+=b;this.zb[1]+=a},rotate:function(b,a){this.yb[0]+=b;this.yb[1]+=a},zoom:function(b){this.Da+=b},stop:function(){this.Ya();this.ic();this.Ca=-1},reset:function(b){var a=this.Da,c=this.fc,d=this.$c,g=this.ac,h=this.dd,j=this.ad,i=this.Zc,m=this.yb,l=this.zb;this.Ce(function(){c[0]*=-1;c[1]*=-1;
c[2]*=-1;ua(c,c,1-b);ua(d,c,1-b);ua(g,c,1-b);va(h,b);va(j,b);va(i,b);m[0]*=b;m[1]*=b;l[0]*=b;l[1]*=b;this.Da*=b;Z(c)<1.0E-4&&Z(d)<1.0E-4&&Z(g)<1.0E-4&&Z(h)<0.01&&Z(j)<0.01&&Z(i)<0.01&&Z([m[0],m[1],a])<0.01&&Z([l[0],l[1],a])<0.01&&this.Ya()}.bind(this),1E3/60)},Ce:function(b,a){if("undefined"===typeof this.Bb)this.Bb=window.setInterval(b,a)},Ya:function(){"undefined"!==typeof this.Bb&&(window.clearInterval(this.Bb),delete this.Bb)},ic:function(){var b=this.Eb,a=this.Fb,c=this.fd,d=this.bb[0],g=this.bb[1];
b[0]=d;b[1]=g;a[0]=d;a[1]=g;c[0]=d;c[1]=g},d:function(){this.stop();Q.D(this)}};Q=Q||{};Q.U=function(b,a,c){Q.q.u("Tilt.VertexBuffer",this);this.Q=this.m=k;this.$=this.Sb=0;"undefined"!==typeof b&&this.zc(b,a,c)};Q.U.prototype={zc:function(b,a,c){var d=Q.B;"undefined"===typeof c&&(c=b.length/a);this.Q=new Float32Array(b);this.m=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.m);d.bufferData(d.ARRAY_BUFFER,this.Q,d.STATIC_DRAW);this.Sb=a;this.$=c},d:function(){Q.B.deleteBuffer(this.m);Q.D(this)}};
Q.hb=function(b,a){Q.q.u("Tilt.IndexBuffer",this);this.Q=this.m=k;this.$=this.Sb=0;"undefined"!==typeof b&&this.zc(b,a)};Q.hb.prototype={zc:function(b,a){var c=Q.B;if("undefined"===typeof a)a=b.length;this.Q=new Uint16Array(b);this.m=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.m);c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.Q,c.STATIC_DRAW);this.Sb=1;this.$=a},d:function(){Q.B.deleteBuffer(this.m);Q.D(this)}};Q=Q||{};Q.B=k;Q.Y=k;Q.$b=-1;Q.cc=-1;Q.Db={};
Q.rc=function(){Q.B=k;Q.Y=k;Q.$b=-1;Q.cc=-1;Q.Db={};Q.xd.Za=0;Q.oc.Za=0};Q=Q||{};Q.D=function(b){for(var a in b)try{"function"===typeof b[a].d&&b[a].d()}catch(c){}finally{b[a]=k,delete b[a]}};Q=Q||{};
Q.q={enabled:!1,va:[],u:function(b,a,c,d,g,h){var j,i,m;if(this.enabled)if(c){if("undefined"===typeof d&&(d=this.Ie.bind(this)),"undefined"===typeof g&&(g=this.Ge.bind(this)),"undefined"===typeof h&&(h=this.Se.bind(this)),j=a[c],"function"===typeof j)i=this.va.length,this.va[i]={name:(b+"."||"")+c,lb:0,jb:0,xa:0,Va:0},a[c]=function(){try{return d(i),h(a,j,arguments)}finally{g(i)}}}else for(m in a)"function"===typeof a[m]&&this.u(b,a,m,d,g,h)},Ie:function(b){if("undefined"!==typeof this.va[b])this.va[b].currentTime=
(new Date).getTime()},Ge:function(b){b=this.va[b];if("undefined"!==typeof b){var a=(new Date).getTime()-b.currentTime;b.lb++;b.xa=Math.max(b.xa,a);b.jb=(b.xa+a)*0.5;b.Va+=a}},Se:function(b,a,c){return c.length===0?a.call(b):a.apply(b,c)},log:function(){var b=this.va.slice(0),a,c,d,g;b.sort(function(b,a){return b.Va<a.Va?1:-1});for(a=0;a<b.length;a++){d=b[a];for(c=a+1;c<b.length;c++)if(g=b[c],d.name===g.name)d.lb+=g.lb,d.xa=Math.max(d.xa,g.xa),d.jb=(d.jb+g.jb)*0.5,d.Va+=g.Va,b.splice(c,1),c--;d.lb!==
0&&Q.ma.log("function "+d.name+"\ncalls    "+d.lb+"\naverage  "+d.jb+"ms\nlongest  "+d.xa+"ms\ntotal    "+d.Va+"ms")}},reset:function(){this.va=[]}};Q=Q||{};Q.Kb=function(b,a){Q.q.u("Tilt.Program",this);this.m=k;this.ab=-1;this.gb=this.sa=k;this.Ab={};this.od={};arguments.length===2&&this.gf(b,a)};
Q.Kb.prototype={gf:function(b,a){this.m=Q.xd.create(b,a);this.ab=this.m.id;this.sa=this.m.attributes;this.gb=this.m.Wa;delete this.m.id;delete this.m.attributes;delete this.m.Wa},Wc:function(){var b=this.ab,a;if(Q.$b!==b&&(Q.$b=b,b=Q.B,b.useProgram(this.m),this.Le(),Q.cc<this.sa.length))for(a in Q.cc=this.sa.length,this.sa)this.sa.hasOwnProperty(a)&&a!=="length"&&b.enableVertexAttribArray(this.sa[a])},Ha:function(b,a){var c=Q.B,d=this.sa[b],g=a.Sb;c.bindBuffer(c.ARRAY_BUFFER,a.m);c.vertexAttribPointer(d,
g,c.FLOAT,!1,0,0)},Ga:function(b,a){var c=this.Ab,d=(a[0]+a[1]+a[2])*(a[4]+a[5]+a[6])*(a[8]+a[9]+a[10])*(a[12]+a[13]+a[14]);c[b]!==d&&(c[b]=d,Q.B.uniformMatrix4fv(this.gb[b],!1,a))},qc:function(b,a){var c=this.Ab,d=a[3]*255<<24|a[0]*255<<16|a[1]*255<<8|a[2]*255;c[b]!==d&&(c[b]=d,Q.B.uniform4fv(this.gb[b],a))},Je:function(b,a){var c=this.Ab;c[b]!==a&&(c[b]=a,Q.B.uniform1f(this.gb[b],a))},bindTexture:function(b,a){var c=this.od,d=a.ab;if(c[b]!==d)c[b]=d,c=Q.B,c.bindTexture(c.TEXTURE_2D,a.m),c.uniform1i(this.gb[b],
0)},Le:function(){this.od={}},rc:function(){this.Ab={}},d:function(){try{Q.B.deleteShader(this.m)}catch(b){}Q.D(this)}};Q=Q||{};
Q.xd={create:function(b,a){var c=this.compile(b,"x-shader/x-vertex"),d=this.compile(a,"x-shader/x-fragment");return this.link(c,d)},compile:function(b,a){var c=Q.B,d;if("string"!==typeof b||b.length<1)return Q.ma.error(Q.ea.get("compileShader.source.error")),k;if(a==="x-shader/x-vertex")d=c.createShader(c.VERTEX_SHADER);else if(a==="x-shader/x-fragment")d=c.createShader(c.FRAGMENT_SHADER);else return Q.ma.error(Q.ea.tc("compileShader.type.error"),[b]),k;c.shaderSource(d,b);c.compileShader(d);d.src=
b;return!c.getShaderParameter(d,c.COMPILE_STATUS)?(c=c.getShaderInfoLog(d),Q.ma.error(Q.ea.tc("compileShader.compile.error"),[c]),k):d},link:function(b,a){var c=Q.B,d;d=c.createProgram();c.attachShader(d,b);c.attachShader(d,a);c.linkProgram(d);if(!c.getProgramParameter(d,c.LINK_STATUS))return d=c.getProgramInfoLog(d),Q.ma.error(Q.ea.tc("linkProgram.error",[d])),k;d.id=this.Za++;c=[b.src,a.src].join(" ").replace(/#.*|[(){};,]/g," ").split(" ");return this.Vf(d,c)},Tf:function(b,a){return Q.B.getAttribLocation(b,
a)},Wf:function(b,a){return Q.B.getUniformLocation(b,a)},Uf:function(b,a){if("string"===typeof a){if(a.length<1)return k;var c;return(c=this.Tf(b,a))>=0?c:this.Wf(b,a)}return k},Vf:function(b,a){var c,d,g,h;b.attributes={};b.attributes.length=0;b.Wa={};b.Wa.length=0;for(c=0,d=a.length;c<d;c++)g=a[c],h=this.Uf(b,g),"number"===typeof h&&"undefined"===typeof b.attributes[g]&&(b.attributes[g]=h,b.attributes.length++),"object"===typeof h&&h instanceof WebGLUniformLocation&&"undefined"===typeof b.Wa[g]&&
(b.Wa[g]=h,b.Wa.length++);return b},Za:0};Q=Q||{};Q.Fa=function(b,a){Q.q.u("Tilt.Texture",this);a=a||{};this.m=k;this.height=this.width=this.ab=-1;this.loaded=!1;this.onload=a.onload;"object"===typeof b?this.Ld(b,a):"string"===typeof b?this.hf(b,a):Q.ma.error(Q.ea.get("initTexture.source.error"))};
Q.Fa.prototype={Ld:function(b,a){this.m=Q.oc.create(b,a);this.ab=this.m.id;this.width=this.m.width;this.height=this.m.height;this.loaded=!0;if("function"===typeof this.onload)this.onload();delete this.m.id;delete this.m.width;delete this.m.height;delete this.onload},hf:function(b,a){var c=new Image;c.src=b;c.onload=function(){this.Ld(c,a);a=c=k}.bind(this)},dg:function(b,a,c){var d=Q.B,g=d.getParameter(d.TEXTURE_BINDING_2D);d.bindTexture(d.TEXTURE_2D,this.m);d.texSubImage2D(d.TEXTURE_2D,0,a,c,d.RGBA,
d.UNSIGNED_BYTE,b);d.bindTexture(d.TEXTURE_2D,g)},d:function(){try{Q.B.deleteTexture(this.m)}catch(b){}Q.D(this)}};Q=Q||{};
Q.oc={create:function(b,a){a=a||{};if("undefined"!==typeof Q.Db[b.src])return Q.Db[b.src];var c=Q.B,d=Q.oc.Gf(b,a),g=c.getParameter(c.TEXTURE_BINDING_2D),h=b.width,j=b.height,i=c.createTexture();c.bindTexture(c.TEXTURE_2D,i);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d);i.width=h;i.height=j;i.id=this.Za++;this.Rf(a);c.bindTexture(c.TEXTURE_2D,g);"undefined"!==typeof b.src&&(Q.Db[b.src]=i);return i},Rf:function(b){var a=Q.B,c=a.TEXTURE_MIN_FILTER,d=a.TEXTURE_MAG_FILTER,g=a.TEXTURE_WRAP_S,
h=a.TEXTURE_WRAP_T,b=b||{};b.Ua&&a.bindTexture(a.TEXTURE_2D,b.Ua.Fg);"nearest"===b.Sd?a.texParameteri(a.TEXTURE_2D,c,a.NEAREST):"linear"===b.Sd&&b.Td?a.texParameteri(a.TEXTURE_2D,c,a.LINEAR_MIPMAP_LINEAR):a.texParameteri(a.TEXTURE_2D,c,a.LINEAR);"nearest"===b.Pd?a.texParameteri(a.TEXTURE_2D,d,a.NEAREST):"linear"===b.Pd&&b.Td?a.texParameteri(a.TEXTURE_2D,d,a.LINEAR_MIPMAP_LINEAR):a.texParameteri(a.TEXTURE_2D,d,a.LINEAR);"repeat"===b.Qg?a.texParameteri(a.TEXTURE_2D,g,a.REPEAT):a.texParameteri(a.TEXTURE_2D,
g,a.CLAMP_TO_EDGE);"repeat"===b.Rg?a.texParameteri(a.TEXTURE_2D,h,a.REPEAT):a.texParameteri(a.TEXTURE_2D,h,a.CLAMP_TO_EDGE);b.Td&&a.generateMipmap(a.TEXTURE_2D)},Gf:function(b,a){var a=a||{},c=(b.src||"").indexOf("chrome://"),d=Q.h.Md(b.width),g=Q.h.Md(b.height);if(a.vf||d&&g&&c===-1)try{return b}finally{a=b=k}c=Q.H.Pa(Q.h.Vd(b.width),Q.h.Vd(b.height));d=c.getContext("2d");if(a.fill)d.fillStyle=a.fill,d.fillRect(0,0,c.width,c.height);d.drawImage(b,0,0,b.width,b.height,0,0,c.width,c.height);if(a.stroke)d.strokeStyle=
a.stroke,d.lineWidth=a.za,d.strokeRect(0,0,c.width,c.height);return c},Mg:function(b){Q.B.pixelStorei(Q.B.UNPACK_FLIP_Y_WEBGL,b)},Za:0};
function wa(b){var a={indent_size:2,indent_char:" ",max_char:78,brace_style:"collapse"},c,d,g,a=a||{};c=a.rb||2;d=a.Jd||" ";g=a.Mb||"collapse";a=new function(){this.K=0;this.Ng="";this.Ja="CONTENT";this.z={parent:"parent1",Cg:1,Bg:""};this.Aa=this.Od=this.lf=this.Yb=this.ca="";this.T={Zb:"\n\r\t ".split(""),Yf:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),Te:"head,body,/html".split(","),Oa:function(b,a){for(var c=0;c<a.length;c++)if(b===a[c])return!0;
return!1}};this.Ye=function(){for(var b="",a=[],c=!1;this.input.charAt(this.K)!=="<";){if(this.K>=this.input.length)return a.length?a.join(""):["","TK_EOF"];b=this.input.charAt(this.K);this.K++;this.N++;if(this.T.Oa(b,this.T.Zb))a.length&&(c=!0),this.N--;else{if(c){if(this.N>=this.Qd){a.push("\n");for(c=0;c<this.ga;c++)a.push(this.Qb);this.N=0}else a.push(" "),this.N++;c=!1}a.push(b)}}return a.length?a.join(""):""};this.Ze=function(){var a="",b=[],a=/<\/script>/igm;a.lastIndex=this.K;for(var c=(a=
a.exec(this.input))?a.index:this.input.length;this.K<c;){if(this.K>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.K);this.K++;b.push(a)}return b.length?b.join(""):""};this.Qc=function(a){this.z[a+"count"]?this.z[a+"count"]++:this.z[a+"count"]=1;this.z[a+this.z[a+"count"]]=this.ga;this.z[a+this.z[a+"count"]+"parent"]=this.z.parent;this.z.parent=a+this.z[a+"count"]};this.Hf=function(a){if(this.z[a+"count"]){for(var b=this.z.parent;b;){if(a+this.z[a+"count"]===b)break;
b=this.z[b+"parent"]}if(b)this.ga=this.z[a+this.z[a+"count"]],this.z.parent=this.z[b+"parent"];delete this.z[a+this.z[a+"count"]+"parent"];delete this.z[a+this.z[a+"count"]];this.z[a+"count"]==1?delete this.z[a+"count"]:this.z[a+"count"]--}};this.$e=function(){var a="",b=[],c=!1;do{if(this.K>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.K);this.K++;this.N++;if(this.T.Oa(a,this.T.Zb))c=!0,this.N--;else{if(a==="'"||a==='"')if(!b[1]||b[1]!=="!")a+=this.pb(a),c=
!0;a==="="&&(c=!1);if(b.length&&b[b.length-1]!=="="&&a!==">"&&c)this.N>=this.Qd?(this.Sa(!1,b),this.N=0):(b.push(" "),this.N++),c=!1;b.push(a)}}while(a!==">");a=b.join("");c=a.substring(1,a.indexOf(" ")!=-1?a.indexOf(" "):a.indexOf(">")).toLowerCase();a.charAt(a.length-2)==="/"||this.T.Oa(c,this.T.Yf)?this.ca="SINGLE":c==="script"?(this.Qc(c),this.ca="SCRIPT"):c==="style"?(this.Qc(c),this.ca="STYLE"):c==="a"?(a=this.pb("</a>",a),b.push(a),this.ca="SINGLE"):c.charAt(0)==="!"?c.indexOf("[if")!=-1?(a.indexOf("!IE")!=
-1&&(a=this.pb("--\>",a),b.push(a)),this.ca="START"):c.indexOf("[endif")!=-1?(this.ca="END",this.cg()):(a=c.indexOf("[cdata[")!=-1?this.pb("]]\>",a):this.pb("--\>",a),b.push(a),this.ca="SINGLE"):(c.charAt(0)==="/"?(this.Hf(c.substring(1)),this.ca="END"):(this.Qc(c),this.ca="START"),this.T.Oa(c,this.T.Te)&&this.Sa(!0,this.ya));return b.join("")};this.pb=function(a,b){if(b&&b.indexOf(a)!=-1)return"";var c="",d="",g=!0;do{if(this.K>=this.input.length)break;c=this.input.charAt(this.K);this.K++;if(this.T.Oa(c,
this.T.Zb)){if(!g){this.N--;continue}if(c==="\n"||c==="\r"){d+="\n";for(c=0;c<this.ga;c++)d+=this.Qb;g=!1;this.N=0;continue}}d+=c;this.N++;g=!0}while(d.indexOf(a)==-1);return d};this.af=function(){var a;if(this.Od==="TK_TAG_SCRIPT"){a=this.Ze();if(typeof a!=="string")return a;a=xa(a,{indent_size:this.rb,indent_char:this.Kd,indent_level:this.ga,brace_style:this.Mb});return[a.replace(/^[\t ]+/,""),"TK_CONTENT"]}if(this.Ja==="CONTENT")return a=this.Ye(),typeof a!=="string"?a:[a,"TK_CONTENT"];if(this.Ja===
"TAG")return a=this.$e(),typeof a!=="string"?a:[a,"TK_TAG_"+this.ca]};this.yf=function(a,b,c,d){this.input=a||"";this.ya=[];this.Kd=b;this.Qb="";this.rb=c;this.Mb=d;this.ga=0;this.Qd=80;for(a=this.N=0;a<this.rb;a++)this.Qb+=this.Kd;this.Sa=function(a,b){this.N=0;if(b&&b.length){if(!a)for(;this.T.Oa(b[b.length-1],this.T.Zb);)b.pop();b.push("\n");for(var c=0;c<this.ga;c++)b.push(this.Qb)}};this.Vb=function(a){this.ya.push(a)};this.ef=function(){this.ga++};this.cg=function(){this.ga>0&&this.ga--}};return this};
for(a.yf(b,d,c,g);;){b=a.af();a.Aa=b[0];a.Yb=b[1];if(a.Yb==="TK_EOF")break;switch(a.Yb){case "TK_TAG_START":case "TK_TAG_SCRIPT":case "TK_TAG_STYLE":a.Sa(!1,a.ya);a.Vb(a.Aa);a.ef();a.Ja="CONTENT";break;case "TK_TAG_END":a.Sa(!0,a.ya);a.Vb(a.Aa);a.Ja="CONTENT";break;case "TK_TAG_SINGLE":a.Sa(!1,a.ya);a.Vb(a.Aa);a.Ja="CONTENT";break;case "TK_CONTENT":a.Aa!==""&&(a.Sa(!1,a.ya),a.Vb(a.Aa)),a.Ja="TAG"}a.Od=a.Yb;a.lf=a.Aa}return a.ya.join("")}
function xa(b,a){function c(a){for(a=typeof a==="undefined"?!1:a;r.length&&(r[r.length-1]===" "||r[r.length-1]===E||r[r.length-1]===aa||a&&(r[r.length-1]==="\n"||r[r.length-1]==="\r"));)r.pop()}function d(a){return a.replace(/^\s\s*|\s\s*$/,"")}function g(){var a=N;N=!1;h();N=a}function h(a){n.Ob=!1;if(!N||!s(n.mode))if(a=typeof a==="undefined"?!0:a,n.Ma=!1,c(),r.length){if(r[r.length-1]!=="\n"||!a)U=!0,r.push("\n");aa&&r.push(aa);for(a=0;a<n.ha;a+=1)r.push(E);n.X&&n.qa&&(ca===" "?r.push("    "):
r.push(E))}}function j(){if(n.Ob)n.Ob=!1;else{var a=" ";r.length&&(a=r[r.length-1]);a!==" "&&a!=="\n"&&a!==E&&r.push(" ")}}function i(){U=!1;n.Ob=!1;r.push(v)}function m(){r.length&&r[r.length-1]===E&&r.pop()}function l(a){n&&C.push(n);n={xf:n?n.mode:"BLOCK",mode:a,X:!1,ra:!1,qa:!1,yc:!1,Ma:!1,xc:!1,Ob:!1,Rb:-1,ha:n?n.ha+(n.X&&n.qa?1:0):0,Vc:0}}function s(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"}function p(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"||a==="(EXPRESSION)"}
function w(){V=n.mode==="DO_BLOCK";C.length>0&&(n=C.pop())}function y(a){for(var b=0;b<a.length;b++)if(d(a[b])[0]!="*")return!1;return!0}function x(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function D(){R=0;if(o>=G)return["","TK_EOF"];X=!1;var a=t.charAt(o);o+=1;if(N&&s(n.mode)){for(var b=0;x(a,H);){a==="\n"?(c(),r.push("\n"),U=!0,b=0):a==="\t"?b+=4:a!=="\r"&&(b+=1);if(o>=G)return["","TK_EOF"];a=t.charAt(o);o+=1}if(n.Rb===-1)n.Rb=b;if(U){var g;for(g=0;g<n.ha+1;g+=1)r.push(E);
if(n.Rb!==-1)for(g=0;g<b-n.Rb;g++)r.push(" ")}}else{for(;x(a,H);){a==="\n"&&(R+=ja?R<=ja?1:0:1);if(o>=G)return["","TK_EOF"];a=t.charAt(o);o+=1}if(ea&&R>1)for(g=0;g<R;g+=1)h(g===0),U=!0;X=R>0}if(x(a,K)){if(o<G)for(;x(t.charAt(o),K);)if(a+=t.charAt(o),o+=1,o===G)break;if(o!==G&&a.match(/^[0-9]+[Ee]$/)&&(t.charAt(o)==="-"||t.charAt(o)==="+"))return b=t.charAt(o),o+=1,g=D(),a+=b+g[0],[a,"TK_WORD"];if(a==="in")return[a,"TK_OPERATOR"];X&&q!=="TK_OPERATOR"&&q!=="TK_EQUALS"&&!n.Ma&&(ea||u!=="var")&&h();return[a,
"TK_WORD"]}if(a==="("||a==="[")return[a,"TK_START_EXPR"];if(a===")"||a==="]")return[a,"TK_END_EXPR"];if(a==="{")return[a,"TK_START_BLOCK"];if(a==="}")return[a,"TK_END_BLOCK"];if(a===";")return[a,"TK_SEMICOLON"];if(a==="/"){b="";g=!0;if(t.charAt(o)==="*"){o+=1;if(o<G)for(;!(t.charAt(o)==="*"&&t.charAt(o+1)&&t.charAt(o+1)==="/")&&o<G;){a=t.charAt(o);b+=a;if(a==="\r"||a==="\n")g=!1;o+=1;if(o>=G)break}o+=2;return g?["/*"+b+"*/","TK_INLINE_COMMENT"]:["/*"+b+"*/","TK_BLOCK_COMMENT"]}if(t.charAt(o)==="/"){for(b=
a;t.charAt(o)!=="\r"&&t.charAt(o)!=="\n";)if(b+=t.charAt(o),o+=1,o>=G)break;o+=1;X&&h();return[b,"TK_COMMENT"]}}if(a==="'"||a==='"'||a==="/"&&(q==="TK_WORD"&&x(u,["return","do"])||q==="TK_COMMENT"||q==="TK_START_EXPR"||q==="TK_START_BLOCK"||q==="TK_END_BLOCK"||q==="TK_OPERATOR"||q==="TK_EQUALS"||q==="TK_EOF"||q==="TK_SEMICOLON")){b=a;g=!1;var j=a;if(o<G)if(b==="/")for(a=!1;g||a||t.charAt(o)!==b;){if(j+=t.charAt(o),g?g=!1:(g=t.charAt(o)==="\\",t.charAt(o)==="["?a=!0:t.charAt(o)==="]"&&(a=!1)),o+=1,
o>=G)return[j,"TK_STRING"]}else for(;g||t.charAt(o)!==b;)if(j+=t.charAt(o),g=g?!1:t.charAt(o)==="\\",o+=1,o>=G)return[j,"TK_STRING"];o+=1;j+=b;if(b==="/")for(;o<G&&x(t.charAt(o),K);)j+=t.charAt(o),o+=1;return[j,"TK_STRING"]}if(a==="#"){if(r.length===0&&t.charAt(o)==="!"){for(j=a;o<G&&a!="\n";)a=t.charAt(o),j+=a,o+=1;r.push(d(j)+"\n");h();return D()}b="#";if(o<G&&x(t.charAt(o),J)){do a=t.charAt(o),b+=a,o+=1;while(o<G&&a!=="#"&&a!=="=");a!=="#"&&(t.charAt(o)==="["&&t.charAt(o+1)==="]"?(b+="[]",o+=2):
t.charAt(o)==="{"&&t.charAt(o+1)==="}"&&(b+="{}",o+=2));return[b,"TK_WORD"]}}if(a==="<"&&t.substring(o-1,o+3)==="<\!--")return o+=3,n.yc=!0,["<\!--","TK_COMMENT"];if(a==="-"&&n.yc&&t.substring(o-1,o+2)==="--\>")return n.yc=!1,o+=2,X&&h(),["--\>","TK_COMMENT"];if(x(a,L)){for(;o<G&&x(a+t.charAt(o),L);)if(a+=t.charAt(o),o+=1,o>=G)break;return a==="="?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}var t,r,v,q,u,z,B,n,C,E,H,K,L,o,I,J,A,F,V,X,U,R,aa="",a=a?a:{},S;if(a.Zf!==f&&a.Ac===f)a.Ac=a.Zf;
a.Ke!==f&&(S=a.Ke?"expand":"collapse");S=a.Mb?a.Mb:S?S:"collapse";B=a.rb?a.rb:2;var ca=a.Jd?a.Jd:" ",ea=typeof a.wf==="undefined"?!0:a.wf,ja=typeof a.mf==="undefined"?!1:a.mf,Y=a.Ac==="undefined"?!1:a.Ac,N=typeof a.kf==="undefined"?!1:a.kf;U=!1;var G=b.length;for(E="";B>0;)E+=ca,B-=1;for(;b&&(b[0]===" "||b[0]==="\t");)aa+=b[0],b=b.substring(1);t=b;B="";q="TK_START_EXPR";z=u="";r=[];V=!1;H="\n\r\t ".split("");K="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");J="0123456789".split("");
L="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");I="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(",");C=[];l("BLOCK");for(o=0;;){F=D();v=F[0];F=F[1];if(F==="TK_EOF")break;switch(F){case "TK_START_EXPR":if(v==="["){if(q==="TK_WORD"||u===")"){x(u,I)&&j();l("(EXPRESSION)");i();break}if(n.mode==="[EXPRESSION]"||n.mode==="[INDENTED-EXPRESSION]")if(z==="]"&&u===","){if(n.mode==="[EXPRESSION]")n.mode=
"[INDENTED-EXPRESSION]",N||(n.ha+=1);l("[EXPRESSION]");N||h()}else if(u==="["){if(n.mode==="[EXPRESSION]")n.mode="[INDENTED-EXPRESSION]",N||(n.ha+=1);l("[EXPRESSION]");N||h()}else l("[EXPRESSION]");else l("[EXPRESSION]")}else l("(EXPRESSION)");u===";"||q==="TK_START_BLOCK"?h():q==="TK_END_EXPR"||q==="TK_START_EXPR"||q==="TK_END_BLOCK"||u==="."||(q!=="TK_WORD"&&q!=="TK_OPERATOR"?j():B==="function"||B==="typeof"?Y&&j():(x(u,I)||u==="catch")&&j());i();break;case "TK_END_EXPR":if(v==="]")if(N){if(u===
"}"){m();i();w();break}}else if(n.mode==="[INDENTED-EXPRESSION]"&&u==="]"){w();h();i();break}w();i();break;case "TK_START_BLOCK":B==="do"?l("DO_BLOCK"):l("BLOCK");S=="expand"?(q!=="TK_OPERATOR"&&(u==="return"||u==="="?j():h(!0)),i(),n.ha+=1):(q!=="TK_OPERATOR"&&q!=="TK_START_EXPR"?q==="TK_START_BLOCK"?h():j():s(n.xf)&&u===","&&(z==="}"?j():h()),n.ha+=1,i());break;case "TK_END_BLOCK":w();S=="expand"?u!=="{"&&h():q==="TK_START_BLOCK"?U?m():c():s(n.mode)&&N?(N=!1,h(),N=!0):h();i();break;case "TK_WORD":if(V){j();
i();j();V=!1;break}if(v==="function"){if(n.X)n.qa=!0;if((U||u===";")&&u!=="{"){R=U?R:0;ea||(R=1);for(A=0;A<2-R;A++)h(!1)}}if(v==="case"||v==="default"){u===":"?m():(n.ha--,h(),n.ha++);i();n.xc=!0;break}A="NONE";q==="TK_END_BLOCK"?x(v.toLowerCase(),["else","catch","finally"])?S=="expand"||S=="end-expand"?A="NEWLINE":(A="SPACE",j()):A="NEWLINE":q==="TK_SEMICOLON"&&(n.mode==="BLOCK"||n.mode==="DO_BLOCK")?A="NEWLINE":q==="TK_SEMICOLON"&&p(n.mode)?A="SPACE":q==="TK_STRING"?A="NEWLINE":q==="TK_WORD"?(u===
"else"&&c(!0),A="SPACE"):q==="TK_START_BLOCK"?A="NEWLINE":q==="TK_END_EXPR"&&(j(),A="NEWLINE");x(v,I)&&u!==")"&&(A=u=="else"?"SPACE":"NEWLINE");if(n.Ma&&q==="TK_END_EXPR")n.Ma=!1;if(x(v.toLowerCase(),["else","catch","finally"]))q!=="TK_END_BLOCK"||S=="expand"||S=="end-expand"?h():(c(!0),j());else if(A==="NEWLINE"){if(!((q==="TK_START_EXPR"||u==="="||u===",")&&v==="function"))if(v==="function"&&u=="new")j();else if(u==="return"||u==="throw")j();else if(q!=="TK_END_EXPR"){if((q!=="TK_START_EXPR"||v!==
"var")&&u!==":")v==="if"&&B==="else"&&u!=="{"?j():(n.X=!1,n.qa=!1,h())}else if(x(v,I)&&u!=")")n.X=!1,n.qa=!1,h()}else s(n.mode)&&u===","&&z==="}"?h():A==="SPACE"&&j();i();B=v;if(v==="var")n.X=!0,n.qa=!1,n.ra=!1;if(v==="if")n.Ma=!0;if(v==="else")n.Ma=!1;break;case "TK_SEMICOLON":i();n.X=!1;n.qa=!1;if(n.mode=="OBJECT")n.mode="BLOCK";break;case "TK_STRING":q==="TK_START_BLOCK"||q==="TK_END_BLOCK"||q==="TK_SEMICOLON"?h():q==="TK_WORD"&&j();i();break;case "TK_EQUALS":if(n.X)n.ra=!0;j();i();j();break;case "TK_OPERATOR":A=
z=!0;if(n.X&&v===","&&p(n.mode))n.ra=!1;if(n.X&&v===",")if(n.ra){i();n.qa=!0;n.ra=!1;h();break}else n.ra=!1;if(u==="return"||u==="throw"){j();i();break}if(v===":"&&n.xc){i();h();n.xc=!1;break}if(v==="::"){i();break}if(v===","){n.X?n.ra?(i(),h(),n.ra=!1):(i(),j()):q==="TK_END_BLOCK"&&n.mode!=="(EXPRESSION)"?(i(),n.mode==="OBJECT"&&u==="}"?h():j()):n.mode==="OBJECT"?(i(),h()):(i(),j());break}else x(v,["--","++","!"])||x(v,["-","+"])&&(x(q,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||
x(u,I))?(A=z=!1,u===";"&&p(n.mode)&&(z=!0),q==="TK_WORD"&&x(u,I)&&(z=!0),n.mode==="BLOCK"&&(u==="{"||u===";")&&h()):v==="."?z=!1:v===":"?n.Vc==0?(n.mode="OBJECT",z=!1):n.Vc-=1:v==="?"&&(n.Vc+=1);z&&j();i();A&&j();break;case "TK_BLOCK_COMMENT":z=v.split(/\x0a|\x0d\x0a/);if(y(z.slice(1))){h();r.push(z[0]);for(A=1;A<z.length;A++)h(),r.push(" "),r.push(d(z[A]))}else{z.length>1?(h(),c()):j();for(A=0;A<z.length;A++)r.push(z[A]),r.push("\n")}h();break;case "TK_INLINE_COMMENT":j();i();p(n.mode)?j():g();break;
case "TK_COMMENT":X?h():j();i();g();break;case "TK_UNKNOWN":(u==="return"||u==="throw")&&j(),i()}z=u;q=F;u=v}return aa+r.join("").replace(/[\n ]+$/,"")}if(typeof exports!=="undefined")exports.sg=xa;var ya;ya=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;function W(b){var a=new ya(3);b&&(a[0]=b[0],a[1]=b[1],a[2]=b[2]);return a}
function ra(b,a,c){if(!c||b==c)return b[0]+=a[0],b[1]+=a[1],b[2]+=a[2],b;c[0]=b[0]+a[0];c[1]=b[1]+a[1];c[2]=b[2]+a[2];return c}function za(b,a,c){if(!c||b==c)return b[0]-=a[0],b[1]-=a[1],b[2]-=a[2],b;c[0]=b[0]-a[0];c[1]=b[1]-a[1];c[2]=b[2]-a[2];return c}function va(b,a){b[0]*=a;b[1]*=a;b[2]*=a;return b}function na(b,a,c){c||(c=b);var d=b[0],g=b[1],b=b[2],h=a[0],j=a[1],a=a[2];c[0]=g*a-b*j;c[1]=b*h-d*a;c[2]=d*j-g*h}function Z(b){var a=b[0],c=b[1],b=b[2];return Math.sqrt(a*a+c*c+b*b)}
function oa(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]}function $(b){var a=new ya(16);b&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function Aa(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}
function Ba(b,a,c){c||(c=b);var d=b[0],g=b[1],h=b[2],j=b[3],i=b[4],m=b[5],l=b[6],s=b[7],p=b[8],w=b[9],y=b[10],x=b[11],D=b[12],t=b[13],r=b[14],b=b[15],v=a[0],q=a[1],u=a[2],z=a[3],B=a[4],n=a[5],C=a[6],E=a[7],H=a[8],K=a[9],L=a[10],o=a[11],I=a[12],J=a[13],A=a[14],a=a[15];c[0]=v*d+q*i+u*p+z*D;c[1]=v*g+q*m+u*w+z*t;c[2]=v*h+q*l+u*y+z*r;c[3]=v*j+q*s+u*x+z*b;c[4]=B*d+n*i+C*p+E*D;c[5]=B*g+n*m+C*w+E*t;c[6]=B*h+n*l+C*y+E*r;c[7]=B*j+n*s+C*x+E*b;c[8]=H*d+K*i+L*p+o*D;c[9]=H*g+K*m+L*w+o*t;c[10]=H*h+K*l+L*y+o*r;c[11]=
H*j+K*s+L*x+o*b;c[12]=I*d+J*i+A*p+a*D;c[13]=I*g+J*m+A*w+a*t;c[14]=I*h+J*l+A*y+a*r;c[15]=I*j+J*s+A*x+a*b}function Ca(b,a,c){c||(c=a);var d=a[0],g=a[1],h=a[2],a=a[3];c[0]=b[0]*d+b[4]*g+b[8]*h+b[12]*a;c[1]=b[1]*d+b[5]*g+b[9]*h+b[13]*a;c[2]=b[2]*d+b[6]*g+b[10]*h+b[14]*a;c[3]=b[3]*d+b[7]*g+b[11]*h+b[15]*a}function Ea(b,a){var c=a[0],d=a[1],g=a[2];b[12]=b[0]*c+b[4]*d+b[8]*g+b[12];b[13]=b[1]*c+b[5]*d+b[9]*g+b[13];b[14]=b[2]*c+b[6]*d+b[10]*g+b[14];b[15]=b[3]*c+b[7]*d+b[11]*g+b[15]}
function la(b){var a=new ya(4);b&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]);return a}function qa(b,a){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3]}function pa(b,a,c){c||(c=b);var d=b[0],g=b[1],h=b[2],b=b[3],j=a[0],i=a[1],m=a[2],a=a[3];c[0]=d*a+b*j+g*m-h*i;c[1]=g*a+b*i+h*j-d*m;c[2]=h*a+b*m+d*i-g*j;c[3]=b*a-d*j-g*i-h*m;return c}
function Fa(b){var a;a||(a=$());var c=b[0],d=b[1],g=b[2],h=b[3],j=c+c,i=d+d,m=g+g,b=c*j,l=c*i;c*=m;var s=d*i;d*=m;g*=m;j*=h;i*=h;h*=m;a[0]=1-(s+g);a[1]=l-h;a[2]=c+i;a[3]=0;a[4]=l+h;a[5]=1-(b+g);a[6]=d-j;a[7]=0;a[8]=c-i;a[9]=d+j;a[10]=1-(b+s);a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function ua(b,a,c){var d;d||(d=b);var g=b[0]*a[0]+b[1]*a[1]+b[2]*a[2]+b[3]*a[3];if(Math.abs(g)>=1)d!=b&&(d[0]=b[0],d[1]=b[1],d[2]=b[2],d[3]=b[3]);else{var h=Math.acos(g),j=Math.sqrt(1-g*g);Math.abs(j)<0.0010?(d[0]=b[0]*0.5+a[0]*0.5,d[1]=b[1]*0.5+a[1]*0.5,d[2]=b[2]*0.5+a[2]*0.5,d[3]=b[3]*0.5+a[3]*0.5):(g=Math.sin((1-c)*h)/j,c=Math.sin(c*h)/j,d[0]=b[0]*g+a[0]*c,d[1]=b[1]*g+a[1]*c,d[2]=b[2]*g+a[2]*c,d[3]=b[3]*g+a[3]*c)}}
function Ga(){return function(b){function a(){var a=2091639*c+h*2.3283064365386963E-10;c=d;d=g;return g=a-(h=a|0)}var c=0,d=0,g=0,h=1;b.length==0&&(b=[+new Date]);for(var j=Ha(),c=j(" "),d=j(" "),g=j(" "),i=0;i<b.length;i++)c-=j(b[i]),c<0&&(c+=1),d-=j(b[i]),d<0&&(d+=1),g-=j(b[i]),g<0&&(g+=1);j=k;a.Og=function(){return a()*4294967296};a.mg=function(){return a()+(a()*2097152|0)*1.1102230246251565E-16};a.version="Alea 0.9";a.kg=b;return a}(Array.prototype.slice.call(arguments))}
function Ha(){function b(b){for(var b=b.toString(),d=0;d<b.length;d++){a+=b.charCodeAt(d);var g=0.02519603282416938*a;a=g>>>0;g-=a;g*=a;a=g>>>0;g-=a;a+=g*4294967296}return(a>>>0)*2.3283064365386963E-10}var a=4022871197;b.version="Mash 0.9";return b}Q=Q||{};
Q.vd=function(b,a,c){Q.q.u("Tilt.Cube",this);b=b||1;a=a||1;c=c||1;this.P=new Q.U([-0.5*b,-0.5*a,0.5*c,0.5*b,-0.5*a,0.5*c,0.5*b,0.5*a,0.5*c,-0.5*b,0.5*a,0.5*c,-0.5*b,0.5*a,0.5*c,0.5*b,0.5*a,0.5*c,0.5*b,0.5*a,-0.5*c,-0.5*b,0.5*a,-0.5*c,0.5*b,-0.5*a,-0.5*c,-0.5*b,-0.5*a,-0.5*c,-0.5*b,0.5*a,-0.5*c,0.5*b,0.5*a,-0.5*c,-0.5*b,-0.5*a,-0.5*c,0.5*b,-0.5*a,-0.5*c,0.5*b,-0.5*a,0.5*c,-0.5*b,-0.5*a,0.5*c,0.5*b,-0.5*a,0.5*c,0.5*b,-0.5*a,-0.5*c,0.5*b,0.5*a,-0.5*c,0.5*b,0.5*a,0.5*c,-0.5*b,-0.5*a,-0.5*c,-0.5*b,-0.5*
a,0.5*c,-0.5*b,0.5*a,0.5*c,-0.5*b,0.5*a,-0.5*c],3);this.Ta=new Q.U([0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],2);this.ia=new Q.hb([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23])};Q.vd.prototype={d:function(){Q.D(this)}};Q=Q||{};
Q.wd=function(b,a,c){Q.q.u("Tilt.CubeWireframe",this);b=b||1;a=a||1;c=c||1;this.P=new Q.U([-0.5*b,-0.5*a,0.5*c,0.5*b,-0.5*a,0.5*c,0.5*b,0.5*a,0.5*c,-0.5*b,0.5*a,0.5*c,0.5*b,-0.5*a,-0.5*c,-0.5*b,-0.5*a,-0.5*c,-0.5*b,0.5*a,-0.5*c,0.5*b,0.5*a,-0.5*c],3);this.ia=new Q.hb([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,5,1,4,2,7,3,6])};Q.wd.prototype={d:function(){Q.D(this)}};Q=Q||{};Q.yd=function(){Q.q.u("Tilt.Rectangle",this);this.P=new Q.U([0,0,1,0,0,1,1,1],2);this.Ta=new Q.U([0,0,1,0,0,1,1,1],2)};
Q.yd.prototype={d:function(){Q.D(this)}};Q=Q||{};Q.zd=function(){Q.q.u("Tilt.RectangleWireframe",this);this.P=new Q.U([0,0,1,0,1,1,0,1],2)};Q.zd.prototype={d:function(){Q.D(this)}};Q=Q||{};Q.Jb=function(b){Q.q.u("Tilt.Mesh",this);for(var a in b)this[a]!=="draw"&&(this[a]=b[a]);if("string"===typeof this.color)this.color=Q.h.wa(this.color);else if("undefined"===typeof this.color)this.color=[1,1,1,1];if("undefined"===typeof this.Nb)this.Nb=Q.Y.TRIANGLES;if("function"===typeof b.F)this.F=b.F};
Q.Jb.prototype={F:function(){var b=Q.Y,a=this.P,c=this.Ta,d=this.ia,g=this.color,h=this.Ua,j=this.Nb;h?b.je(a,c,g,h):b.wb(a,g);d?b.Gd(j,d):b.Ka(j,a.$)},d:function(){Q.D(this)}};Q=Q||{};
Q.Jb.prototype.save=function(b,a){var c=[],d=[],g=this.P.Q,h=this.Ta.Q,j=this.ia.Q,i,m;c.push("mtllib "+a+".mtl","usemtl webpage");d.push("newmtl webpage","illum 2","Ka 1.000 1.000 1.000","Kd 1.000 1.000 1.000","Ks 0.000 0.000 0.000","map_Ka "+a+".png","map_Kd "+a+".png","map_Ks "+a+".png");for(i=0,m=g.length;i<m;i+=3)c.push("v "+g[i]/100+" "+g[i+1]/-100+" "+g[i+2]/100);for(i=0,m=h.length;i<m;i+=2)c.push("vt "+h[i]+" "+(1-h[i+1]));for(i=0,m=j.length;i<m;i+=3)c.push("f "+(j[i]+1)+"/"+(j[i]+1)+" "+
(j[i+1]+1)+"/"+(j[i+1]+1)+" "+(j[i+2]+1)+"/"+(j[i+2]+1));g=Q.ua.separator;Q.ua.save(c.join("\n"),b+g+a+".obj");Q.ua.save(d.join("\n"),b+g+a+".mtl")};Q=Q||{};
Q.nc=function(b,a){Q.q.u("Tilt.Renderer",this);a=a||{};this.canvas=b;this.t=this.Ed(b,{antialias:!0,stencil:!0});Q.rc();Q.B=this.t;Q.Y=this;if("undefined"!==typeof this.t&&this.t!==k){if(this.TRIANGLES=this.t.TRIANGLES,this.TRIANGLE_STRIP=this.t.TRIANGLE_STRIP,this.TRIANGLE_FAN=this.t.TRIANGLE_FAN,this.LINES=this.t.LINES,this.LINE_STRIP=this.t.LINE_STRIP,this.LINE_LOOP=this.t.LINE_LOOP,this.POINTS=this.t.POINTS,this.COLOR_BUFFER_BIT=this.t.COLOR_BUFFER_BIT,this.DEPTH_BUFFER_BIT=this.t.DEPTH_BUFFER_BIT,
this.STENCIL_BUFFER_BIT=this.t.STENCIL_BUFFER_BIT,this.t.clearColor(0,0,0,1),this.t.clearDepth(1),this.t.clearStencil(0),"function"===typeof a.onsuccess)a.onsuccess()}else if(Q.ma.log(Q.ea.get("initWebGL.error")),"function"===typeof a.Qa){a.Qa();return}this.width=b.width;this.height=b.height;this.Lc=[];this.I=Aa($());this.aa=Aa($());this.pe=[0,0,0,0];this.qd=[1,1,1,1];this.dc=[1,1,1,1];this.Hb=[0,0,0,1];this.nd=1;this.Me=new Q.Kb(Q.Z.sd.xb,Q.Z.sd.ob);this.bg=new Q.Kb(Q.Z.Fa.xb,Q.Z.Fa.ob);this.hc=
new Q.yd;this.Ae=new Q.zd;this.fg=new Q.vd;this.gg=new Q.wd;this.gc=0;this.bc=k;this.nb=this.Ue=this.Hd=this.elapsedTime=0;this.origin();this.Nc();this.Fd()};
Q.nc.prototype={clear:function(b,a,c,d){var g=this.pe,h=this.t;if(g[0]!==b||g[1]!==a||g[2]!==c||g[3]!==d)g[0]=b,g[1]=a,g[2]=c,g[3]=d,h.clearColor(b,a,c,d),b*=255,a*=255,c*=255,d*=255,this.canvas.setAttribute("style",["background: rgba(",b,", ",a,", ",c,", ",d,"); width: 100%; height: 100%;"].join(""));h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},background:function(b){b="string"===typeof b?Q.h.wa(b):"undefined"===typeof b?[0,0,0,1]:"number"===typeof b?[b/255,b/255,b/255,1]:
[b[0]/255,b[1]/255,b[2]/255,b[3]/255];this.clear(b[0],b[1],b[2],b[3])},Nc:function(){var b=this.width,a=this.height,c=b/2,d=a/2,g=d/Math.tan(Q.h.Cf(45)/2),h=g/10,j=h*Math.tan(45*Math.PI/360),b=j*(b/a),a=-b,i=-j*-1;j*=-1;var m=g*10,l=this.aa;l||(l=$());var s=b-a,p=j-i,w=m-h;l[0]=h*2/s;l[1]=0;l[2]=0;l[3]=0;l[4]=0;l[5]=h*2/p;l[6]=0;l[7]=0;l[8]=(b+a)/s;l[9]=(j+i)/p;l[10]=-(m+h)/w;l[11]=-1;l[12]=0;l[13]=0;l[14]=-(m*h*2)/w;l[15]=0;Ea(this.aa,[-c,-d,-g]);Aa(this.I);this.oa(!0)},qf:function(){var b=this.width,
a=this.height,c=this.aa;c||(c=$());var d=b-0,g=0-a;c[0]=2/d;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/g;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=-1.0E-6;c[11]=0;c[12]=-(0+b)/d;c[13]=-(0+a)/g;c[14]=0;c[15]=1;Ea(this.aa,[0,0,-999999]);Aa(this.I);this.oa(!1)},Pc:function(){this.Lc.push($(this.I))},Oc:function(){if(this.Lc.length>0)this.I=this.Lc.pop()},origin:function(){Aa(this.I)},transform:function(b){Ba(this.I,b)},translate:function(b,a,c){Ea(this.I,[b,a,c||0])},rotate:function(b,a,c,d){var g=this.I,d=[a,c,d],
h,a=d[0],c=d[1],d=d[2],j=Math.sqrt(a*a+c*c+d*d);if(j){j!=1&&(j=1/j,a*=j,c*=j,d*=j);var i=Math.sin(b),m=Math.cos(b),l=1-m,b=g[0],j=g[1],s=g[2],p=g[3],w=g[4],y=g[5],x=g[6],D=g[7],t=g[8],r=g[9],v=g[10],q=g[11],u=a*a*l+m,z=c*a*l+d*i,B=d*a*l-c*i,n=a*c*l-d*i,C=c*c*l+m,E=d*c*l+a*i,H=a*d*l+c*i,a=c*d*l-a*i,c=d*d*l+m;h?g!=h&&(h[12]=g[12],h[13]=g[13],h[14]=g[14],h[15]=g[15]):h=g;h[0]=b*u+w*z+t*B;h[1]=j*u+y*z+r*B;h[2]=s*u+x*z+v*B;h[3]=p*u+D*z+q*B;h[4]=b*n+w*C+t*E;h[5]=j*n+y*C+r*E;h[6]=s*n+x*C+v*E;h[7]=p*n+D*
C+q*E;h[8]=b*H+w*a+t*c;h[9]=j*H+y*a+r*c;h[10]=s*H+x*a+v*c;h[11]=p*H+D*a+q*c}},scale:function(b,a,c){var d=this.I,c=[b,a,c||0],b=c[0],a=c[1],c=c[2];d[0]*=b;d[1]*=b;d[2]*=b;d[3]*=b;d[4]*=a;d[5]*=a;d[6]*=a;d[7]*=a;d[8]*=c;d[9]*=c;d[10]*=c;d[11]*=c},ka:function(b){this.qd=Q.h.wa(b)},fill:function(b){this.dc=Q.h.wa(b)},stroke:function(b){this.Hb=Q.h.wa(b)},of:function(){var b=this.Hb;b[0]=0;b[1]=0;b[2]=0;b[3]=0},za:function(b){if(this.nd!==b)this.nd=b,this.t.lineWidth(b)},Cd:function(b){var a=this.t;"alpha"===
b?(a.enable(a.BLEND),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA)):"add"===b||"additive"===b?(a.enable(a.BLEND),a.blendFunc(a.SRC_ALPHA,a.ONE)):a.disable(a.BLEND)},oa:function(b){var a=this.t;b?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)},$f:function(b){var a=this.t;b?a.enable(a.STENCIL_TEST):a.disable(a.STENCIL_TEST)},Fd:function(){this.ka("#fff");this.fill("#fff");this.stroke("#000");this.za(1);this.oa(!0);this.$f(!1);this.Cd("alpha")},wb:function(b,a){var c=this.Me;c.Wc();c.Ha("vertexPosition",
b);c.Ga("mvMatrix",this.I);c.Ga("projMatrix",this.aa);c.qc("color",a)},je:function(b,a,c,d){var g=this.bg;g.Wc();g.Ha("vertexPosition",b);g.Ha("vertexTexCoord",a);g.Ga("mvMatrix",this.I);g.Ga("projMatrix",this.aa);g.qc("color",c);g.bindTexture("sampler",d)},Af:function(b,a,c,d){var g=this.dc,h=this.Hb,b=new Q.U([b[0],b[1],b[2],a[0],a[1],a[2],c[0],c[1],c[2],d[0],d[1],d[2]],3);g[3]&&(this.wb(b,g),this.Ka(this.TRIANGLE_FAN,b.$));h[3]&&(this.wb(b,h),this.Ka(this.LINE_LOOP,b.$));b.d()},rect:function(b,
a,c,d){var g=this.dc,h=this.Hb,j=this.hc.P,i=this.Ae.P;"center"===this.hc.Eg&&(b-=c/2,a-=d/2);this.Pc();this.translate(b,a,0);this.scale(c,d,1);g[3]&&(this.wb(j,g),this.Ka(this.TRIANGLE_STRIP,j.$));h[3]&&(this.wb(i,h),this.Ka(this.LINE_LOOP,i.$));this.Oc()},Id:function(b,a,c,d,g,h){if(b.loaded){var j=this.hc,i=this.qd,m=j.P,h=h||j.Ta;if("undefined"===typeof d||"undefined"===typeof g)d=b.width,g=b.height;"center"===j.qg&&(a-=d*0.5,c-=g*0.5);i[3]&&(this.Pc(),this.translate(a,c,0),this.scale(d,g,1),
this.je(m,h,i,b),this.Ka(this.TRIANGLE_STRIP,m.$),this.Oc())}},Ka:function(b,a){this.t.drawArrays(b,0,a)},Gd:function(b,a){var c=this.t;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a.m);c.drawElements(b,a.$,c.UNSIGNED_SHORT,0)},Ed:function(b,a){var c=["experimental-webgl","webgl","webkit-3d","moz-webgl"],d,g,h;for(g=0,h=c.length;g<h;++g){try{d=b.getContext(c[g],a)}catch(j){}if(d)break}return d},loop:function(b,a){window.Ff(b);this.Nc();this.Hd++;if(a){this.bc=(new Date).getTime();if(this.gc!==0)this.nb=this.bc-
this.gc,this.Ue=1E3/this.nb;this.gc=this.bc;this.elapsedTime+=this.nb}},d:function(){Q.rc();Q.D(this)}};window.Ff=window.Gg||window.Pg||window.wg||window.yg||window.xg||function(b){window.setTimeout(b,1E3/60)};Q=Q||{};Q.Z={};Q.Z.sd={xb:"attribute vec3 vertexPosition;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvoid main(void) {\n    gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n}",ob:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nvoid main(void) {\n    gl_FragColor = color;\n}"};
Q.Z.Fa={xb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n}",ob:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvoid main(void) {\n  vec4 texture = texture2D(sampler, texCoord);\n  gl_FragColor = color * texture;\n}"};
Q=Q||{};Q.na=function(b){Q.q.u("Tilt.Container",this);b=b||{};this.i=b.i||!1;this.disabled=b.disabled||!1;this.standby=b.standby||!1;this.oe=b.background||k;this.l=b.x||0;this.k=b.y||0;this.o=b.width||0;this.j=b.height||0;this.ta=b.zg||[0,0];b.elements instanceof Array&&b.elements.forEach(function(a){this.push(a)}.bind(this));Q.c.push(this)};Q.na.prototype=[];P=Q.na.prototype;P.L=function(b,a){this.l=b;this.k=a};P.W=function(b,a){this.o=b;this.j=a};P.ba=da("l");P.Tc=da("o");P.Sc=da("j");P.V=M("l");
P.s=M("k");P.La=M("o");P.uc=M("j");P.update=function(b,a){var c,d,g;for(d=0,g=this.length;d<g;d++)c=this[d],"function"===typeof c.update&&!c.i&&!c.disabled&&c.update(b,a)};
P.F=function(b,a){var a=a||Q.Y,c;c=this.oe;var d=this.l,g=this.k,h=this.o,j=this.j,i=this.ta,m=d+i[0],i=g+i[1],l,s,p,w,y,x,D,t,r,v;c!==k&&(a.fill(c),a.of(),a.rect(d,g,h||a.width,j||a.height));a.Pc();a.translate(m,i,0);for(r=0,v=this.length;r<v;r++)if(c=this[r],c.sc=!1,c.ye=d,c.ze=g,c.jg=h,c.ig=j,!c.i)if(h===0||j===0)c.F(b,a),c.sc=!0;else if(l=c.r||[1,1,1,1],s=l[0]+m,p=l[1]+i,w=l[2],y=l[3],l=s,x=p,s+=w,p+=y,w=d,y=g,D=d+h,t=g+j,l>w&&s<D&&x>y&&p<t)c.F(b,a),c.sc=!0;a.Oc()};
P.clear=function(){for(var b=0,a=this.length;b<a;b++)this[b].d(),this[b]=k;this.splice(0,this.length)};P.d=function(){Q.c.splice(Q.c.indexOf(this),1);Q.D(this)};Q=Q||{};
Q.Ad=function(b){Q.q.u("Tilt.ScrollContainer",this);Q.c.push(this);this.view=new Q.na(b);this.view.standby=!0;this.scrollbars=new Q.na;this.top=b.de[0]||0;this.bottom=b.de[1]||Number.MAX_VALUE;this.view.ta[1]=this.top;var a=new Q.g(b.top,{x:this.view.l-25,y:this.view.k-5,width:32,height:30,fill:b.top?k:"#f00a",padding:b.top?b.top.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.fb);window.clearInterval(this.eb);window.clearInterval(this.cb);var a=Q.c,b=this.view,c=b.ta;this.eb=window.setInterval(function(){c[1]=
Q.h.G(c[1]+5,this.top,-this.bottom+b.j);a.v();a.R||(c=b=a=k,window.clearInterval(this.eb))}.bind(this),1E3/60)}.bind(this)}),c=new Q.g(b.bottom,{x:this.view.l-25,y:this.view.k+this.view.j-25,width:32,height:30,fill:b.bottom?k:"#0f0a",padding:b.bottom?b.bottom.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.fb);window.clearInterval(this.eb);window.clearInterval(this.cb);var a=Q.c,b=this.view,c=b.ta;this.cb=window.setInterval(function(){c[1]=Q.h.G(c[1]-5,this.top,-this.bottom+b.j);a.v();
a.R||(c=b=a=k,window.clearInterval(this.cb))}.bind(this),1E3/60)}.bind(this)}),b=new Q.g(b.reset,{x:this.view.l-25,y:this.view.k+this.view.j-50,width:32,height:30,fill:b.reset?k:"#0f0b",padding:b.reset?b.reset.f:[0,0,0,0],onmousedown:function(){window.clearInterval(this.fb);window.clearInterval(this.eb);window.clearInterval(this.cb);var a=Q.c,b=this.view,c=b.ta;this.fb=window.setInterval(function(){c[1]-=(c[1]-this.top)/10;a.v();Math.abs(c[1]-this.top)<0.1&&(c=b=a=k,window.clearInterval(this.fb))}.bind(this),
1E3/60)}.bind(this)});this.view.onmousescroll=function(a){window.clearInterval(this.fb);window.clearInterval(this.eb);window.clearInterval(this.cb);var b=Q.c,c=this.view,j=c.ta;j[1]=Q.h.G(j[1]-a/2,this.top,-this.bottom+c.j);b.v()}.bind(this);this.scrollbars.push(a,c,b);b=c=a=k};Q.Ad.prototype={update:function(){this.scrollbars.i=this.view.i;this.scrollbars.disabled=this.view.disabled},F:ba(),d:function(){Q.c.splice(Q.c.indexOf(this),1);Q.D(this)}};Q=Q||{};
Q.g=function(b,a){Q.q.u("Tilt.Button",this);a=a||{};this.i=a.i||!1;this.disabled=a.disabled||!1;this.onmousedown=a.onmousedown||f;this.onmouseup=a.onmouseup||f;this.onclick=a.onclick||f;this.b=b||{l:-1,k:-1,o:-1,j:-1};this.b.l=a.x||this.b.l;this.b.k=a.y||this.b.k;this.b.o=a.width||this.b.o;this.b.j=a.height||this.b.j;this.b.disabled=!0;this.f=a.padding||[0,0,0,0];this.Cb=a.fill||k;this.kc=a.stroke||k;this.r=[this.b.l+this.f[0],this.b.k+this.f[1],this.b.o-this.f[0]-this.f[2],this.b.j-this.f[1]-this.f[3]]};
Q.g.prototype={L:function(b,a){"function"===typeof this.b.L?this.b.L(b,a):(this.b.l=b,this.b.k=a);this.r[0]=b+this.f[0];this.r[1]=a+this.f[1]},W:function(b,a){"function"===typeof this.b.W?this.b.W(b,a):(this.b.o=b,this.b.j=a);this.r[2]=b-this.f[0]-this.f[2];this.r[3]=a-this.f[1]-this.f[3]},ba:function(b){this.L(b,this.b.k)},Tc:function(b){this.W(b,this.b.j)},Sc:function(b){this.W(this.b.o,b)},ge:function(b){var a=this.b.l,c=this.b.k,d=this.b.o,g=this.b.j,h=this.b.f;this.b=b;this.b.f=h;this.b.L(a,
c);this.b.W(d,g);this.b.disabled=!0},Xb:da("Cb"),V:function(){return this.b.l},s:function(){return this.b.k},La:function(){return this.b.o},uc:function(){return this.b.j},F:function(b,a){a=a||Q.Y;"undefined"!==typeof this.b.lc&&this.b.F(a);var c,d,g=this.Cb,h=this.kc;if(g||h)c=this.r,d=this.f,a.fill(g||"#fff0"),a.stroke(h||"#0000"),a.rect(c[0]-d[0],c[1]-d[1],c[2]+d[0]+d[2],c[3]+d[1]+d[3]);Q.c.Pe&&(a.fill("#fff2"),a.stroke("#00f"),a.rect(this.b.l,this.b.k,this.b.o,this.b.j),this.disabled||(a.fill("#0f04"),
a.rect(this.r[0],this.r[1],this.r[2],this.r[3])))},d:function(){Q.D(this)}};Q=Q||{};
Q.Ea=function(b,a){Q.q.u("Tilt.Slider",this);a=a||{};this.i=a.i||!1;this.disabled=a.disabled||!1;this.onmousedown=a.onmousedown||f;this.onmouseup=a.onmouseup||f;this.onclick=a.onclick||f;this.b=new Q.w(b.lc,b.Gb,{padding:b.f,ka:b.pd});this.b.l=a.x||this.b.l;this.b.k=a.y||this.b.k;this.b.o=a.width||this.b.o;this.b.j=a.height||this.b.j;this.l=this.b.l;this.k=this.b.k;this.jc=a.size||100;this.bd=a.direction||0;this.r=[this.b.l+this.b.f[0],this.b.k+this.b.f[1],this.b.o-this.b.f[2],this.b.j-this.b.f[3]];
this.O(a.value||0)};
Q.Ea.prototype={L:function(b,a){this.l=b;this.k=a;this.r[0]=b+this.b.f[0];this.r[1]=a+this.b.f[1];this.O(this.S)},ba:function(b){this.L(b,this.k);this.O(this.S)},W:function(b){this.jc=b;this.O(this.S)},O:function(b){var a=this.b,c=this.l,d=this.k,g=this.jc,h=this.bd;this.S=Q.h.G(b+0.0010,0,100);h===0?(b=Q.h.map(this.S,0,100,c,c+g),a.L(b,d),this.r[0]=b+a.f[0]):(b=Q.h.map(this.S,0,100,d,d+g),a.L(c,b),this.r[1]=b+a.f[1])},V:M("l"),s:M("k"),update:function(){var b,a,c,d,g,h,j;if(this.R)this.ld=!0;else if(!Q.c.R)this.ld=
!1;if(this.ld)b=this.b,a=this.ye,c=this.ze,d=this.l,g=this.k,h=this.jc,j=this.bd,j===0?(d+=a,h=d+h,j=Q.h.G(Q.c.Kc-b.o*0.5,d,h),a=j-a,b.L(a,g),this.S=Q.h.map(j,d,h,0,100),this.r[0]=a+b.f[0]):(g+=c,j=Q.h.G(Q.c.hg-b.j*0.5,g,g+h),a=j-c,b.L(d,a),this.S=Q.h.map(a,g,g+h,0,100),this.r[1]=a+b.f[1])},F:function(b,a){a=a||Q.Y;this.b.F(a)},d:function(){Q.D(this)}};Q=Q||{};
Q.w=function(b,a,c){Q.q.u("Tilt.Sprite",this);c=c||{};this.i=c.i||!1;this.disabled=c.disabled||!1;this.onmousedown=c.onmousedown||f;this.onmouseup=c.onmouseup||f;this.onclick=c.onclick||f;this.lc=b;this.Gb=a||[0,0,b.width,b.height];this.l=c.x||0;this.k=c.y||0;this.o=c.width||this.Gb[2];this.j=c.height||this.Gb[3];this.f=c.padding||[0,0,0,0];this.pd=c.ka||k;this.ue=c.oa||!1;this.r=[this.l+this.f[0],this.k+this.f[1],this.o-this.f[0]-this.f[2],this.j-this.f[0]-this.f[3]];this.Ib=k};
Q.w.prototype={L:function(b,a){this.l=b;this.k=a;this.r[0]=b+this.f[0];this.r[1]=a+this.f[1]},W:function(b,a){this.o=b;this.j=a;this.r[2]=b-this.f[0]-this.f[2];this.r[3]=a-this.f[1]-this.f[3]},ba:function(b){this.L(b,this.k)},Tc:function(b){this.W(b,this.j)},Sc:function(b){this.W(this.o,b)},V:M("l"),s:M("k"),La:M("o"),uc:M("j"),F:function(b,a){var a=a||Q.Y,c=this.Gb,d=this.lc,g=this.l,h=this.k,j=this.o,i=this.j,m=this.ue,l=this.pd;if(this.Ib===k&&d.loaded)this.Ib=new Q.U([c[0]/d.width,c[1]/d.height,
(c[0]+c[2])/d.width,c[1]/d.height,c[0]/d.width,(c[1]+c[3])/d.height,(c[0]+c[2])/d.width,(c[1]+c[3])/d.height],2);l!==k&&a.ka(l);m?(a.oa(!0),a.Id(d,g,h,j,i,this.Ib),a.oa(!1)):a.Id(d,g,h,j,i,this.Ib);l!==k&&a.ka("#fff");Q.c.Pe&&(a.fill("#fff2"),a.stroke("#f00"),a.rect(this.l,this.k,this.o,this.j),this.disabled||(a.fill("#0f04"),a.rect(this.r[0],this.r[1],this.r[2],this.r[3])))},d:function(){Q.D(this)}};Q=Q||{};Q.c=[];Q.c.Kc=0;Q.c.Ud=0;Q.c.R=!1;Q.c.nf=0;Q.c.Nd=[];Q.c.v=ba();
Q.c.F=function(b){var a=Q.Y,c,d,g;a.Fd();a.qf();for(c=0,d=this.length;c<d;c++)g=this[c],g.i||(g.disabled||g.update(b,a),g.F(b,a))};Q.c.uf=function(b){if(!(b.Ec||this.indexOf(b)===-1)){for(var a=0,c=this.length;a<c;a++)this[a].gd=this[a].disabled,this[a].disabled=!0;b.Ec=!0;b.i=!1;b.disabled=!1;this.v()}};Q.c.Qe=function(b){if(b.Ec&&this.indexOf(b)!==-1){for(var a=0,c=this.length;a<c;a++)this[a].disabled=this[a].gd,delete this[a].gd;b.Ec=!1;b.i=!0;b.disabled=!0;this.v()}};
Q.c.Fc=function(b,a,c){this.R=!0;this.ja=!1;this.$a("onmousedown",b,a,c)};Q.c.Jc=function(b,a,c){this.ja=this.R=!1;this.$a("onmouseup",b,a,c)};Q.c.click=function(b,a){this.$a("onclick",b,a)};Q.c.Re=function(b,a){this.$a("ondoubleclick",b,a)};Q.c.Gc=function(b,a){this.Kc=b;this.Ud=a};Q.c.Ic=function(b){this.ja=!1;this.nf=b;this.$a("onmousescroll",b)};Q.c.ja=ba();Q.c.Hc=ba();Q.c.Bc=function(b){this.Nd[b]=!0;this.cd("onkeydown",b)};Q.c.Cc=function(b){this.Nd[b]=!1;this.cd("onkeyup",b)};
Q.c.$a=function(b,a,c,d){var g,h,j,i,m,l,s,p,w,y,x,D,t=this.Kc,r=this.Ud;for(g=0,j=this.length;g<j;g++)if(m=this[g],!m.i&&!m.disabled){s=m.l||0;h=m.k||0;i=m.o||0;p=m.j||0;if(m.standby&&t>s&&t<s+i&&r>h&&r<h+p)this.ja=!0,l=m[b],"function"===typeof l&&l(a,c,d);i=m.ta||[0,0];s+=i[0];p=h+i[1]+2;for(h=0,i=m.length;h<i;h++)if(l=m[h],!l.i&&!l.disabled&&l.sc){w=l.r||[-1,-1,-1,-1];y=w[0]+s;x=w[1]+p;D=w[2];w=w[3];if("onmouseup"===b)l.R=!1;if(t>y&&t<y+D&&r>x&&r<x+w){if("onmousedown"===b)l.R=!0;this.ja=!0;l=l[b];
"function"===typeof l&&l(a,c,d)}}}};Q.c.cd=function(b,a){var c,d,g,h,j,i;for(c=0,g=this.length;c<g;c++)if(j=this[c],!j.i&&!j.disabled){j.standby&&(i=j[b],"function"===typeof i&&i(a));for(d=0,h=j.length;d<h;d++)i=j[d],!i.i&&!i.disabled&&(i=i[b],"function"===typeof i&&i(a))}};Q.q.u("Tilt.UI",Q.c);Q=Q||{};
Q.ma={alert:function(b,a){var c;"undefined"===typeof a&&(a="undefined");try{c=Cc["@mozilla.org/embedcomp/prompt-service;1"].getService(Ci.nsIPromptService),c.alert(k,b,a)}catch(d){window.alert(a)}},log:function(b){var a;"undefined"===typeof b&&(b="undefined");try{a=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),a.logStringMessage(b)}catch(c){window.alert(b)}},error:function(b,a,c,d,g,h,j){var i,m;"undefined"===typeof b&&(b="undefined");try{i=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),
m=Cc["@mozilla.org/scripterror;1"].createInstance(Ci.nsIScriptError),m.init(b,a,c,d,g,h,j),i.logMessage(m)}catch(l){window.alert(b)}}};Q.ea={Dd:"tilt-string-bundle",get:function(b){if("undefined"===typeof b)return"undefined";var a=document.getElementById(this.Dd);return a?a.getString(b):b},tc:function(b,a){if("undefined"===typeof b)return"undefined";if("undefined"===typeof a)return b;var c=document.getElementById(this.Dd);return c?c.ng(b,a):[b,a].join(" ")}};Q=Q||{};
Q.H={mb:f,Ia:f,Pa:function(b,a,c,d){if("undefined"===typeof this.mb)this.mb=document;if("undefined"===typeof this.Ia)this.Ia=document.body;var g=this.mb,h=this.Ia;if("undefined"===typeof g||g===k||"undefined"===typeof h||h===k)return k;g=g.createElement("canvas");g.setAttribute("style","width: 100%; height: 100%;");g.width=b;g.height=a;g.id=d;c&&this.append(g,h);return g},rg:function(){var b=this.Pa(window.innerWidth,window.innerHeight,!0);this.Ia.setAttribute("style","background: #000; margin: 0px; padding: 0px; overflow: hidden;");
return b},append:function(b,a){a.appendChild(b)},remove:function(b){b.parentNode.removeChild(b)},he:function(b,a,c,d){var g=this.top=this.left=this.vb=0,h=0,j=function(a,d){var l,s,p,w;for(l=0,s=a.childNodes.length;l<s;l++)p=a.childNodes[l],d>g&&(g=d),h++,this.vb++,b(p,d,h,this.vb,this.left,this.top),j(p,d+1),c&&p.localName==="iframe"&&(w=Q.H.vc(p),this.left+=w.x,this.top+=w.y,j(p.contentDocument,d+1),this.left-=w.x,this.top-=w.y)}.bind(this);try{"function"===typeof b&&j(d||window.content.document,
0),"function"===typeof a&&a(g,h)}finally{d=k}},We:function(b){var a,c={width:b.innerWidth+b.scrollMaxX,height:b.innerHeight+b.scrollMaxY};this.he(function(b){a=this.vc(b);c.width=Math.max(c.width,a.x||0+a.width||0);c.height=Math.max(c.height,a.y||0+a.height||0)}.bind(this),k,b.document);return c},vc:function(b){if(b.nodeType!==1)return{x:0,y:0,width:0,height:0};var a,c,d,g;try{if(b.localName==="head"||b.localName==="body")throw new Exception;d=b.getBoundingClientRect();a=window.content.pageXOffset;
c=window.content.pageYOffset;return{x:d.left+a,y:d.top+c,width:d.width,height:d.height}}catch(h){c=a=0;d=b.clientWidth;g=b.clientHeight;if(b.offsetParent){do a+=b.offsetLeft,c+=b.offsetTop;while(b=b.offsetParent)}else{if(b.x)a=b.x;if(b.y)c=b.y}return{x:a,y:c,width:d,height:g}}finally{}},og:function(b){var a;b.nodeType===1?a="ELEMENT_NODE":b.nodeType===2?a="ATTRIBUTE_NODE":b.nodeType===3?a="TEXT_NODE":b.nodeType===4?a="CDATA_SECTION_NODE":b.nodeType===5?a="ENTITY_REFERENCE_NODE":b.nodeType===6?a="ENTITY_NODE":
b.nodeType===7?a="PROCESSING_INSTRUCTION_NODE":b.nodeType===8?a="COMMENT_NODE":b.nodeType===9?a="DOCUMENT_NODE":b.nodeType===10?a="DOCUMENT_TYPE_NODE":b.nodeType===11?a="DOCUMENT_FRAGMENT_NODE":b.nodeType===12&&(a="NOTATION_NODE");return a},Ve:function(b){var a=[],c,d;for(c=0,d=b.length;c<d;c++)a.push(b[c].name+' = "'+b[c].value+'"');return a.join("\n")+"\n"},Xe:function(b){var a=[],c,d,g;for(g=0;g<b.length;g++)c=b[g],d=b.getPropertyValue(c),c=c+": "+d+";",'background-attachment: scroll;\nbackground-clip: border-box;\nbackground-color: transparent;\nbackground-image: none;\nbackground-origin: padding-box;\nbackground-position: 0% 0%;\nbackground-repeat: repeat;\nbackground-size: auto auto;\nborder-bottom-color: rgb(0, 0, 0);\nborder-bottom-left-radius: 0px;\nborder-bottom-right-radius: 0px;\nborder-bottom-style: none;\nborder-bottom-width: 0px;\nborder-collapse: separate;\nborder-left-color: rgb(0, 0, 0);\nborder-left-style: none;\nborder-left-width: 0px;\nborder-right-color: rgb(0, 0, 0);\nborder-right-style: none;\nborder-right-width: 0px;\nborder-spacing: 0px 0px;\nborder-top-color: rgb(0, 0, 0);\nborder-top-left-radius: 0px;\nborder-top-right-radius: 0px;\nborder-top-style: none;\nborder-top-width: 0px;\nbottom: auto;\nbox-shadow: none;\ncaption-side: top;\nclear: none;\nclip: auto;\ncolor: rgb(0, 0, 0);\ncontent: none;\ncounter-increment: none;\ncounter-reset: none;\ncursor: auto;\ndirection: ltr;\ndisplay: block;\nempty-cells: -moz-show-background;\nfloat: none;\nfont-family: serif;\nfont-size: 16px;\nfont-size-adjust: none;\nfont-stretch: normal;\nfont-style: normal;\nfont-variant: normal;\nfont-weight: 400;\nheight: 0px;\nime-mode: auto;\nleft: auto;\nletter-spacing: normal;\nline-height: 19.2px;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: 8px;\nmargin-left: 8px;\nmargin-right: 8px;\nmargin-top: 8px;\nmarker-offset: auto;\nmax-height: none;\nmax-width: none;\nmin-height: 0px;\nmin-width: 0px;\nopacity: 1;\noutline-color: rgb(0, 0, 0);\noutline-offset: 0px;\noutline-style: none;\noutline-width: 0px;\noverflow: visible;\noverflow-x: visible;\noverflow-y: visible;\npadding-bottom: 0px;\npadding-left: 0px;\npadding-right: 0px;\npadding-top: 0px;\npage-break-after: auto;\npage-break-before: auto;\npointer-events: auto;\nposition: static;\nquotes: "\u201c" "\u201d" "\u2018" "\u2019";\nresize: none;\nright: auto;\ntable-layout: auto;\ntext-align: start;\ntext-decoration: none;\ntext-indent: 0px;\ntext-overflow: clip;\ntext-shadow: none;\ntext-transform: none;\ntop: auto;\nunicode-bidi: embed;\nvertical-align: baseline;\nvisibility: visible;\nwhite-space: normal;\nwidth: 1157px;\nword-spacing: 0px;\nword-wrap: normal;\nz-index: auto;\n-moz-animation-delay: 0s;\n-moz-animation-direction: normal;\n-moz-animation-duration: 0s;\n-moz-animation-fill-mode: none;\n-moz-animation-iteration-count: 1;\n-moz-animation-name: none;\n-moz-animation-play-state: running;\n-moz-animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-appearance: none;\n-moz-background-inline-policy: continuous;\n-moz-binding: none;\n-moz-border-bottom-colors: none;\n-moz-border-image: none;\n-moz-border-left-colors: none;\n-moz-border-right-colors: none;\n-moz-border-top-colors: none;\n-moz-box-align: stretch;\n-moz-box-direction: normal;\n-moz-box-flex: 0;\n-moz-box-ordinal-group: 1;\n-moz-box-orient: horizontal;\n-moz-box-pack: start;\n-moz-box-sizing: content-box;\n-moz-column-count: auto;\n-moz-column-gap: 16px;\n-moz-column-rule-color: rgb(0, 0, 0);\n-moz-column-rule-style: none;\n-moz-column-rule-width: 0px;\n-moz-column-width: auto;\n-moz-float-edge: content-box;\n-moz-font-feature-settings: normal;\n-moz-font-language-override: normal;\n-moz-force-broken-image-icon: 0;\n-moz-hyphens: manual;\n-moz-image-region: auto;\n-moz-orient: horizontal;\n-moz-outline-radius-bottomleft: 0px;\n-moz-outline-radius-bottomright: 0px;\n-moz-outline-radius-topleft: 0px;\n-moz-outline-radius-topright: 0px;\n-moz-stack-sizing: stretch-to-fit;\n-moz-tab-size: 8;\n-moz-text-blink: none;\n-moz-text-decoration-color: rgb(0, 0, 0);\n-moz-text-decoration-line: none;\n-moz-text-decoration-style: solid;\n-moz-transform: none;\n-moz-transform-origin: 50% 50%;\n-moz-transition-delay: 0s;\n-moz-transition-duration: 0s;\n-moz-transition-property: all;\n-moz-transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-user-focus: none;\n-moz-user-input: auto;\n-moz-user-modify: read-only;\n-moz-user-select: auto;\n-moz-window-shadow: default;\nclip-path: none;\nclip-rule: nonzero;\ncolor-interpolation: srgb;\ncolor-interpolation-filters: linearrgb;\ndominant-baseline: auto;\nfill: rgb(0, 0, 0);\nfill-opacity: 1;\nfill-rule: nonzero;\nfilter: none;\nflood-color: rgb(0, 0, 0);\nflood-opacity: 1;\nimage-rendering: auto;\nlighting-color: rgb(255, 255, 255);\nmarker-end: none;\nmarker-mid: none;\nmarker-start: none;\nmask: none;\nshape-rendering: auto;\nstop-color: rgb(0, 0, 0);\nstop-opacity: 1;\nstroke: none;\nstroke-dasharray: none;\nstroke-dashoffset: 0px;\nstroke-linecap: butt;\nstroke-linejoin: miter;\nstroke-miterlimit: 4;\nstroke-opacity: 1;\nstroke-width: 1px;\ntext-anchor: start;\ntext-rendering: auto;'.indexOf(c)===
-1&&a.push(c);return a.join("\n")+"\n"}};Q.q.u("Tilt.Document",Q.H);Q=Q||{};
Q.ua={Xf:function(b,a){var c;c=Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker);c.init(window,b,a==="folder"?Ci.nsIFilePicker.modeGetFolder:Ci.nsIFilePicker.vg);return c.show()==Ci.nsIFilePicker.returnOK?c.file:k},save:function(b,a){var c,d;Cu.import("resource://gre/modules/FileUtils.jsm");Cu.import("resource://gre/modules/NetUtil.jsm");c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile);c.initWithPath(a);c=FileUtils.openSafeFileOutputStream(c);d=Cc["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Ci.nsIScriptableUnicodeConverter);
d.charset="UTF-8";d=d.convertToInputStream(b);NetUtil.asyncCopy(d,c,function(a){Components.isSuccessCode(a)})},Jf:function(b,a){var c,d,g;Cu.import("resource://gre/modules/FileUtils.jsm");Cu.import("resource://gre/modules/NetUtil.jsm");c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile);c.initWithPath(a);d=Cc["@mozilla.org/network/io-service;1"].getService(Ci.nsIIOService);g=d.newURI(b.toDataURL("image/png",""),"UTF8",k);d.newFileURI(c);d=Cc["@mozilla.org/embedding/browser/nsWebBrowserPersist;1"].createInstance(Ci.nsIWebBrowserPersist);
d.persistFlags=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_REPLACE_EXISTING_FILES;d.persistFlags|=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_AUTODETECT_APPLY_CONVERSION;d.saveURI(g,k,k,k,k,c)},separator:navigator.appVersion.indexOf("Win")!==-1?"\\":"/"};Q.q.u("Tilt.File",Q.ua);Q=Q||{};
Q.h={Cf:function(b){return b*0.0174532925},lg:function(b){return b*57.2957795},map:function(b,a,c,d,g){return d+(g-d)*((b-a)/(c-a))},Md:function(b){return(b&b-1)===0},Vd:function(b){var a;--b;for(a=1;a<32;a<<=1)b|=b>>a;return b+1},G:function(b,a,c){if(a>c)var d=a,a=c,c=d;return Math.max(a,Math.min(c,b))},Dg:function(b,a,c){a*=0.5;var d=Math.sin(a),g=b[0]*d,h=b[1]*d,b=b[2]*d,a=Math.cos(a);return"undefined"===typeof c?[g,h,b,a]:(c[0]=g,c[1]=h,c[2]=b,c[3]=a,c)},Bf:function(b,a,c,d){var g;a*=0.5;b*=0.5;
c*=0.5;g=Math.sin(a);var h=Math.sin(b),j=Math.sin(c),i=Math.cos(a),m=Math.cos(b),l=Math.cos(c),a=g*m*l-i*h*j,b=i*h*l+g*m*j,c=i*m*j-g*h*l;g=i*m*l+g*h*j;return"undefined"===typeof d?[a,b,c,g]:(d[0]=a,d[1]=b,d[2]=c,d[3]=g,d)},zf:function(b,a,c,d,g){var h,j=la();d?Ba(d,c,h=$()):h=c;b[3]=1;Ca(h,b,j);d?(g[0]=j[0]/j[3],g[1]=j[1]/j[3],g[0]*=a[2]*0.5,g[1]*=-a[3]*0.5,g[0]+=a[2]*0.5,g[1]+=a[3]*0.5,g[2]=0):(g[0]=j[0],g[1]=j[1],g[2]=j[2]);return g},ie:function(b,a,c,d,g){var h=$(),g=g||la();Ba(d,c,h);var j;j||
(j=h);var c=h[0],d=h[1],i=h[2],m=h[3],l=h[4],s=h[5],p=h[6],w=h[7],y=h[8],x=h[9],D=h[10],t=h[11],r=h[12],v=h[13],q=h[14],u=h[15],z=c*s-d*l,B=c*p-i*l,n=c*w-m*l,C=d*p-i*s,E=d*w-m*s,H=i*w-m*p,K=y*v-x*r,L=y*q-D*r,o=y*u-t*r,I=x*q-D*v,J=x*u-t*v,A=D*u-t*q,F=1/(z*A-B*J+n*I+C*o-E*L+H*K);j[0]=(s*A-p*J+w*I)*F;j[1]=(-d*A+i*J-m*I)*F;j[2]=(v*H-q*E+u*C)*F;j[3]=(-x*H+D*E-t*C)*F;j[4]=(-l*A+p*o-w*L)*F;j[5]=(c*A-i*o+m*L)*F;j[6]=(-r*H+q*n-u*B)*F;j[7]=(y*H-D*n+t*B)*F;j[8]=(l*J-s*o+w*K)*F;j[9]=(-c*J+d*o-m*K)*F;j[10]=(r*
E-v*n+u*z)*F;j[11]=(-y*E+x*n-t*z)*F;j[12]=(-l*I+s*L-p*K)*F;j[13]=(c*I-d*L+i*K)*F;j[14]=(-r*C+v*B-q*z)*F;j[15]=(y*C-x*B+D*z)*F;g[0]=+((b[0]-a[0])/a[2]*2-1);g[1]=-((b[1]-a[1])/a[3]*2-1);g[2]=2*b[2]-1;g[3]=1;Ca(h,g);g[3]=1/g[3];g[0]*=g[3];g[1]*=g[3];g[2]*=g[3];return g},Ne:function(b,a,c,d,g){this.ie(b,c,d,g,b);this.ie(a,c,d,g,a);var g=za(a,b),h;h||(h=g);var c=g[0],d=g[1],g=g[2],j=Math.sqrt(c*c+d*d+g*g);j?j==1?(h[0]=c,h[1]=d,h[2]=g):(j=1/j,h[0]=c*j,h[1]=d*j,h[2]=g*j):(h[0]=0,h[1]=0,h[2]=0);return{position:b,
tg:a,direction:h}},jf:function(b,a,c,d,g){var h=W(),j=W(),i=W(),m=W(),l=W(),s=d.position,d=d.direction;"undefined"===typeof g&&(g=W());za(a,b,h);za(c,b,j);na(h,j,i);if(i[0]===0&&i[1]===0&&i[2]===0)return-1;za(s,b,l);a=-oa(i,l);i=+oa(i,d);if(Math.abs(i)<1.0E-4)return a===0?2:0;i=a/i;if(i<0)return 0;ra(s,va(d,i),g);s=oa(h,h);d=oa(h,j);i=oa(j,j);za(g,b,m);b=oa(m,h);j=oa(m,j);m=d*d-s*i;g=(d*j-i*b)/m;if(g<0||g>1)return 0;j=(d*b-s*j)/m;return j<0||g+j>1?0:1},wc:function(b,a,c){if(!(c<0)&&!(c>1))if(c<0.166666667)return b+
(a-b)*6*c;else if(c<0.5)return a;else if(c<0.666666667)return b+(a-b)*(2/3-c)*6;return b},Ig:function(b,a,c){b*=0.00392156863;a*=0.00392156863;c*=0.00392156863;var d=Math.max(b,a,c),g=Math.min(b,a,c),h,j,i=(d+g)*0.5;d===g?j=g=0:(h=d-g,g=i>0.5?h/(2-d-g):h/(d+g),d===b?j=(a-c)/h+(a<c?6:0):d===a?j=(c-b)/h+2:d===c&&(j=(b-a)/h+4),j/=6);return[j,g,i]},pg:function(b,a,c){var d,g;a===0?c=a=b=c:(d=c<0.5?c*(1+a):c+a-c*a,g=2*c-d,c=this.wc(g,d,b+0.333333333),a=this.wc(g,d,b),b=this.wc(g,d,b-0.333333333));return[c*
255,a*255,b*255]},If:function(b,a,c){b*=0.00392156863;a*=0.00392156863;c*=0.00392156863;var d=Math.max(b,a,c),g=Math.min(b,a,c),h,j;h=d-g;d===g?j=0:(d===b?j=(a-c)/h+(a<c?6:0):d===a?j=(c-b)/h+2:d===c&&(j=(b-a)/h+4),j/=6);return[j,d===0?0:h/d,d]},cf:function(b,a,c){var d,g,h,j=Math.floor(b*6),i=b*6-j,b=c*(1-a),m=c*(1-i*a),a=c*(1-(1-i)*a);j%=6;j===0?(d=c,g=a,h=b):j===1?(d=m,g=c,h=b):j===2?(d=b,g=c,h=a):j===3?(d=b,g=m,h=c):j===4?(d=a,g=b,h=c):j===5&&(d=c,g=b,h=m);return[d*255,g*255,h*255]},wa:function(b){var b=
b.charAt(0)==="#"?b.substring(1):b,a,c,d,g;if("undefined"!==typeof this[b])return this[b];else a=window.parseInt(b,16);return b.length===3?this[b]=[((a&3840)>>8)*0.062745098,((a&240)>>4)*0.062745098,(a&15)*0.062745098,1]:b.length===4?this[b]=[((a&61440)>>12)*0.062745098,((a&3840)>>8)*0.062745098,((a&240)>>4)*0.062745098,(a&15)*0.062745098]:b.length===6?this[b]=[((a&16711680)>>16)*0.00392156863,((a&65280)>>8)*0.00392156863,(a&255)*0.00392156863,1]:b.length===5?this[b]=[((a&983040)>>12)/255,((a&61440)>>
8)/255,((a&3840)>>4)/255,(a&240)/255]:b.length===8?(a=parseInt(b.substring(0,2),16)*0.00392156863,c=parseInt(b.substring(2,4),16)*0.00392156863,d=parseInt(b.substring(4,6),16)*0.00392156863,g=parseInt(b.substring(6,8),16)*0.00392156863,this[b]=[a,c,d,g]):b.match("^rgba")=="rgba"?(a=b.substring(5,b.length-1).split(","),a[0]*=0.00392156863,a[1]*=0.00392156863,a[2]*=0.00392156863,a[3]*=0.00392156863,this[b]=a):b.match("^rgb")=="rgb"?(a=b.substring(4,b.length-1).split(","),a[0]*=0.00392156863,a[1]*=0.00392156863,
a[2]*=0.00392156863,a[3]=1,this[b]=a):this[b]=[0,0,0,1]}};Q.q.u("Tilt.Math",Q.h);Q=Q||{};Q.Bd={trim:function(b){return b.replace(/^\s+|\s+$/g,"")},ug:function(b){return b.replace(/^\s+/,"")},Jg:function(b){return b.replace(/\s+$/,"")}};Q.q.u("Tilt.String",Q.Bd);Q=Q||{};Q.mc={};
Q.mc.pc={ff:function(b){var a,c,d,g;a=Q.H.Pa();c=Q.H.Pa();a=Q.nc.prototype.Ed(a);d=a.getParameter(a.MAX_TEXTURE_SIZE);g=Q.H.We(b);a=Q.h.G(g.width,0,d);g=Q.h.G(g.height,0,d);c.width=a;c.height=g;d=c.getContext("2d");d.fillStyle="#fff";d.fillRect(0,0,c.width,c.height);d.drawWindow(b,0,0,a,g,"#fff");return c},Df:function(b,a,c,d){var g=c.left,h=c.top,j=c.width,c=c.height;if(d)return d=a.getContext("2d"),d.translate(g,h),d.drawWindow(b,g,h,j,c,"#fff"),d.translate(-g,-h),a;else{if("undefined"===typeof this.Xa)this.Xa=
Q.H.Pa();this.Xa.width=j;this.Xa.height=c;d=this.Xa.getContext("2d");d.drawWindow(b,g,h,j,c,"#fff");return this.Xa}}};Q.q.u("Tilt.WebGL",Q.pc);Q=Q||{};Q.Fe={Ef:function(b,a,c){var d=new XMLHttpRequest;d.open("GET",b,!0);d.send(k);d.onreadystatechange=function(){d.readyState===4&&"function"===typeof a&&a(d,c)}},Hg:function(b,a,c){function d(d,j){g[j]=d;h++;h===b.length&&"function"===typeof a&&a(g,c)}var g=[],h=0,j,i;for(j=0,i=b.length;j<i;j++)this.Ef(b[j],d,j)}};Q.q.u("Tilt.Xhr",Q.Fe);
TiltChrome=TiltChrome||{};TiltChrome.la={};
TiltChrome.la.c={Ba:{sb:{qb:{value:50},tb:{value:0},kb:{value:100},ib:{value:80},ub:{value:100},Tb:{outline:[0,0,0,0.25]}},pf:{qb:{value:50},tb:{value:0},kb:{value:100},ib:{value:80},ub:{value:100},Tb:{outline:[0,0,0,0.25]}},eg:{qb:{value:57.5},tb:{value:50},kb:{value:100},ib:{value:7.5},ub:{value:100},Tb:{outline:[1,1,1,0.7]}}},e:{ag:{stroke:"#fff3"},html:{fill:"#FFF"},"head/body":{fill:"#E667AF"},title:{fill:"#CD0074"},script:{fill:"#A64B00"},style:{fill:"#FF9640"},div:{fill:"#5DC8CD"},span:{fill:"#67E46F"},
table:{fill:"#FF0700"},tr:{fill:"#FF4540"},td:{fill:"#FF7673"},ul:{fill:"#4671D5"},li:{fill:"#6C8CD5"},p:{fill:"#888"},a:{fill:"#123EAB"},img:{fill:"#FFB473"},iframe:{fill:"#85004B"},other:{fill:"#444"}}};TiltChrome=TiltChrome||{};TiltChrome.ud={};
TiltChrome.ud.Ee=function(){function b(a){a=a.keyCode||a.which;if(a===27)"open"===TiltChrome.BrowserOverlay.C.A.state?TiltChrome.BrowserOverlay.C.A.hidePopup():(TiltChrome.BrowserOverlay.d(!0,!0),TiltChrome.BrowserOverlay.href=k);i.Cc(a);m.Cc(a)}function a(a){a=a.keyCode||a.which;"open"!==TiltChrome.BrowserOverlay.C.A.state&&window.content.document.activeElement instanceof HTMLBodyElement&&(i.Bc(a),m.Bc(a))}function c(a){a.preventDefault();a.stopPropagation();i.Ic(a.detail);i.ja||m.Ic(a.detail)}function d(a){a.preventDefault();
a.stopPropagation();i.Hc();m.Hc()}function g(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;i.Gc(b,a);m.Gc(b,a)}function h(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;i.Jc(c,a,b);m.Jc(c,a,b)}function j(a){a.preventDefault();a.stopPropagation();l=a.clientX-a.target.offsetLeft;s=a.clientY-a.target.offsetTop;i.Fc(l,s,a.which);i.ja?m.stop():m.Fc(l,s,a.which)}var i=Q.c,
m=k,l=0,s=0;this.init=function(i){m=new Q.rd(i.width,i.height);this.stop=m.stop.bind(m);this.translate=m.translate.bind(m);this.rotate=m.rotate.bind(m);this.zoom=m.zoom.bind(m);this.reset=m.reset.bind(m);this.pa=m.pa.bind(m);i.addEventListener("mousedown",j,!1);i.addEventListener("mouseup",h,!1);i.addEventListener("click",p,!1);i.addEventListener("dblclick",w,!1);i.addEventListener("mousemove",g,!1);i.addEventListener("mouseout",d,!1);i.addEventListener("MozMousePixelScroll",c,!1);window.addEventListener("keydown",
a,!1);window.addEventListener("keyup",b,!1)};this.update=function(a){var b=this.n,a=m.loop(a);b.Qf(a.rotation);b.Sf(a.da)};var p=function(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(l-c)<2&&Math.abs(s-a)<2&&(i.click(c,a,b),i.ja||this.n.sf(c,a))}.bind(this),w=function(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(l-b)<2&&Math.abs(s-a)<2&&(i.Re(b,
a),i.ja||this.n.rf(b,a))}.bind(this);this.d=function(y){i=this.n=k;j!==k&&(y.removeEventListener("mousedown",j,!1),j=k);h!==k&&(y.removeEventListener("mouseup",h,!1),h=k);p!==k&&(y.removeEventListener("click",p,!1),p=k);w!==k&&(y.removeEventListener("dblclick",w,!1),w=k);g!==k&&(y.removeEventListener("mousemove",g,!1),g=k);d!==k&&(y.removeEventListener("mouseout",d,!1),d=k);c!==k&&(y.removeEventListener("MozMousePixelScroll",c,!1),c=k);a!==k&&(window.removeEventListener("keydown",a,!1),a=k);b!==k&&
(window.removeEventListener("keyup",b,!1),b=k);m!==k&&(m.d(),m=k);s=l=k;Q.D(this)};Q.q.u("TiltChrome.Controller.MouseAndKeyboard",this)};TiltChrome=TiltChrome||{};TiltChrome.c={};
TiltChrome.c.De=function(){var b=Q.c,a=TiltChrome.la.c,c=k,d=k,g=k,h=k,j=k,i=k,m=k,l=k,s=k,p=k,w=k,y=k,x=k,D=k,t=k,r=k,v=k,q=k,u=k,z=k,B=k,n=k,C=k,E=k,H=k,K=k,L=k,o=k,I=k,J=k,A=k,F=k,V=k,X=k,U=k,R=k,aa=k,S=k,ca=k,ea=k,ja=k,Y=k,N=k,G=k,ga=k,ha=k,ia=k,ma=k,sa=k,ta=k;this.init=function(T){i=new Q.Fa("chrome://tilt/skin/tilt-ui.png",{Sd:"nearest",Pd:"nearest",onload:function(){this.n.v()}.bind(this)});c=new Q.na;d=new Q.na;m=new Q.w(i,[0,768,256,256],{width:T.width,height:T.height,oa:!0,disabled:!0});
K=new Q.g(new Q.w(i,[935,120,42,38]),{x:T.width-50,y:-5,padding:[0,0,0,5],onclick:function(){TiltChrome.BrowserOverlay.d(!0,!0);TiltChrome.BrowserOverlay.href=k}});L=new Q.g(new Q.w(i,[935,80,46,38]),{x:T.width-150,y:-5,padding:[0,0,0,5],onclick:function(){var a=T.width*0.5+197,c=T.height*0.5-218;sa.L(T.width*0.5-305,T.height*0.5-305);ta.L(a,c);b.uf(g)}.bind(this)});o=new Q.g(new Q.w(i,[935,40,61,38]),{x:T.width-215,y:-5,padding:[0,0,0,5],onclick:function(){var a=Q.ea.get("folderPicker.string"),b=
Q.ea.get("webpageFilename.string");if(a=Q.ua.Xf(a,"folder"))a.reveal(),this.n.tf(a.path,b)}.bind(this)});I=new Q.g(new Q.w(i,[935,0,66,38]),{x:T.width-285,y:-5,padding:[0,0,0,5],onclick:function(){window.open("chrome://tilt/content/TiltChromeOptions.xul","Options","chrome, modal, centerscreen, width=400, height=325")}.bind(this)});A=new Q.g(new Q.w(i,[935,200,48,38]),{x:T.width-337,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.n.ee()}.bind(this)});F=new Q.g(new Q.w(i,[935,160,36,38]),{x:T.width-
377,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.n.Nf()}.bind(this)});J=new Q.g(new Q.w(i,[935,240,84,38]),{x:T.width-465,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.n.Wb()}.bind(this)});V=new Q.g(new Q.w(i,[0,147,42,42]),{x:0,y:-5,padding:[6,6,6,6],onclick:function(){window.clearInterval(this.M);this.Yc=0;this.M=window.setInterval(function(){this.Yc++;this.fa.translate(j.view.i?-5:5,0);this.Yc>=20&&window.clearInterval(this.M)}.bind(this),1E3/60);d.i^=1;j.view.i^=1;if(!g.i)g.i=!0;
if(!h.i)h.i=!0}.bind(this)});X=new Q.w(i,[0,0,145,145],{x:0,y:0});U=new Q.g(k,{x:50,y:4,width:45,height:30,onmousedown:function(){window.clearInterval(this.M);this.M=window.setInterval(function(){this.fa.translate(0,-5);b.R||window.clearInterval(this.M)}.bind(this),1E3/60)}.bind(this)});R=new Q.g(k,{x:50,y:110,width:45,height:30,onmousedown:function(){window.clearInterval(this.M);this.M=window.setInterval(function(){this.fa.translate(0,5);b.R||window.clearInterval(this.M)}.bind(this),1E3/60)}.bind(this)});
aa=new Q.g(k,{x:4,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.M);this.M=window.setInterval(function(){this.fa.translate(-5,0);b.R||window.clearInterval(this.M)}.bind(this),1E3/60)}.bind(this)});S=new Q.g(k,{x:110,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.M);this.M=window.setInterval(function(){this.fa.translate(5,0);b.R||window.clearInterval(this.M)}.bind(this),1E3/60)}.bind(this)});ca=new Q.g(new Q.w(i,[0,190,42,42]),{x:50,y:135,padding:[6,
6,6,6],onclick:function(){this.fa.reset(0.95)}.bind(this)});ea=new Q.g(new Q.w(i,[0,234,42,42]),{x:90,y:ca.s(),padding:[6,6,6,6],onclick:function(){this.fa.zoom(200)}.bind(this)});ja=new Q.g(new Q.w(i,[0,278,42,42]),{x:10,y:ca.s(),padding:[6,6,6,6],onclick:function(){this.fa.zoom(-200)}.bind(this)});l=new Q.w(i,[1,365,88,353],{x:0,y:292,disabled:!0});j=new Q.Ad({x:85,y:300,width:130,height:T.height-310,background:"#0001",de:[0,Math.MAX_VALUE],top:new Q.w(i,[506,69,33,30],{padding:[2,2,2,4]}),bottom:new Q.w(i,
[506,102,33,30],{padding:[2,2,2,4]}),reset:new Q.w(i,[506,134,33,30],{padding:[2,4,2,2]})});s=new Q.g(k,{x:5,y:301,width:14,height:14,fill:a.e.html.fill,onclick:function(){O(a.e.html,s)}});p=new Q.g(k,{x:5,y:s.s()+20,width:14,height:14,fill:a.e["head/body"].fill,onclick:function(){O(a.e["head/body"],p)}});w=new Q.g(k,{x:5,y:p.s()+20,width:14,height:14,fill:a.e.title.fill,onclick:function(){O(a.e.title,w)}});y=new Q.g(k,{x:5,y:w.s()+20,width:14,height:14,fill:a.e.style.fill,onclick:function(){O(a.e.style,
y)}});x=new Q.g(k,{x:5,y:y.s()+20,width:14,height:14,fill:a.e.script.fill,onclick:function(){O(a.e.script,x)}});D=new Q.g(k,{x:5,y:x.s()+20,width:14,height:14,fill:a.e.div.fill,onclick:function(){O(a.e.div,D)}});t=new Q.g(k,{x:5,y:D.s()+20,width:14,height:14,fill:a.e.span.fill,onclick:function(){O(a.e.span,t)}});r=new Q.g(k,{x:5,y:t.s()+20,width:14,height:14,fill:a.e.table.fill,onclick:function(){O(a.e.table,r)}});v=new Q.g(k,{x:5,y:r.s()+20,width:14,height:14,fill:a.e.tr.fill,onclick:function(){O(a.e.tr,
v)}});q=new Q.g(k,{x:5,y:v.s()+20,width:14,height:14,fill:a.e.td.fill,onclick:function(){O(a.e.td,q)}});u=new Q.g(k,{x:5,y:q.s()+20,width:14,height:14,fill:a.e.ul.fill,onclick:function(){O(a.e.ul,u)}});z=new Q.g(k,{x:5,y:u.s()+20,width:14,height:14,fill:a.e.li.fill,onclick:function(){O(a.e.li,z)}});B=new Q.g(k,{x:5,y:z.s()+20,width:14,height:14,fill:a.e.p.fill,onclick:function(){O(a.e.p,B)}});n=new Q.g(k,{x:5,y:B.s()+20,width:14,height:14,fill:a.e.a.fill,onclick:function(){O(a.e.a,n)}});C=new Q.g(k,
{x:5,y:n.s()+20,width:14,height:14,fill:a.e.img.fill,onclick:function(){O(a.e.img,C)}});E=new Q.g(k,{x:5,y:C.s()+20,width:14,height:14,fill:a.e.iframe.fill,onclick:function(){O(a.e.iframe,E)}});H=new Q.g(k,{x:5,y:E.s()+20,width:14,height:14,fill:a.e.other.fill,onclick:function(){O(a.e.other,H)}});var O=function(a,b){this.re=a;this.qe=b;var c=Q.h.wa(a.fill),c=Q.h.If(c[0]*255,c[1]*255,c[2]*255);TiltChrome.BrowserOverlay.J.refresh(c[0]*360,c[1]*100,c[2]*100);TiltChrome.BrowserOverlay.J.A.openPopup(k,
k,200+b.V(),80+b.s())}.bind(this),Ia=new Q.w(i,[438,67,66,66]),Da=new Q.w(i,[438,0,66,66]);Y=new Q.g(Da,{x:39,y:170,padding:[12,10,12,12],onclick:function(){if(Y.type!==1){Y.type=1;Y.ge(Ia);var b=a.Ba.eg}else Y.type=0,Y.ge(Da),b=a.Ba.pf;G.O(b.qb.value);ga.O(b.tb.value);ha.O(b.kb.value);ia.O(b.ib.value);ma.O(b.ub.value);ka();this.n.fe(b.Tb.outline)}.bind(this)});N=new Q.g(new Q.w(i,[505,0,66,66]),{x:39,y:230,padding:[12,10,14,16],onclick:function(){h.i^=1;this.n.v()}.bind(this)});var fa=new Q.w(i,
[574,131,29,29],{padding:[8,8,8,8]});G=new Q.Ea(fa,{x:64,y:12,size:120,value:a.Ba.sb.qb.value,onmousedown:function(){ka()}});ga=new Q.Ea(fa,{x:G.V(),y:G.s()+19,size:120,value:a.Ba.sb.tb.value,onmousedown:function(){ka()}});ha=new Q.Ea(fa,{x:G.V(),y:ga.s()+18,size:120,value:a.Ba.sb.kb.value,onmousedown:function(){ka()}});ia=new Q.Ea(fa,{x:G.V(),y:ha.s()+18,size:120,value:a.Ba.sb.ib.value,onmousedown:function(){ka()}});ma=new Q.Ea(fa,{x:G.V(),y:ia.s()+18,size:120,value:a.Ba.sb.ub.value,onmousedown:function(){ka()}});
var ka=function(){window.clearInterval(this.kd);this.kd=window.setInterval(function(){var a=Q.h.cf(G.S*0.01,ga.S*0.01,ha.S*0.01),c=ma.S*0.01;a[0]/=255;a[1]/=255;a[2]/=255;a[3]=ia.S*0.01;this.n.Of(a);this.n.Pf(c);b.R||window.clearInterval(this.kd)}.bind(this),1E3/60)}.bind(this),fa=new Q.w(i,[572,1,231,126],{disabled:!0});h=new Q.na({x:77,y:239,i:!0,elements:[fa,G,ga,ha,ia,ma]});sa=new Q.w(i,[210,180,610,510],{disabled:!0});ta=new Q.g(k,{width:30,height:30,onclick:function(){b.Qe(g)}.bind(this)});
g=new Q.na({i:!0,background:"#0107",elements:[sa,ta]});c.push(m,K,V);d.push(L,o,I,A,F,J,ca,ea,ja,X,U,R,aa,S,Y,N,l,s,p,w,y,x,D,t,r,v,q,u,z,B,n,C,E,H)};this.F=function(){b.F()};this.Yd=function(){A.i=!1;F.i=!1;J.i=!1};this.Xd=function(){A.i=!0;F.i=!0;J.i=!0};this.Ag=ba();this.Zd=function(){var a=TiltChrome.BrowserOverlay.J.Na.contentDocument.colorPicked;this.re.fill=a;this.qe.Xb(a);this.Dc();this.n.$d()};this.Rd=function(b,c,d,g){if(j.ed)j.ed=!1,j.view.clear(),this.Uc=0;if("undefined"===typeof this.Uc)this.Uc=
0;if(!("undefined"===typeof b.localName||b.localName===k)){var d=this.Uc++,h=3+c*6,c=3+d*10,i,m,n,J;n=Q.h.G(b.localName.length,4,10);var d=Q.h.G(b.id.length,4,10),l=Q.h.G(b.className.length,4,10),A=h+n*10+3,o=A+d*2+3,h=new Q.g(k,{x:h,y:c,width:n*10,height:7,padding:[-1,-1,-1,-1],stroke:a.e.ag.stroke});n=h.V()+h.La();J=h.s()+h.uc()*2;b.id&&(i=new Q.g(k,{x:A,y:c,width:d*2,height:7,padding:[-1,-1,-1,-1],stroke:h.kc}),n=Math.max(n,i.V()+i.La()));b.className&&(m=new Q.g(k,{x:o,y:c,width:l*2,height:7,padding:[-1,
-1,-1,-1],stroke:h.kc}),n=Math.max(n,m.V()+m.La()));n>j.view.La()&&j.view.Tc(n);j.bottom=J;if(h)j.view.push(h),h.localName=b.localName,h.onclick=function(){b.localName==="img"||b.localName==="input"||b.localName==="button"||b.localName==="meta"||b.localName==="link"||b.localName==="style"||b.localName==="script"||b.localName==="noscript"?this.n.Wb():this.n.ee();this.n.Ra(g)}.bind(this);if(i)j.view.push(i),i.Xb(h.Cb),i.localName=b.localName,i.onclick=function(){this.n.Wb();this.n.Ra(g)}.bind(this);
if(m)j.view.push(m),m.Xb(h.Cb),m.localName=b.localName,m.onclick=function(){this.n.Wb();this.n.Ra(g)}.bind(this)}};this.Dc=function(){j.view.forEach(function(b){b.Xb((a.e[b.localName!=="head"&&b.localName!=="body"?b.localName:"head/body"]||a.e.other).fill)});j.ed=!0};this.pa=function(a,b){m.W(a,b);j.view.Sc(b-310);K.ba(a-50);L.ba(a-150);o.ba(a-215);I.ba(a-285);A.ba(a-337);F.ba(a-377);J.ba(a-465)};this.d=function(){a=b=this.fa=this.n=k;c!==k&&(c.d(),c=k);d!==k&&(d.d(),d=k);g!==k&&(g.d(),g=k);h!==k&&
(h.d(),h=k);j!==k&&(j.d(),j=k);i!==k&&(i.d(),i=k);m!==k&&(m.d(),m=k);ta=sa=ma=ia=ha=ga=G=N=Y=ja=ea=ca=S=aa=R=U=X=V=F=A=J=I=o=L=K=H=E=C=n=B=q=v=r=t=D=x=y=w=p=s=l=k;Q.D(this)};Q.q.u("TiltChrome.UI",this)};TiltChrome=TiltChrome||{};
TiltChrome.Lb=function(b,a,c){var d=new Q.nc(b,{Qa:function(){TiltChrome.BrowserOverlay.d(!0,!0);TiltChrome.BrowserOverlay.href=k;Q.ma.alert("Firefox",Q.ea.get("initWebGL.error"));gBrowser.selectedTab=gBrowser.addTab("http://get.webgl.org/troubleshooting/")}}),g=k,h=k,j=15,i=k,m=k,l=k,s={index:-1,fill:"#fff",stroke:"000",za:3,ke:W(),le:W(),me:W(),ne:W()},p={da:W(),rotation:la()},w=!0,y=!0,x=!0,D=function(){if(d&&d.t)l=new Q.Kb(TiltChrome.Z.Lb.xb,TiltChrome.Z.Lb.ob),r(),v(),z(),p.da=[0,0,0],p.rotation=
[0,0,0,1],window.setTimeout(function(){C();E()}.bind(this),100)}.bind(this),t=function(){if(d&&d.t){d.loop(t);y&&(y=!1,q());x&&(x=!1,u());if(w){w=!1;d.clear(0,0,0,1);d.translate(d.width*0.5+100,d.height*0.5-50,-j*30);d.translate(p.da[0],p.da[1],p.da[2]);d.transform(Fa(p.rotation));d.Cd("alpha");d.za(2);i.F();m.F();if(s.index!==-1){var b=Q.h.zf,g=i.I,h=i.P.Q,n=i.ia.Q,l=s.index*30,o=[h[n[l+1]*3],h[n[l+1]*3+1],h[n[l+1]*3+2]],r=[h[n[l+2]*3],h[n[l+2]*3+1],h[n[l+2]*3+2]],v=[h[n[l+5]*3],h[n[l+5]*3+1],h[n[l+
5]*3+2]];b([h[n[l]*3],h[n[l]*3+1],h[n[l]*3+2]],k,g,k,s.ke);b(o,k,g,k,s.le);b(r,k,g,k,s.me);b(v,k,g,k,s.ne);d.Nc();d.oa(!1);d.fill(s.fill);d.stroke(s.stroke);d.za(s.za);d.Af(s.ke,s.le,s.me,s.ne)}c&&"function"===typeof c.F&&c.F(d.nb)}a&&"function"===typeof a.update&&a.update(d.nb);(d.Hd+1)%1E3===0&&TiltChrome.BrowserOverlay.Ub()}}.bind(this),r=function(){if("undefined"!==typeof a)a.n=this,"function"===typeof a.init&&a.init(b)}.bind(this),v=function(){if("undefined"!==typeof c)c.n=this,c.fa=a,Q.c.v=
this.v,"function"===typeof c.init&&c.init(b)}.bind(this),q=function(){var a=this.Be;if("undefined"===typeof a||a===k){if(g=Q.mc.pc.ff(window.content),h!==k&&h.d(),h=new Q.Fa(g,{fill:"white",stroke:"#aaa",za:8,vf:!0}),i!==k)i.Ua=h}else if("object"===typeof a){var b=Q.mc.pc.Df(window.content,g,a);h.dg(b,a.left,a.top)}}.bind(this),u=function(){if(d&&d.t){var a=new Ga(0),b=[],g=[],n=[],o=[],s=[],t=[];if(i!==k)i.Ua=k,i.d();m!==k&&m.d();Q.H.he(function(i,m,l,r,p,q){c&&"function"===typeof c.Rd&&c.Rd(i,m,
0,r);l={innerHTML:i.innerHTML,attributes:i.attributes,localName:i.localName,className:i.className,id:i.id,vb:r};try{l.style=window.getComputedStyle(i)}catch(u){l.style=""}i.localName==="head"||i.localName==="title"||i.localName==="meta"||i.localName==="link"||i.localName==="style"||i.localName==="script"||i.localName==="noscript"||i.localName==="option"?(l.index=-1,t.push(l)):(i=Q.H.vc(i),i.width>4&&i.height>4?(l.index=s.length,s.push(l),l=b.length/3,m=m*j+a()*0.1,p=i.x-d.width/2+p+a()*0.1,q=i.y-
d.height/2+q+a()*0.1,r=i.width,i=i.height,b.unshift(p,q,m,p+r,q,m,p+r,q+i,m,p,q+i,m,p,q+i,m-j,p+r,q+i,m-j,p+r,q+i,m,p,q+i,m,p,q,m,p+r,q,m,p+r,q,m-j,p,q,m-j),g.unshift((p+d.width*0.5)/h.width,(q+d.height*0.5)/h.height,(p+d.width*0.5+r)/h.width,(q+d.height*0.5)/h.height,(p+d.width*0.5+r)/h.width,(q+d.height*0.5+i)/h.height,(p+d.width*0.5)/h.width,(q+d.height*0.5+i)/h.height,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1),n.unshift(l+0,l+1,l+2,l+0,l+2,l+3,l+4,l+5,l+6,l+4,l+6,l+7,l+8,l+9,l+10,l+8,l+
10,l+11,l+10,l+9,l+6,l+10,l+6,l+5,l+8,l+11,l+4,l+8,l+4,l+7),o.unshift(l+0,l+1,l+1,l+2,l+2,l+3,l+3,l+0,l+4,l+5,l+5,l+6,l+6,l+7,l+7,l+4,l+8,l+9,l+9,l+10,l+10,l+11,l+11,l+8,l+10,l+9,l+9,l+6,l+6,l+5,l+5,l+10)):(l.index=-1,t.push(l)))}.bind(this),function(){c&&"undefined"!==c.Dc&&c.Dc()}.bind(this),!0);i=new Q.Jb({P:new Q.U(b,3),Ta:new Q.U(g,2),ia:new Q.hb(n),ka:[1,1,1,0.85],alpha:1,Ua:h,Xc:s,bf:t,F:function(){var a=Q.Y,b=this.P,c=this.Ta,d=this.color,g=this.ia,h=this.ka,i=this.alpha,j=this.Ua,m=this.Nb,
n=l;n.Wc();n.Ha("vertexPosition",b);n.Ha("vertexTexCoord",c);n.Ha("vertexColor",d);n.Ga("mvMatrix",a.I);n.Ga("projMatrix",a.aa);n.qc("tint",h);n.Je("alpha",i);n.bindTexture("sampler",j);a.Gd(m,g);this.I=$(a.I);this.aa=$(a.aa)}});m=new Q.Jb({P:i.P,ia:new Q.hb(o),color:"#0004",Nb:d.LINES});this.$d()}}.bind(this),z=function(){var a=gBrowser.tabContainer,b=gBrowser.contentWindow,c=TiltChrome.BrowserOverlay.C.A,d=TiltChrome.BrowserOverlay.J.A;window.addEventListener("MozAfterPaint",B,!1);a.addEventListener("TabClose",
n,!1);a.addEventListener("TabAttrModified",n,!1);b.addEventListener("resize",C,!1);gBrowser.addEventListener("mouseover",E,!1);gBrowser.addEventListener("load",H,!0);c.addEventListener("popupshown",K,!1);c.addEventListener("popuphidden",L,!1);d.addEventListener("popupshown",o,!1);d.addEventListener("popuphidden",I,!1)}.bind(this),B=function(a){var a=a.boundingClientRect,c=b.offsetLeft,d=window.content.innerWidth,g=window.content.innerHeight,h=a.left,i=a.top,j=a.width,l=a.height;i>b.offsetTop&&h>c&&
j>4&&l>4?this.Rc(a):h<=0&&i<=0&&h>=-d&&i>=-g&&j===d&&l===g&&window.setTimeout(function(){try{!x&&!y&&(this.Rc(k),this.ce())}catch(a){}}.bind(this),10)}.bind(this),n=function(){if(TiltChrome.BrowserOverlay.href!==window.content.location.href)TiltChrome.BrowserOverlay.href=k,TiltChrome.BrowserOverlay.d(!0,!0)}.bind(this),C=function(){this.v();d.width=window.content.innerWidth;d.height=window.content.innerHeight;a&&"function"===typeof a.pa&&a.pa(d.width,d.height);c&&"function"===typeof c.pa&&c.pa(d.width,
d.height);"open"===TiltChrome.BrowserOverlay.C.A.state&&TiltChrome.BrowserOverlay.C.A.hidePopup();"open"===TiltChrome.BrowserOverlay.J.A.state&&TiltChrome.BrowserOverlay.J.A.hidePopup()}.bind(this),E=function(){this.v();if(b.width!==d.width||b.height!==d.height)b.width=d.width,b.height=d.height,d.t.viewport(0,0,b.width,b.height),t()}.bind(this),H=function(){"undefined"===typeof this.we?this.we=!0:window.setTimeout(function(){try{!x&&!y&&(this.Rc(k),this.ce())}catch(a){}}.bind(this),1E3)}.bind(this),
K=function(){"function"===typeof c.Yd&&c.Yd();this.v()}.bind(this),L=function(){"function"===typeof c.Xd&&c.Xd();s.index=-1;TiltChrome.BrowserOverlay.Ub();this.v()}.bind(this),o=function(){this.v()}.bind(this),I=function(){"function"===typeof c.Zd&&c.Zd();s.index=-1;TiltChrome.BrowserOverlay.Ub();this.v()}.bind(this);this.v=function(){w=!0};this.Rc=function(a){this.Be=a;y=w=!0};this.ce=function(){x=w=!0};this.tf=function(a,b){Q.ua.Jf(g,a+Q.ua.separator+b+".png");i.save(a,b)};this.$d=function(){this.v();
for(var a=i.Xc,b=[],c=0,d=i.ia.Q.length;c<d;c+=30){var g=a[Math.floor(c/30)],h=Q.h.wa((TiltChrome.la.c.e[g.localName!=="head"&&g.localName!=="body"?g.localName:"head/body"]||TiltChrome.la.c.e.other).fill),g=[Q.h.G(h[0]*0.6,0,1),Q.h.G(h[1]*0.6,0,1),Q.h.G(h[2]*0.6,0,1)],h=[Q.h.G(h[0]*1,0,1),Q.h.G(h[1]*1,0,1),Q.h.G(h[2]*1,0,1)];b.unshift(0,0,0,0,0,0,0,0,0,0,0,0,g[0],g[1],g[2],g[0],g[1],g[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],g[0],g[1],g[2],g[0],g[1],g[2])}i.color=new Q.U(b,3)};
this.sf=function(a,b){this.ae(a,b,{Mc:function(a){"open"===TiltChrome.BrowserOverlay.C.A.state&&TiltChrome.BrowserOverlay.C.A.hidePopup();var b=a[0].Wd,a=b.index,b=b.localName!=="head"&&b.localName!=="body"?b.localName:"head/body",c=TiltChrome.la.c.e[b]||TiltChrome.la.c.e.other;if(b!=="html")s.index=a,s.fill=c.fill+"55",s.stroke=c.fill+"AA"}.bind(this),Qa:function(){"open"===TiltChrome.BrowserOverlay.C.A.state&&TiltChrome.BrowserOverlay.C.A.hidePopup();s.index=-1}})};this.rf=function(a,b){this.ae(a,
b,{Mc:function(a){this.Ra(a[0].Wd)}.bind(this),Qa:function(){"open"===TiltChrome.BrowserOverlay.C.A.state&&TiltChrome.BrowserOverlay.C.A.hidePopup()}})};this.ae=function(a,b,c){for(var c=c||{},a=Q.h.Ne([a,b,0],[a,b,1],[0,0,d.width,d.height],i.I,i.aa),b=[],g=W(),h=i.ia.Q,j=i.P.Q,l=0,m=h.length,n,o,p;l<m;l+=3)n=[j[h[l]*3],j[h[l]*3+1],j[h[l]*3+2]],o=[j[h[l+1]*3],j[h[l+1]*3+1],j[h[l+1]*3+2]],p=[j[h[l+2]*3],j[h[l+2]*3+1],j[h[l+2]*3+2]],Q.h.jf(n,o,p,a,g)>0&&b.push({Wd:i.Xc[Math.floor(l/30)],location:W(g)});
b.length>0?(b.sort(function(a,b){return a.location[2]<b.location[2]?1:-1}),"function"===typeof c.Mc&&c.Mc(b)):"function"===typeof c.Qa&&c.Qa();this.v()};this.Ra=function(a){if("number"===typeof a){for(var b=i.Xc,c=i.bf,d=0,g=b.length;d<g;d++){var h=b[d];if(a===h.vb){this.Ra(h);return}}b=0;for(d=c.length;b<d;b++)if(g=c[b],a===g.vb){this.Ra(g);break}}else if("object"===typeof a){var c=TiltChrome.BrowserOverlay.C.A,b=Q.Bd.trim(wa(a.innerHTML).replace(/</g,"&lt;").replace(/>/g,"&gt;"))+"\n",d=Q.H.Xe(a.style),
g=Q.H.Ve(a.attributes),h=document.getElementById("tilt-sourceeditor-iframe"),j=h.contentDocument.getElementById("code");document.getElementById("tilt-sourceeditor-title").value="<"+a.localName+(a.className?' class="'+a.className+'"':"")+(a.id?' id="'+a.id+'"':"")+">";c.openPopup(k,"overlap",window.innerWidth-h.width-21,window.innerHeight-h.height-77,!1,!1);j.df=b;j.Oe=d;j.He=g;a.localName==="img"||a.localName==="input"||a.localName==="button"||j.Pb==="attr"?(j.innerHTML=g,h.contentWindow.refreshCodeEditor("css")):
j.Pb==="css"?(j.innerHTML=d,h.contentWindow.refreshCodeEditor("css")):(j.innerHTML=b,h.contentWindow.refreshCodeEditor("html"));c=a.index;a=a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body";b=TiltChrome.la.c.e[a]||TiltChrome.la.c.e.other;if(a!=="html")s.index=c,s.fill=b.fill+"55",s.stroke=b.fill+"AA",this.v()}};this.ee=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.df;b.Pb="html";a.contentWindow.refreshCodeEditor("html")};
this.Nf=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.Oe;b.Pb="css";a.contentWindow.refreshCodeEditor("css")};this.Wb=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.He;b.Pb="attr";a.contentWindow.refreshCodeEditor("css")};this.Sf=function(a){var b=a[1],c=a[2];if(p.da[0]!=a[0]||p.da[1]!=b||p.da[2]!=c)b=p.da,b[0]=a[0],b[1]=a[1],b[2]=a[2],this.v()};
this.Qf=function(a){var b=a[1],c=a[2],d=a[3];if(p.rotation[0]!=a[0]||p.rotation[1]!=b||p.rotation[2]!=c||p.rotation[3]!=d)qa(a,p.rotation),this.v()};this.fe=function(a){m.color=a;this.v()};this.Lg=function(a){m.color[3]=a;this.v()};this.Of=function(a){i.ka=a;this.v()};this.Kg=function(a){i.ka[3]=a;this.v()};this.Pf=function(a){i.alpha=a;this.v()};this.d=function(){var J=gBrowser.tabContainer,A=gBrowser.contentWindow,F=TiltChrome.BrowserOverlay.C.A,V=TiltChrome.BrowserOverlay.J.A;B!==k&&(window.removeEventListener("MozAfterPaint",
B,!1),B=k);n!==k&&(J.removeEventListener("TabClose",n,!1),J.removeEventListener("TabAttrModified",n,!1),n=k);C!==k&&(A.removeEventListener("resize",C,!1),C=k);E!==k&&(gBrowser.removeEventListener("mouseover",E,!1),E=k);H!==k&&(gBrowser.removeEventListener("load",H,!0),H=k);K!==k&&(F.removeEventListener("popupshown",K,!1),K=k);L!==k&&(F.removeEventListener("popuphidden",L,!1),L=k);o!==k&&(V.removeEventListener("popupshown",o,!1),o=k);I!==k&&(V.removeEventListener("popuphidden",I,!1),I=k);a&&"function"===
typeof a.d&&(a.d(b),a=k);c&&"function"===typeof c.d&&(c.d(b),c=k);h!==k&&(h.d(),h=k);i!==k&&(i.d(),i=k);m!==k&&(m.d(),m=k);l!==k&&(l.d(),l=k);s!==k&&(Q.D(s),s=k);p!==k&&(Q.D(p),p=k);d!==k&&(d.d(),d=k);z=u=q=v=r=t=D=x=y=w=p=s=l=m=i=j=h=g=c=a=b=k;Q.D(this)};Q.q.u("TiltChrome.Visualization",this);D.call(this);t.call(this)};TiltChrome=TiltChrome||{};TiltChrome.Z={};
TiltChrome.Z.Lb={xb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nattribute vec3 vertexColor;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n  color = vertexColor;\n}",ob:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 tint;\nuniform float alpha;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  if (texCoord.s < 0.0) {\n    gl_FragColor = vec4(color.r, color.g, color.b, tint.a);\n  }\n  else {\n    vec4 texture = texture2D(sampler, texCoord);\n    gl_FragColor = tint * texture * alpha + tint * (1.0 - alpha);\n  }\n}"};
