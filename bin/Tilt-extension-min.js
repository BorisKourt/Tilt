'use strict';var f=void 0,j=null;function M(){return function(){}}function aa(a){return function(b){this[a]=b}}function S(a){return function(){return this[a]}}var U,TiltChrome=TiltChrome||{};
TiltChrome.BrowserOverlay={href:j,canvas:j,s:j,F:j,H:j,initialize:function(){this.d(!0);if(this.href===window.content.location.href)this.href=j;else{this.href=window.content.location.href;this.F={q:document.getElementById("tilt-sourceeditor"),title:document.getElementById("tilt-sourceeditor-title"),Ra:document.getElementById("tilt-sourceeditor-iframe")};this.H={q:document.getElementById("tilt-colorpicker"),Ra:document.getElementById("tilt-colorpicker-iframe")};this.F.refresh=this.F.Ra.contentWindow.refreshCodeEditor;
this.H.refresh=this.H.Ra.contentWindow.refreshColorPicker;gBrowser.selectedBrowser.markupDocumentViewer.fullZoom=1;var a=window.content.innerWidth,b=window.content.innerHeight;V.I.ub=document.getElementById("tilt-iframe").contentDocument;V.I.La=gBrowser.selectedBrowser.parentNode;this.canvas=V.I.Ta(a,b,!0);this.s=new TiltChrome.Visualization(this.canvas,new TiltChrome.Qd.cf,new TiltChrome.c.bf)}},d:function(a,b){V.I.ub=j;V.I.La=j;if(this.canvas!==j)this.canvas.parentNode.removeChild(this.canvas),
this.canvas=j;var c=function(){if(this.s!==j)this.s.d(),this.s=j;if(this.F!==j)this.F.q.hidePopup(),this.F.q=j,this.F.title=j,this.F=this.F.Ra=j;if(this.H!==j)this.H.q.hidePopup(),this.H.q=j,this.H=this.H.Ra=j;V.n.log();V.n.reset();a&&window.setTimeout(function(){this.fc()}.bind(this),100)}.bind(this);b?window.setTimeout(function(){c()},100):c()},fc:function(){window.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci.nsIDOMWindowUtils).garbageCollect()}};var V=V||{};
V.Od=function(a,b,c,d,g){V.n.o("Tilt.Arcball",this);this.jb=[0,0];this.Pb=[0,0];this.Ob=[0,0];this.zd=[0,0];this.ya=-1;this.Ga=0;this.$e=1;this.Ze=-3E3;this.Ye=500;this.qc=[];this.Fd=Z();this.Re=Z();this.Te=Z();this.rc=ba([0,0,0,1]);this.od=ba([0,0,0,1]);this.nc=ba([0,0,0,1]);this.xd=Z();this.pd=Z();this.nd=Z();this.Ib=g||[0,0];this.Jb=d||[0,0];this.Oe=ba([0,0,0,1]);this.Pe=Z();this.ua(a,b,c)};
V.Od.prototype={loop:function(a){var a=V.h.Q((a||25)*0.01,0.01,0.99),b,c,d=this.Bd,g=this.t,h=this.k,i=this.jb,k=this.Pb,m=this.Ob;c=this.zd;var n=this.ya,q=this.Ga,l=this.qc,x=this.Fd,y=this.Re,u=this.Te,B=this.rc,t=this.od,s=this.nc,w=this.xd,v=this.pd,r=this.nd,A=this.Ib,C=this.Jb,o=this.Oe,D=this.Pe;c[0]+=(m[0]-c[0])*a;c[1]+=(m[1]-c[1])*a;b=c[0];c=c[1];if(n===3||b===k[0]&&c===k[1])this.Cd=!1;n===1||this.Cd?(this.Cd=!0,this.ze(b,c,g,h,d,y),ca(x,y,u),ea(u)>0?(t[0]=u[0],t[1]=u[1],t[2]=u[2],t[3]=
-la(x,y)):(t[0]=0,t[1]=0,t[2]=0,t[3]=1),oa(B,t,s)):pa(s,B);n===3?(v[0]=m[0]-i[0],v[1]=m[1]-i[1],r[0]=w[0]+v[0],r[1]=w[1]+v[1]):(w[0]=r[0],w[1]=r[1]);v[2]=(q-r[2])*0.1;r[2]+=v[2];l[65]&&(A[0]-=a*0.2);l[68]&&(A[0]+=a*0.2);l[87]&&(A[1]+=a*0.2);l[83]&&(A[1]-=a*0.2);l[37]&&(C[0]+=a*50);l[39]&&(C[0]-=a*50);l[38]&&(C[1]+=a*50);l[40]&&(C[1]-=a*50);o[0]+=(A[0]-o[0])*a;o[1]+=(A[1]-o[1])*a;D[0]+=(C[0]-D[0])*a;D[1]+=(C[1]-D[1])*a;V.h.Ae(o[0],o[1],0,t);v[0]=D[0];v[1]=D[1];v[2]=0;return{rotation:oa(t,s),ha:qa(v,
r)}},Rc:function(a,b,c){this.eb();this.jb[0]=a;this.jb[1]=b;this.ya=c;this.vc();this.ze(a,b,this.t,this.k,this.Bd,this.Fd);pa(this.nc,this.rc)},Uc:function(a,b){this.Pb[0]=a;this.Pb[1]=b;this.ya=-1},Sc:function(a,b){this.ya!==-1&&(this.Ob[0]=a,this.Ob[1]=b)},Z:function(){this.ya=-1},Bb:function(){this.ya=-1},Tc:function(a){var b=this.$e,c=this.Ze,d=this.Ye;this.eb();this.Ga=V.h.Q(this.Ga-a*b,c,d)},Nc:function(a){this.eb();this.qc[a]=!0},Oc:function(a){this.qc[a]=!1},ze:function(a,b,c,d,g,h){a=(a-
c*0.5)/g;b=(b-d*0.5)/g;c=0;c=a*a+b*b;c>1?(c=1/Math.sqrt(c),h[0]=a*c,h[1]=b*c,h[2]=0):(h[0]=a,h[1]=b,h[2]=Math.sqrt(1-c))},translate:function(a,b){this.Jb[0]+=a;this.Jb[1]+=b},rotate:function(a,b){this.Ib[0]+=a;this.Ib[1]+=b},zoom:function(a){this.Ga+=a},stop:function(){this.eb();this.vc();this.ya=-1},ua:function(a,b,c){this.t=a;this.k=b;this.Bd=c?c:b;this.vc()},reset:function(a){var b=this.Ga,c=this.rc,d=this.od,g=this.nc,h=this.xd,i=this.pd,k=this.nd,m=this.Ib,n=this.Jb;this.af(function(){c[0]*=
-1;c[1]*=-1;c[2]*=-1;ra(c,c,1-a);ra(d,c,1-a);ra(g,c,1-a);sa(h,a);sa(i,a);sa(k,a);m[0]*=a;m[1]*=a;n[0]*=a;n[1]*=a;this.Ga*=a;ea(c)<1.0E-4&&ea(d)<1.0E-4&&ea(g)<1.0E-4&&ea(h)<0.01&&ea(i)<0.01&&ea(k)<0.01&&ea([m[0],m[1],b])<0.01&&ea([n[0],n[1],b])<0.01&&this.eb()}.bind(this),1E3/60)},af:function(a,b){if("undefined"===typeof this.Lb)this.Lb=window.setInterval(a,b)},eb:function(){"undefined"!==typeof this.Lb&&(window.clearInterval(this.Lb),delete this.Lb)},vc:function(){var a=this.Ob,b=this.Pb,c=this.zd,
d=this.jb[0],g=this.jb[1];a[0]=d;a[1]=g;b[0]=d;b[1]=g;c[0]=d;c[1]=g},d:function(){this.stop();V.A(this)}};V=V||{};V.W=function(a,b,c){V.n.o("Tilt.VertexBuffer",this);this.L=this.i=j;this.da=this.cc=0;"undefined"!==typeof a&&this.Lc(a,b,c)};V.W.prototype={Lc:function(a,b,c){var d=V.D;"undefined"===typeof c&&(c=a.length/b);this.L=new Float32Array(a);this.i=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.i);d.bufferData(d.ARRAY_BUFFER,this.L,d.STATIC_DRAW);this.cc=b;this.da=c},d:function(){try{V.D.deleteBuffer(this.i)}catch(a){}V.A(this)}};
V.ob=function(a,b){V.n.o("Tilt.IndexBuffer",this);this.L=this.i=j;this.da=this.cc=0;"undefined"!==typeof a&&this.Lc(a,b)};V.ob.prototype={Lc:function(a,b){var c=V.D;if("undefined"===typeof b)b=a.length;this.L=new Uint16Array(a);this.i=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.i);c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.L,c.STATIC_DRAW);this.cc=1;this.da=b},d:function(){try{V.D.deleteBuffer(this.i)}catch(a){}V.A(this)}};V=V||{};V.D=j;V.X=j;V.Hb=-1;V.Mb=-1;V.ib={};
V.Cc=function(){V.A(V.D);V.A(V.X);V.A(V.Hb);V.A(V.Mb);V.A(V.ib);V.D=j;V.X=j;V.Hb=-1;V.Mb=-1;V.ib={};V.Td.fb=0;V.Ac.fb=0};V=V||{};V.A=function(a){for(var b in a)try{"function"===typeof a[b].d&&a[b].d()}catch(c){}finally{try{a[b]=j,delete a[b]}catch(d){}}};V.sa=function(a){for(var b in a)try{"function"===typeof a[b]&&(a[b]=a[b].bind(a))}catch(c){}};V=V||{};
V.n={enabled:!1,Aa:[],o:function(a,b,c,d,g,h){if(this.enabled){var i,k,m;if(c){if("undefined"===typeof d&&(d=this.ef.bind(this)),"undefined"===typeof g&&(g=this.df.bind(this)),"undefined"===typeof h&&(h=this.of.bind(this)),i=b[c],"function"===typeof i)k=this.Aa.length,this.Aa[k]={name:(a+"."||"")+c,tb:0,rb:0,Ba:0,cb:0},b[c]=function(){try{return d(k),h(b,i,arguments)}finally{g(k)}}}else for(m in b)"function"===typeof b[m]&&this.o(a,b,m,d,g,h)}},ef:function(a){if("undefined"!==typeof this.Aa[a])this.Aa[a].currentTime=
(new Date).getTime()},df:function(a){a=this.Aa[a];if("undefined"!==typeof a){var b=(new Date).getTime()-a.currentTime;a.tb++;a.Ba=Math.max(a.Ba,b);a.rb=(a.Ba+b)*0.5;a.cb+=b}},of:function(a,b,c){return c.length===0?b.call(a):b.apply(a,c)},log:function(){var a=this.Aa.slice(0),b,c,d,g;a.sort(function(a,b){return a.cb<b.cb?1:-1});for(b=0;b<a.length;b++){d=a[b];for(c=b+1;c<a.length;c++)if(g=a[c],d.name===g.name)d.tb+=g.tb,d.Ba=Math.max(d.Ba,g.Ba),d.rb=(d.rb+g.rb)*0.5,d.cb+=g.cb,a.splice(c,1),c--;d.tb!==
0&&V.J.log("function "+d.name+"\ncalls    "+d.tb+"\naverage  "+d.rb+"ms\nlongest  "+d.Ba+"ms\ntotal    "+d.cb+"ms")}},reset:function(){this.Aa=[]}};V=V||{};V.Ub=function(a,b){V.n.o("Tilt.Program",this);this.i=j;this.hb=-1;this.nb=this.xa=j;this.Kb={};this.Hd={};arguments.length===2&&this.Cf(a,b)};
V.Ub.prototype={Cf:function(a,b){this.i=V.Td.create(a,b);this.hb=this.i.id;this.xa=this.i.attributes;this.nb=this.i.Ea;this.i.id=j;this.i.attributes=j;this.i.Ea=j;delete this.i.id;delete this.i.attributes;delete this.i.Ea},kd:function(){var a=this.hb,b;if(V.Hb!==a&&(V.Hb=a,a=V.D,a.useProgram(this.i),this.hf(),V.Mb<this.xa.length))for(b in V.Mb=this.xa.length,this.xa)this.xa.hasOwnProperty(b)&&b!=="length"&&a.enableVertexAttribArray(this.xa[b])},Ka:function(a,b){var c=V.D,d=this.xa[a],g=b.cc;c.bindBuffer(c.ARRAY_BUFFER,
b.i);c.vertexAttribPointer(d,g,c.FLOAT,!1,0,0)},Ja:function(a,b){var c=this.Kb,d=(b[0]+b[1]+b[2])*(b[4]+b[5]+b[6])*(b[8]+b[9]+b[10])*(b[12]+b[13]+b[14]);c[a]!==d&&(c[a]=d,V.D.uniformMatrix4fv(this.nb[a],!1,b))},Bc:function(a,b){var c=this.Kb,d=b[3]*255<<24|b[0]*255<<16|b[1]*255<<8|b[2]*255;c[a]!==d&&(c[a]=d,V.D.uniform4fv(this.nb[a],b))},ff:function(a,b){var c=this.Kb;c[a]!==b&&(c[a]=b,V.D.uniform1f(this.nb[a],b))},bindTexture:function(a,b){var c=this.Hd,d=b.hb;if(c[a]!==d)c[a]=d,c=V.D,c.bindTexture(c.TEXTURE_2D,
b.i),c.uniform1i(this.nb[a],0)},hf:function(){this.Hd={}},Cc:function(){this.Kb={}},d:function(){try{V.D.deleteShader(this.i)}catch(a){}V.A(this)}};V=V||{};
V.Td={create:function(a,b){var c=this.compile(a,"x-shader/x-vertex"),d=this.compile(b,"x-shader/x-fragment");return this.link(c,d)},compile:function(a,b){var c=V.D,d;if("string"!==typeof a||a.length<1)return V.J.error(V.ia.get("compileShader.source.error")),j;if(b==="x-shader/x-vertex")d=c.createShader(c.VERTEX_SHADER);else if(b==="x-shader/x-fragment")d=c.createShader(c.FRAGMENT_SHADER);else return V.J.error(V.ia.Fc("compileShader.type.error"),[a]),j;c.shaderSource(d,a);c.compileShader(d);d.src=
a;return!c.getShaderParameter(d,c.COMPILE_STATUS)?(c=c.getShaderInfoLog(d),V.J.error(V.ia.Fc("compileShader.compile.error"),[c]),j):d},link:function(a,b){var c=V.D,d;d=c.createProgram();c.attachShader(d,a);c.attachShader(d,b);c.linkProgram(d);if(!c.getProgramParameter(d,c.LINK_STATUS))return d=c.getProgramInfoLog(d),V.J.error(V.ia.Fc("linkProgram.error",[d])),j;d.id=this.fb++;c=[a.src,b.src].join(" ").replace(/#.*|[(){};,]/g," ").split(" ");return this.jg(d,c)},hg:function(a,b){return V.D.getAttribLocation(a,
b)},kg:function(a,b){return V.D.getUniformLocation(a,b)},ig:function(a,b){if("string"===typeof b){if(b.length<1)return j;var c;return(c=this.hg(a,b))>=0?c:this.kg(a,b)}return j},jg:function(a,b){var c,d,g,h;a.attributes={};a.attributes.length=0;a.Ea={};a.Ea.length=0;for(c=0,d=b.length;c<d;c++)g=b[c],h=this.ig(a,g),"number"===typeof h&&"undefined"===typeof a.attributes[g]&&(a.attributes[g]=h,a.attributes.length++),"object"===typeof h&&h instanceof WebGLUniformLocation&&"undefined"===typeof a.Ea[g]&&
(a.Ea[g]=h,a.Ea.length++);return a},fb:0};V=V||{};V.Ia=function(a,b){V.n.o("Tilt.Texture",this);b=b||{};this.i=j;this.height=this.width=this.hb=-1;this.loaded=!1;this.onload=b.onload;"object"===typeof a?this.je(a,b):"string"===typeof a?this.Df(a,b):V.J.error(V.ia.get("initTexture.source.error"))};
V.Ia.prototype={je:function(a,b){this.i=V.Ac.create(a,b);if("undefined"!==typeof this.i&&this.i!==j){this.hb=this.i.id;this.width=this.i.width;this.height=this.i.height;this.loaded=!0;if("function"===typeof this.onload)this.onload();this.i.id=j;this.i.width=j;this.i.height=j;delete this.i.id;delete this.i.width;delete this.i.height}this.onload=j;delete this.onload},Df:function(a,b){var c=new Image;c.src=a;c.onload=function(){this.je(c,b);b=c=j}.bind(this)},sg:function(a,b,c){this.width===a.width&&
this.height===a.height&&b&&c&&(c=b=0);var d=V.D;d.bindTexture(d.TEXTURE_2D,this.i);d.texSubImage2D(d.TEXTURE_2D,0,b,c,d.RGBA,d.UNSIGNED_BYTE,a)},d:function(){try{V.D.deleteTexture(this.i)}catch(a){}V.A(this)}};V=V||{};
V.Ac={create:function(a,b){if(!("undefined"===typeof a||a===j)){b=b||{};if("undefined"!==typeof V.ib[a.src])return V.ib[a.src];var c=V.D,d=V.Ac.Yf(a,b),g=c.getParameter(c.TEXTURE_BINDING_2D),h=a.width,i=a.height,k=c.createTexture();c.bindTexture(c.TEXTURE_2D,k);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d);k.width=h;k.height=i;k.id=this.fb++;this.fg(b);c.bindTexture(c.TEXTURE_2D,g);"undefined"!==typeof a.src&&(V.ib[a.src]=k);return k}},fg:function(a){var b=V.D,c=b.TEXTURE_MIN_FILTER,
d=b.TEXTURE_MAG_FILTER,g=b.TEXTURE_WRAP_S,h=b.TEXTURE_WRAP_T,a=a||{};a.ab&&b.bindTexture(b.TEXTURE_2D,a.ab.Yg);"nearest"===a.qe?b.texParameteri(b.TEXTURE_2D,c,b.NEAREST):"linear"===a.qe&&a.re?b.texParameteri(b.TEXTURE_2D,c,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,c,b.LINEAR);"nearest"===a.ne?b.texParameteri(b.TEXTURE_2D,d,b.NEAREST):"linear"===a.ne&&a.re?b.texParameteri(b.TEXTURE_2D,d,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,d,b.LINEAR);"repeat"===a.jh?b.texParameteri(b.TEXTURE_2D,
g,b.REPEAT):b.texParameteri(b.TEXTURE_2D,g,b.CLAMP_TO_EDGE);"repeat"===a.kh?b.texParameteri(b.TEXTURE_2D,h,b.REPEAT):b.texParameteri(b.TEXTURE_2D,h,b.CLAMP_TO_EDGE);a.re&&b.generateMipmap(b.TEXTURE_2D)},Yf:function(a,b){var b=b||{},c=(a.src||"").indexOf("chrome://"),d=V.h.ke(a.width),g=V.h.ke(a.height);if(b.Qf||d&&g&&c===-1)try{return a}finally{b=a=j}c=V.I.Ta(V.h.se(a.width),V.h.se(a.height));d=c.getContext("2d");if(b.fill)d.fillStyle=b.fill,d.fillRect(0,0,c.width,c.height);d.drawImage(a,0,0,a.width,
a.height,0,0,c.width,c.height);if(b.stroke)d.strokeStyle=b.stroke,d.lineWidth=b.Za,d.strokeRect(0,0,c.width,c.height);return c},fh:function(a){V.D.pixelStorei(V.D.UNPACK_FLIP_Y_WEBGL,a)},fb:0};
function ta(a){var b={indent_size:2,indent_char:" ",max_char:78,brace_style:"collapse"},c,d,g,b=b||{};c=b.zb||2;d=b.he||" ";g=b.Wb||"collapse";b=new function(){this.M=0;this.gh="";this.Ma="CONTENT";this.C={parent:"parent1",Ug:1,Tg:""};this.Da=this.me=this.Gf=this.jc=this.ga="";this.V={kc:"\n\r\t ".split(""),mg:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),pf:"head,body,/html".split(","),Sa:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;
return!1}};this.uf=function(){for(var a="",b=[],c=!1;this.input.charAt(this.M)!=="<";){if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;this.R++;if(this.V.Sa(a,this.V.kc))b.length&&(c=!0),this.R--;else{if(c){if(this.R>=this.oe){b.push("\n");for(c=0;c<this.ka;c++)b.push(this.ac);this.R=0}else b.push(" "),this.R++;c=!1}b.push(a)}}return b.length?b.join(""):""};this.vf=function(){var a="",b=[],a=/<\/script>/igm;a.lastIndex=this.M;for(var c=(a=
a.exec(this.input))?a.index:this.input.length;this.M<c;){if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;b.push(a)}return b.length?b.join(""):""};this.ad=function(a){this.C[a+"count"]?this.C[a+"count"]++:this.C[a+"count"]=1;this.C[a+this.C[a+"count"]]=this.ka;this.C[a+this.C[a+"count"]+"parent"]=this.C.parent;this.C.parent=a+this.C[a+"count"]};this.Zf=function(a){if(this.C[a+"count"]){for(var b=this.C.parent;b;){if(a+this.C[a+"count"]===b)break;
b=this.C[b+"parent"]}if(b)this.ka=this.C[a+this.C[a+"count"]],this.C.parent=this.C[b+"parent"];delete this.C[a+this.C[a+"count"]+"parent"];delete this.C[a+this.C[a+"count"]];this.C[a+"count"]==1?delete this.C[a+"count"]:this.C[a+"count"]--}};this.wf=function(){var a="",b=[],c=!1;do{if(this.M>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.M);this.M++;this.R++;if(this.V.Sa(a,this.V.kc))c=!0,this.R--;else{if(a==="'"||a==='"')if(!b[1]||b[1]!=="!")a+=this.xb(a),c=
!0;a==="="&&(c=!1);if(b.length&&b[b.length-1]!=="="&&a!==">"&&c)this.R>=this.oe?(this.Ya(!1,b),this.R=0):(b.push(" "),this.R++),c=!1;b.push(a)}}while(a!==">");a=b.join("");c=a.substring(1,a.indexOf(" ")!=-1?a.indexOf(" "):a.indexOf(">")).toLowerCase();a.charAt(a.length-2)==="/"||this.V.Sa(c,this.V.mg)?this.ga="SINGLE":c==="script"?(this.ad(c),this.ga="SCRIPT"):c==="style"?(this.ad(c),this.ga="STYLE"):c==="a"?(a=this.xb("</a>",a),b.push(a),this.ga="SINGLE"):c.charAt(0)==="!"?c.indexOf("[if")!=-1?(a.indexOf("!IE")!=
-1&&(a=this.xb("--\>",a),b.push(a)),this.ga="START"):c.indexOf("[endif")!=-1?(this.ga="END",this.rg()):(a=c.indexOf("[cdata[")!=-1?this.xb("]]\>",a):this.xb("--\>",a),b.push(a),this.ga="SINGLE"):(c.charAt(0)==="/"?(this.Zf(c.substring(1)),this.ga="END"):(this.ad(c),this.ga="START"),this.V.Sa(c,this.V.pf)&&this.Ya(!0,this.Ca));return b.join("")};this.xb=function(a,b){if(b&&b.indexOf(a)!=-1)return"";var c="",d="",g=!0;do{if(this.M>=this.input.length)break;c=this.input.charAt(this.M);this.M++;if(this.V.Sa(c,
this.V.kc)){if(!g){this.R--;continue}if(c==="\n"||c==="\r"){d+="\n";for(c=0;c<this.ka;c++)d+=this.ac;g=!1;this.R=0;continue}}d+=c;this.R++;g=!0}while(d.indexOf(a)==-1);return d};this.xf=function(){var a;if(this.me==="TK_TAG_SCRIPT"){a=this.vf();if(typeof a!=="string")return a;a=ua(a,{indent_size:this.zb,indent_char:this.ie,indent_level:this.ka,brace_style:this.Wb});return[a.replace(/^[\t ]+/,""),"TK_CONTENT"]}if(this.Ma==="CONTENT")return a=this.uf(),typeof a!=="string"?a:[a,"TK_CONTENT"];if(this.Ma===
"TAG")return a=this.wf(),typeof a!=="string"?a:[a,"TK_TAG_"+this.ga]};this.Tf=function(a,b,c,d){this.input=a||"";this.Ca=[];this.ie=b;this.ac="";this.zb=c;this.Wb=d;this.ka=0;this.oe=80;for(a=this.R=0;a<this.zb;a++)this.ac+=this.ie;this.Ya=function(a,b){this.R=0;if(b&&b.length){if(!a)for(;this.V.Sa(b[b.length-1],this.V.kc);)b.pop();b.push("\n");for(var c=0;c<this.ka;c++)b.push(this.ac)}};this.gc=function(a){this.Ca.push(a)};this.Af=function(){this.ka++};this.rg=function(){this.ka>0&&this.ka--}};return this};
for(b.Tf(a,d,c,g);;){a=b.xf();b.Da=a[0];b.jc=a[1];if(b.jc==="TK_EOF")break;switch(b.jc){case "TK_TAG_START":case "TK_TAG_SCRIPT":case "TK_TAG_STYLE":b.Ya(!1,b.Ca);b.gc(b.Da);b.Af();b.Ma="CONTENT";break;case "TK_TAG_END":b.Ya(!0,b.Ca);b.gc(b.Da);b.Ma="CONTENT";break;case "TK_TAG_SINGLE":b.Ya(!1,b.Ca);b.gc(b.Da);b.Ma="CONTENT";break;case "TK_CONTENT":b.Da!==""&&(b.Ya(!1,b.Ca),b.gc(b.Da)),b.Ma="TAG"}b.me=b.jc;b.Gf=b.Da}return b.Ca.join("")}
function ua(a,b){function c(a){for(a=typeof a==="undefined"?!1:a;s.length&&(s[s.length-1]===" "||s[s.length-1]===E||s[s.length-1]===Y||a&&(s[s.length-1]==="\n"||s[s.length-1]==="\r"));)s.pop()}function d(a){return a.replace(/^\s\s*|\s\s*$/,"")}function g(){var a=O;O=!1;h();O=a}function h(a){o.Yb=!1;if(!O||!q(o.mode))if(a=typeof a==="undefined"?!0:a,o.Qa=!1,c(),s.length){if(s[s.length-1]!=="\n"||!a)P=!0,s.push("\n");Y&&s.push(Y);for(a=0;a<o.la;a+=1)s.push(E);o.aa&&o.va&&(da===" "?s.push("    "):s.push(E))}}
function i(){if(o.Yb)o.Yb=!1;else{var a=" ";s.length&&(a=s[s.length-1]);a!==" "&&a!=="\n"&&a!==E&&s.push(" ")}}function k(){P=!1;o.Yb=!1;s.push(w)}function m(){s.length&&s[s.length-1]===E&&s.pop()}function n(a){o&&D.push(o);o={Sf:o?o.mode:"BLOCK",mode:a,aa:!1,wa:!1,va:!1,Kc:!1,Qa:!1,Jc:!1,Yb:!1,bc:-1,la:o?o.la+(o.aa&&o.va?1:0):0,jd:0}}function q(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"}function l(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"||a==="(EXPRESSION)"}function x(){W=
o.mode==="DO_BLOCK";D.length>0&&(o=D.pop())}function y(a){for(var b=0;b<a.length;b++)if(d(a[b])[0]!="*")return!1;return!0}function u(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function B(){Q=0;if(p>=G)return["","TK_EOF"];N=!1;var a=t.charAt(p);p+=1;if(O&&q(o.mode)){for(var b=0;u(a,H);){a==="\n"?(c(),s.push("\n"),P=!0,b=0):a==="\t"?b+=4:a!=="\r"&&(b+=1);if(p>=G)return["","TK_EOF"];a=t.charAt(p);p+=1}if(o.bc===-1)o.bc=b;if(P){var g;for(g=0;g<o.la+1;g+=1)s.push(E);if(o.bc!==-1)for(g=
0;g<b-o.bc;g++)s.push(" ")}}else{for(;u(a,H);){a==="\n"&&(Q+=ka?Q<=ka?1:0:1);if(p>=G)return["","TK_EOF"];a=t.charAt(p);p+=1}if(fa&&Q>1)for(g=0;g<Q;g+=1)h(g===0),P=!0;N=Q>0}if(u(a,J)){if(p<G)for(;u(t.charAt(p),J);)if(a+=t.charAt(p),p+=1,p===G)break;if(p!==G&&a.match(/^[0-9]+[Ee]$/)&&(t.charAt(p)==="-"||t.charAt(p)==="+"))return b=t.charAt(p),p+=1,g=B(),a+=b+g[0],[a,"TK_WORD"];if(a==="in")return[a,"TK_OPERATOR"];N&&v!=="TK_OPERATOR"&&v!=="TK_EQUALS"&&!o.Qa&&(fa||r!=="var")&&h();return[a,"TK_WORD"]}if(a===
"("||a==="[")return[a,"TK_START_EXPR"];if(a===")"||a==="]")return[a,"TK_END_EXPR"];if(a==="{")return[a,"TK_START_BLOCK"];if(a==="}")return[a,"TK_END_BLOCK"];if(a===";")return[a,"TK_SEMICOLON"];if(a==="/"){b="";g=!0;if(t.charAt(p)==="*"){p+=1;if(p<G)for(;!(t.charAt(p)==="*"&&t.charAt(p+1)&&t.charAt(p+1)==="/")&&p<G;){a=t.charAt(p);b+=a;if(a==="\r"||a==="\n")g=!1;p+=1;if(p>=G)break}p+=2;return g?["/*"+b+"*/","TK_INLINE_COMMENT"]:["/*"+b+"*/","TK_BLOCK_COMMENT"]}if(t.charAt(p)==="/"){for(b=a;t.charAt(p)!==
"\r"&&t.charAt(p)!=="\n";)if(b+=t.charAt(p),p+=1,p>=G)break;p+=1;N&&h();return[b,"TK_COMMENT"]}}if(a==="'"||a==='"'||a==="/"&&(v==="TK_WORD"&&u(r,["return","do"])||v==="TK_COMMENT"||v==="TK_START_EXPR"||v==="TK_START_BLOCK"||v==="TK_END_BLOCK"||v==="TK_OPERATOR"||v==="TK_EQUALS"||v==="TK_EOF"||v==="TK_SEMICOLON")){b=a;g=!1;var i=a;if(p<G)if(b==="/")for(a=!1;g||a||t.charAt(p)!==b;){if(i+=t.charAt(p),g?g=!1:(g=t.charAt(p)==="\\",t.charAt(p)==="["?a=!0:t.charAt(p)==="]"&&(a=!1)),p+=1,p>=G)return[i,"TK_STRING"]}else for(;g||
t.charAt(p)!==b;)if(i+=t.charAt(p),g=g?!1:t.charAt(p)==="\\",p+=1,p>=G)return[i,"TK_STRING"];p+=1;i+=b;if(b==="/")for(;p<G&&u(t.charAt(p),J);)i+=t.charAt(p),p+=1;return[i,"TK_STRING"]}if(a==="#"){if(s.length===0&&t.charAt(p)==="!"){for(i=a;p<G&&a!="\n";)a=t.charAt(p),i+=a,p+=1;s.push(d(i)+"\n");h();return B()}b="#";if(p<G&&u(t.charAt(p),K)){do a=t.charAt(p),b+=a,p+=1;while(p<G&&a!=="#"&&a!=="=");a!=="#"&&(t.charAt(p)==="["&&t.charAt(p+1)==="]"?(b+="[]",p+=2):t.charAt(p)==="{"&&t.charAt(p+1)==="}"&&
(b+="{}",p+=2));return[b,"TK_WORD"]}}if(a==="<"&&t.substring(p-1,p+3)==="<\!--")return p+=3,o.Kc=!0,["<\!--","TK_COMMENT"];if(a==="-"&&o.Kc&&t.substring(p-1,p+2)==="--\>")return o.Kc=!1,p+=2,N&&h(),["--\>","TK_COMMENT"];if(u(a,L)){for(;p<G&&u(a+t.charAt(p),L);)if(a+=t.charAt(p),p+=1,p>=G)break;return a==="="?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}var t,s,w,v,r,A,C,o,D,E,H,J,L,p,I,K,z,F,W,N,P,Q,Y="",b=b?b:{},X;if(b.ng!==f&&b.Mc===f)b.Mc=b.ng;b.gf!==f&&(X=b.gf?"expand":"collapse");
X=b.Wb?b.Wb:X?X:"collapse";C=b.zb?b.zb:2;var da=b.he?b.he:" ",fa=typeof b.Rf==="undefined"?!0:b.Rf,ka=typeof b.Hf==="undefined"?!1:b.Hf,$=b.Mc==="undefined"?!1:b.Mc,O=typeof b.Ff==="undefined"?!1:b.Ff;P=!1;var G=a.length;for(E="";C>0;)E+=da,C-=1;for(;a&&(a[0]===" "||a[0]==="\t");)Y+=a[0],a=a.substring(1);t=a;C="";v="TK_START_EXPR";A=r="";s=[];W=!1;H="\n\r\t ".split("");J="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");K="0123456789".split("");L="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");
I="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(",");D=[];n("BLOCK");for(p=0;;){F=B();w=F[0];F=F[1];if(F==="TK_EOF")break;switch(F){case "TK_START_EXPR":if(w==="["){if(v==="TK_WORD"||r===")"){u(r,I)&&i();n("(EXPRESSION)");k();break}if(o.mode==="[EXPRESSION]"||o.mode==="[INDENTED-EXPRESSION]")if(A==="]"&&r===","){if(o.mode==="[EXPRESSION]")o.mode="[INDENTED-EXPRESSION]",O||(o.la+=1);n("[EXPRESSION]");O||h()}else if(r==="["){if(o.mode==="[EXPRESSION]")o.mode=
"[INDENTED-EXPRESSION]",O||(o.la+=1);n("[EXPRESSION]");O||h()}else n("[EXPRESSION]");else n("[EXPRESSION]")}else n("(EXPRESSION)");r===";"||v==="TK_START_BLOCK"?h():v==="TK_END_EXPR"||v==="TK_START_EXPR"||v==="TK_END_BLOCK"||r==="."||(v!=="TK_WORD"&&v!=="TK_OPERATOR"?i():C==="function"||C==="typeof"?$&&i():(u(r,I)||r==="catch")&&i());k();break;case "TK_END_EXPR":if(w==="]")if(O){if(r==="}"){m();k();x();break}}else if(o.mode==="[INDENTED-EXPRESSION]"&&r==="]"){x();h();k();break}x();k();break;case "TK_START_BLOCK":C===
"do"?n("DO_BLOCK"):n("BLOCK");X=="expand"?(v!=="TK_OPERATOR"&&(r==="return"||r==="="?i():h(!0)),k(),o.la+=1):(v!=="TK_OPERATOR"&&v!=="TK_START_EXPR"?v==="TK_START_BLOCK"?h():i():q(o.Sf)&&r===","&&(A==="}"?i():h()),o.la+=1,k());break;case "TK_END_BLOCK":x();X=="expand"?r!=="{"&&h():v==="TK_START_BLOCK"?P?m():c():q(o.mode)&&O?(O=!1,h(),O=!0):h();k();break;case "TK_WORD":if(W){i();k();i();W=!1;break}if(w==="function"){if(o.aa)o.va=!0;if((P||r===";")&&r!=="{"){Q=P?Q:0;fa||(Q=1);for(z=0;z<2-Q;z++)h(!1)}}if(w===
"case"||w==="default"){r===":"?m():(o.la--,h(),o.la++);k();o.Jc=!0;break}z="NONE";v==="TK_END_BLOCK"?u(w.toLowerCase(),["else","catch","finally"])?X=="expand"||X=="end-expand"?z="NEWLINE":(z="SPACE",i()):z="NEWLINE":v==="TK_SEMICOLON"&&(o.mode==="BLOCK"||o.mode==="DO_BLOCK")?z="NEWLINE":v==="TK_SEMICOLON"&&l(o.mode)?z="SPACE":v==="TK_STRING"?z="NEWLINE":v==="TK_WORD"?(r==="else"&&c(!0),z="SPACE"):v==="TK_START_BLOCK"?z="NEWLINE":v==="TK_END_EXPR"&&(i(),z="NEWLINE");u(w,I)&&r!==")"&&(z=r=="else"?"SPACE":
"NEWLINE");if(o.Qa&&v==="TK_END_EXPR")o.Qa=!1;if(u(w.toLowerCase(),["else","catch","finally"]))v!=="TK_END_BLOCK"||X=="expand"||X=="end-expand"?h():(c(!0),i());else if(z==="NEWLINE"){if(!((v==="TK_START_EXPR"||r==="="||r===",")&&w==="function"))if(w==="function"&&r=="new")i();else if(r==="return"||r==="throw")i();else if(v!=="TK_END_EXPR"){if((v!=="TK_START_EXPR"||w!=="var")&&r!==":")w==="if"&&C==="else"&&r!=="{"?i():(o.aa=!1,o.va=!1,h())}else if(u(w,I)&&r!=")")o.aa=!1,o.va=!1,h()}else q(o.mode)&&
r===","&&A==="}"?h():z==="SPACE"&&i();k();C=w;if(w==="var")o.aa=!0,o.va=!1,o.wa=!1;if(w==="if")o.Qa=!0;if(w==="else")o.Qa=!1;break;case "TK_SEMICOLON":k();o.aa=!1;o.va=!1;if(o.mode=="OBJECT")o.mode="BLOCK";break;case "TK_STRING":v==="TK_START_BLOCK"||v==="TK_END_BLOCK"||v==="TK_SEMICOLON"?h():v==="TK_WORD"&&i();k();break;case "TK_EQUALS":if(o.aa)o.wa=!0;i();k();i();break;case "TK_OPERATOR":z=A=!0;if(o.aa&&w===","&&l(o.mode))o.wa=!1;if(o.aa&&w===",")if(o.wa){k();o.va=!0;o.wa=!1;h();break}else o.wa=
!1;if(r==="return"||r==="throw"){i();k();break}if(w===":"&&o.Jc){k();h();o.Jc=!1;break}if(w==="::"){k();break}if(w===","){o.aa?o.wa?(k(),h(),o.wa=!1):(k(),i()):v==="TK_END_BLOCK"&&o.mode!=="(EXPRESSION)"?(k(),o.mode==="OBJECT"&&r==="}"?h():i()):o.mode==="OBJECT"?(k(),h()):(k(),i());break}else u(w,["--","++","!"])||u(w,["-","+"])&&(u(v,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||u(r,I))?(z=A=!1,r===";"&&l(o.mode)&&(A=!0),v==="TK_WORD"&&u(r,I)&&(A=!0),o.mode==="BLOCK"&&(r==="{"||
r===";")&&h()):w==="."?A=!1:w===":"?o.jd==0?(o.mode="OBJECT",A=!1):o.jd-=1:w==="?"&&(o.jd+=1);A&&i();k();z&&i();break;case "TK_BLOCK_COMMENT":A=w.split(/\x0a|\x0d\x0a/);if(y(A.slice(1))){h();s.push(A[0]);for(z=1;z<A.length;z++)h(),s.push(" "),s.push(d(A[z]))}else{A.length>1?(h(),c()):i();for(z=0;z<A.length;z++)s.push(A[z]),s.push("\n")}h();break;case "TK_INLINE_COMMENT":i();k();l(o.mode)?i():g();break;case "TK_COMMENT":N?h():i();k();g();break;case "TK_UNKNOWN":(r==="return"||r==="throw")&&i(),k()}A=
r;v=F;r=w}return Y+s.join("").replace(/[\n ]+$/,"")}if(typeof exports!=="undefined")exports.Lg=ua;var xa;xa=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;function Z(a){var b=new xa(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function ya(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2]}function qa(a,b,c){if(!c||a==c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c}
function za(a,b,c){if(!c||a==c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c}function sa(a,b){a[0]*=b;a[1]*=b;a[2]*=b;return a}function ca(a,b,c){c||(c=a);var d=a[0],g=a[1],a=a[2],h=b[0],i=b[1],b=b[2];c[0]=g*b-a*i;c[1]=a*h-d*b;c[2]=d*i-g*h}function ea(a){var b=a[0],c=a[1],a=a[2];return Math.sqrt(b*b+c*c+a*a)}function la(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}
function Aa(a){var b=new xa(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}function Ba(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function Ca(a,b,c){c||(c=a);var d=a[0],g=a[1],h=a[2],i=a[3],k=a[4],m=a[5],n=a[6],q=a[7],l=a[8],x=a[9],y=a[10],u=a[11],B=a[12],t=a[13],s=a[14],a=a[15],w=b[0],v=b[1],r=b[2],A=b[3],C=b[4],o=b[5],D=b[6],E=b[7],H=b[8],J=b[9],L=b[10],p=b[11],I=b[12],K=b[13],z=b[14],b=b[15];c[0]=w*d+v*k+r*l+A*B;c[1]=w*g+v*m+r*x+A*t;c[2]=w*h+v*n+r*y+A*s;c[3]=w*i+v*q+r*u+A*a;c[4]=C*d+o*k+D*l+E*B;c[5]=C*g+o*m+D*x+E*t;c[6]=C*h+o*n+D*y+E*s;c[7]=C*i+o*q+D*u+E*a;c[8]=H*d+J*k+L*l+p*B;c[9]=H*g+J*m+L*x+p*t;c[10]=H*h+J*n+L*y+p*s;c[11]=
H*i+J*q+L*u+p*a;c[12]=I*d+K*k+z*l+b*B;c[13]=I*g+K*m+z*x+b*t;c[14]=I*h+K*n+z*y+b*s;c[15]=I*i+K*q+z*u+b*a}function Da(a,b,c){c||(c=b);var d=b[0],g=b[1],h=b[2],b=b[3];c[0]=a[0]*d+a[4]*g+a[8]*h+a[12]*b;c[1]=a[1]*d+a[5]*g+a[9]*h+a[13]*b;c[2]=a[2]*d+a[6]*g+a[10]*h+a[14]*b;c[3]=a[3]*d+a[7]*g+a[11]*h+a[15]*b;return c}function Ea(a,b){var c=b[0],d=b[1],g=b[2];a[12]=a[0]*c+a[4]*d+a[8]*g+a[12];a[13]=a[1]*c+a[5]*d+a[9]*g+a[13];a[14]=a[2]*c+a[6]*d+a[10]*g+a[14];a[15]=a[3]*c+a[7]*d+a[11]*g+a[15]}
function ba(a){var b=new xa(4);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]);return b}function pa(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]}function oa(a,b,c){c||(c=a);var d=a[0],g=a[1],h=a[2],a=a[3],i=b[0],k=b[1],m=b[2],b=b[3];c[0]=d*b+a*i+g*m-h*k;c[1]=g*b+a*k+h*i-d*m;c[2]=h*b+a*m+d*k-g*i;c[3]=a*b-d*i-g*k-h*m;return c}
function Ga(a){var b;b||(b=Aa());var c=a[0],d=a[1],g=a[2],h=a[3],i=c+c,k=d+d,m=g+g,a=c*i,n=c*k;c*=m;var q=d*k;d*=m;g*=m;i*=h;k*=h;h*=m;b[0]=1-(q+g);b[1]=n-h;b[2]=c+k;b[3]=0;b[4]=n+h;b[5]=1-(a+g);b[6]=d-i;b[7]=0;b[8]=c-k;b[9]=d+i;b[10]=1-(a+q);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}
function ra(a,b,c){var d;d||(d=a);var g=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];if(Math.abs(g)>=1)d!=a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]);else{var h=Math.acos(g),i=Math.sqrt(1-g*g);Math.abs(i)<0.0010?(d[0]=a[0]*0.5+b[0]*0.5,d[1]=a[1]*0.5+b[1]*0.5,d[2]=a[2]*0.5+b[2]*0.5,d[3]=a[3]*0.5+b[3]*0.5):(g=Math.sin((1-c)*h)/i,c=Math.sin(c*h)/i,d[0]=a[0]*g+b[0]*c,d[1]=a[1]*g+b[1]*c,d[2]=a[2]*g+b[2]*c,d[3]=a[3]*g+b[3]*c)}}V=V||{};
V.Rd=function(a,b,c){V.n.o("Tilt.Cube",this);a=a||1;b=b||1;c=c||1;this.O=new V.W([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,0.5*c,-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*
b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,-0.5*c],3);this.$a=new V.W([0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],2);this.ca=new V.ob([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23])};V.Rd.prototype={d:function(){V.A(this)}};V=V||{};
V.Sd=function(a,b,c){V.n.o("Tilt.CubeWireframe",this);a=a||1;b=b||1;c=c||1;this.O=new V.W([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c],3);this.ca=new V.ob([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,5,1,4,2,7,3,6])};V.Sd.prototype={d:function(){V.A(this)}};V=V||{};V.Ud=function(){V.n.o("Tilt.Rectangle",this);this.O=new V.W([0,0,1,0,0,1,1,1],2);this.$a=new V.W([0,0,1,0,0,1,1,1],2)};
V.Ud.prototype={d:function(){V.A(this)}};V=V||{};V.Vd=function(){V.n.o("Tilt.RectangleWireframe",this);this.O=new V.W([0,0,1,0,1,1,0,1],2)};V.Vd.prototype={d:function(){V.A(this)}};V=V||{};V.Tb=function(a){V.n.o("Tilt.Mesh",this);for(var b in a)this[b]!=="draw"&&(this[b]=a[b]);if("undefined"===typeof this.color)this.color=[1,1,1,1];if("undefined"===typeof this.Xb)this.Xb=V.X.TRIANGLES;if("function"===typeof a.G)this.G=a.G};
V.Tb.prototype={G:function(){var a=V.X,b=this.O,c=this.$a,d=this.ca,g=this.color,h=this.ab,i=this.Xb;h?a.Je(b,c,g,h):a.Fb(b,g);d?a.ee(i,d):a.Na(i,b.da)},d:function(){V.A(this)}};V=V||{};
V.Tb.prototype.save=function(a,b){var c=[],d=[],g=this.O.L,h=this.$a.L,i=this.ca.L,k,m;c.push("mtllib "+b+".mtl","usemtl webpage");d.push("newmtl webpage","illum 2","Ka 1.000 1.000 1.000","Kd 1.000 1.000 1.000","Ks 0.000 0.000 0.000","map_Ka "+b+".png","map_Kd "+b+".png","map_Ks "+b+".png");for(k=0,m=g.length;k<m;k+=3)c.push("v "+g[k]/100+" "+g[k+1]/-100+" "+g[k+2]/100);for(k=0,m=h.length;k<m;k+=2)c.push("vt "+h[k]+" "+(1-h[k+1]));for(k=0,m=i.length;k<m;k+=3)c.push("f "+(i[k]+1)+"/"+(i[k]+1)+" "+
(i[k+1]+1)+"/"+(i[k+1]+1)+" "+(i[k+2]+1)+"/"+(i[k+2]+1));g=V.qa.separator;V.qa.save(c.join("\n"),a+g+b+".obj");V.qa.save(d.join("\n"),a+g+b+".mtl")};V=V||{};
V.zc=function(a,b){V.n.o("Tilt.Renderer",this);b=b||{};this.canvas=a;this.u=this.be(a);V.Cc();V.D=this.u;V.X=this;if("undefined"!==typeof this.u&&this.u!==j){if("function"===typeof b.onsuccess)b.onsuccess();this.TRIANGLES=this.u.TRIANGLES;this.TRIANGLE_STRIP=this.u.TRIANGLE_STRIP;this.TRIANGLE_FAN=this.u.TRIANGLE_FAN;this.LINES=this.u.LINES;this.LINE_STRIP=this.u.LINE_STRIP;this.LINE_LOOP=this.u.LINE_LOOP;this.POINTS=this.u.POINTS;this.COLOR_BUFFER_BIT=this.u.COLOR_BUFFER_BIT;this.DEPTH_BUFFER_BIT=
this.u.DEPTH_BUFFER_BIT;this.STENCIL_BUFFER_BIT=this.u.STENCIL_BUFFER_BIT;this.u.clearColor(0,0,0,1);this.u.clearDepth(1)}else if(V.J.log(V.ia.get("initWebGL.error")),"function"===typeof b.Wa){b.Wa();return}this.sc=0;this.oc=j;this.vb=this.qf=this.$b=this.elapsedTime=0;this.width=a.width;this.height=a.height;this.Wc=[];this.K=Ba(Aa());this.ea=Ba(Aa());this.Le=[0,0,0,0];this.Jd=[1,1,1,1];this.pc=[1,1,1,1];this.Rb=[0,0,0,1];this.Gd=1;this.jf=new V.Ub(V.ba.Pd.Gb,V.ba.Pd.wb);this.qg=new V.Ub(V.ba.Ia.Gb,
V.ba.Ia.wb);this.uc=new V.Ud;this.We=new V.Vd;this.zg=new V.Rd;this.Ag=new V.Sd;this.origin();this.Yc();this.de()};
V.zc.prototype={clear:function(a,b,c,d){var g=this.Le,h=this.u;if(g[0]!==a||g[1]!==b||g[2]!==c||g[3]!==d)g[0]=a,g[1]=b,g[2]=c,g[3]=d,h.clearColor(a,b,c,d),a*=255,b*=255,c*=255,d*=255,this.canvas.setAttribute("style",["background: rgba(",a,", ",b,", ",c,", ",d,"); width: 100%; height: 100%;"].join(""));h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT)},background:function(a){a="string"===typeof a?V.h.Pa(a):"undefined"===typeof a?[0,0,0,1]:"number"===typeof a?[a/255,a/255,a/255,1]:[a[0]/255,a[1]/255,a[2]/
255,a[3]/255];this.clear(a[0],a[1],a[2],a[3])},Yc:function(){var a=this.width,b=this.height,c=a/2,d=b/2,g=d/Math.tan(V.h.Vf(45)/2),h=g/10,i=h*Math.tan(45*Math.PI/360),a=i*(a/b),b=-a,k=-i*-1;i*=-1;var m=g*10,n=this.ea;n||(n=Aa());var q=a-b,l=i-k,x=m-h;n[0]=h*2/q;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=h*2/l;n[6]=0;n[7]=0;n[8]=(a+b)/q;n[9]=(i+k)/l;n[10]=-(m+h)/x;n[11]=-1;n[12]=0;n[13]=0;n[14]=-(m*h*2)/x;n[15]=0;Ea(this.ea,[-c,-d,-g]);Ba(this.K);this.ta(!0)},Lf:function(){var a=this.width,b=this.height,c=this.ea;
c||(c=Aa());var d=a-0,g=0-b;c[0]=2/d;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/g;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=-1.0E-6;c[11]=0;c[12]=-(0+a)/d;c[13]=-(0+b)/g;c[14]=0;c[15]=1;Ea(this.ea,[0,0,-999999]);Ba(this.K);this.ta(!1)},$c:function(){this.Wc.push(Aa(this.K))},Zc:function(){if(this.Wc.length>0)this.K=this.Wc.pop()},origin:function(){Ba(this.K)},transform:function(a){Ca(this.K,a)},translate:function(a,b,c){Ea(this.K,[a,b,c||0])},rotate:function(a,b,c,d){var g=this.K,d=[b,c,d],h,b=d[0],c=d[1],d=d[2],
i=Math.sqrt(b*b+c*c+d*d);if(i){i!=1&&(i=1/i,b*=i,c*=i,d*=i);var k=Math.sin(a),m=Math.cos(a),n=1-m,a=g[0],i=g[1],q=g[2],l=g[3],x=g[4],y=g[5],u=g[6],B=g[7],t=g[8],s=g[9],w=g[10],v=g[11],r=b*b*n+m,A=c*b*n+d*k,C=d*b*n-c*k,o=b*c*n-d*k,D=c*c*n+m,E=d*c*n+b*k,H=b*d*n+c*k,b=c*d*n-b*k,c=d*d*n+m;h?g!=h&&(h[12]=g[12],h[13]=g[13],h[14]=g[14],h[15]=g[15]):h=g;h[0]=a*r+x*A+t*C;h[1]=i*r+y*A+s*C;h[2]=q*r+u*A+w*C;h[3]=l*r+B*A+v*C;h[4]=a*o+x*D+t*E;h[5]=i*o+y*D+s*E;h[6]=q*o+u*D+w*E;h[7]=l*o+B*D+v*E;h[8]=a*H+x*b+t*c;
h[9]=i*H+y*b+s*c;h[10]=q*H+u*b+w*c;h[11]=l*H+B*b+v*c}},scale:function(a,b,c){var d=this.K,c=[a,b,c||0],a=c[0],b=c[1],c=c[2];d[0]*=a;d[1]*=a;d[2]*=a;d[3]*=a;d[4]*=b;d[5]*=b;d[6]*=b;d[7]*=b;d[8]*=c;d[9]*=c;d[10]*=c;d[11]*=c},na:function(a){var a=V.h.Pa(a),b=this.Jd;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]},fill:function(a){var a=V.h.Pa(a),b=this.pc;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]},stroke:function(a){var a=V.h.Pa(a),b=this.Rb;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]},Jf:function(){var a=this.Rb;
a[0]=0;a[1]=0;a[2]=0;a[3]=0},Za:function(a){if(this.Gd!==a)this.Gd=a,this.u.lineWidth(a)},$d:function(a){var b=this.u;"alpha"===a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA)):"add"===a||"additive"===a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE)):b.disable(b.BLEND)},ta:function(a){var b=this.u;a?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)},og:function(a){var b=this.u;a?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST)},de:function(){this.na("#fff");this.fill("#fff");
this.stroke("#000");this.Za(1);this.ta(!0);this.og(!1);this.$d("alpha")},Fb:function(a,b){var c=this.jf;c.kd();c.Ka("vertexPosition",a);c.Ja("mvMatrix",this.K);c.Ja("projMatrix",this.ea);c.Bc("color",b)},Je:function(a,b,c,d){var g=this.qg;g.kd();g.Ka("vertexPosition",a);g.Ka("vertexTexCoord",b);g.Ja("mvMatrix",this.K);g.Ja("projMatrix",this.ea);g.Bc("color",c);g.bindTexture("sampler",d)},Uf:function(a,b,c,d){var g=this.pc,h=this.Rb,a=new V.W([a[0],a[1],a[2]||0,b[0],b[1],b[2]||0,c[0],c[1],c[2]||0,
d[0],d[1],d[2]||0],3);g[3]&&(this.Fb(a,g),this.Na(this.TRIANGLE_FAN,a.da));h[3]&&(this.Fb(a,h),this.Na(this.LINE_LOOP,a.da));a.d()},rect:function(a,b,c,d){var g=this.pc,h=this.Rb,i=this.uc.O,k=this.We.O;"center"===this.uc.Xg&&(a-=c/2,b-=d/2);this.$c();this.translate(a,b,0);this.scale(c,d,1);g[3]&&(this.Fb(i,g),this.Na(this.TRIANGLE_STRIP,i.da));h[3]&&(this.Fb(k,h),this.Na(this.LINE_LOOP,k.da));this.Zc()},ge:function(a,b,c,d,g,h){if(a.loaded){var i=this.uc,k=this.Jd,m=i.O,h=h||i.$a;if("undefined"===
typeof d||"undefined"===typeof g)d=a.width,g=a.height;"center"===i.Jg&&(b-=d*0.5,c-=g*0.5);k[3]&&(this.$c(),this.translate(b,c,0),this.scale(d,g,1),this.Je(m,h,k,a),this.Na(this.TRIANGLE_STRIP,m.da),this.Zc())}},Na:function(a,b){this.u.drawArrays(a,0,b)},ee:function(a,b){var c=this.u;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.i);c.drawElements(a,b.da,c.UNSIGNED_SHORT,0)},be:function(a,b){var c=["experimental-webgl","webgl","webkit-3d","moz-webgl"],d,g,h;for(g=0,h=c.length;g<h;g++)try{d=a.getContext(c[g],
b)}catch(i){}finally{if(d)return d}},loop:function(a,b){window.Xf(a);this.Yc();this.$b++;if(b){this.oc=(new Date).getTime();if(this.sc!==0)this.vb=this.oc-this.sc,this.qf=1E3/this.vb;this.sc=this.oc;this.elapsedTime+=this.vb}},d:function(){V.Cc();V.A(this)}};window.Xf=window.Zg||window.ih||window.Pg||window.Rg||window.Qg||function(a){window.setTimeout(a,1E3/60)};V=V||{};V.ba={};
V.ba.Pd={Gb:"attribute vec3 vertexPosition;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvoid main(void) {\n    gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n}",wb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nvoid main(void) {\n    gl_FragColor = color;\n}"};
V.ba.Ia={Gb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n}",wb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvoid main(void) {\n  vec4 texture = texture2D(sampler, texCoord);\n  gl_FragColor = color * texture;\n}"};
V=V||{};V.pa=function(a){V.n.o("Tilt.Container",this);a=a||{};this.j=a.j||!1;this.disabled=a.disabled||!1;this.standby=a.standby||!1;this.Ke=a.background||j;this.m=a.x||0;this.l=a.y||0;this.t=a.width||0;this.k=a.height||0;this.za=a.Va||[0,0];a.elements instanceof Array&&a.elements.forEach(function(a){this.push(a)}.bind(this));V.c.push(this)};V.pa.prototype=[];U=V.pa.prototype;U.N=function(a,b){this.m=a;this.l=b};U.$=function(a,b){this.t=a;this.k=b};U.fa=aa("m");U.ed=aa("t");U.dd=aa("k");U.Y=S("m");
U.w=S("l");U.Oa=S("t");U.Gc=S("k");U.update=M();
U.G=function(a,b){var b=b||V.X,c;c=this.Ke;var d=this.m,g=this.l,h=this.t,i=this.k,k=this.za,m=d+k[0],k=g+k[1],n,q,l,x,y,u,B,t,s,w;c!==j&&(b.fill(c),b.Jf(),b.rect(d,g,h||b.width,i||b.height));b.$c();b.translate(m,k,0);for(s=0,w=this.length;s<w;s++)if(c=this[s],c.Dc=!1,c.Ue=d,c.Ve=g,c.Dg=h,c.Cg=i,!c.j)if("function"===typeof c.update&&!c.j&&!c.disabled&&c.update(a,b),h===0||i===0)c.G(a,b),c.Dc=!0;else if(n=c.v||[1,1,1,1],q=n[0]+m,l=n[1]+k,x=n[2],y=n[3],n=q,u=l,q+=x,l+=y,x=d,y=g,B=d+h,t=g+i,n>x&&q<B&&
u>y&&l<t)c.G(a,b),c.Dc=!0;b.Zc()};U.clear=function(){for(var a=0,b=this.length;a<b;a++)this[a].d(),this[a]=j;this.splice(0,this.length)};U.d=function(){V.c.splice(V.c.indexOf(this),1);V.A(this)};V=V||{};
V.Wd=function(a){V.n.o("Tilt.ScrollContainer",this);V.c.push(this);this.view=new V.pa(a);this.view.standby=!0;this.scrollbars=new V.pa;this.top=a.De[0]||0;this.bottom=a.De[1]||Number.MAX_VALUE;this.view.za[1]=this.top;var b=new V.f(a.top,{x:this.view.m-25,y:this.view.l-5,width:32,height:30,fill:a.top?j:"#f00a",padding:a.top?a.top.e:[0,0,0,0],onmousedown:function(){window.clearInterval(this.mb);window.clearInterval(this.lb);window.clearInterval(this.kb);var a=V.c,b=this.view,c=b.za;this.lb=window.setInterval(function(){c[1]=
V.h.Q(c[1]+5,this.top,-this.bottom+b.k);a.r();a.T||(c=b=a=j,window.clearInterval(this.lb))}.bind(this),1E3/60)}.bind(this)}),c=new V.f(a.bottom,{x:this.view.m-25,y:this.view.l+this.view.k-25,width:32,height:30,fill:a.bottom?j:"#0f0a",padding:a.bottom?a.bottom.e:[0,0,0,0],onmousedown:function(){window.clearInterval(this.mb);window.clearInterval(this.lb);window.clearInterval(this.kb);var a=V.c,b=this.view,c=b.za;this.kb=window.setInterval(function(){c[1]=V.h.Q(c[1]-5,this.top,-this.bottom+b.k);a.r();
a.T||(c=b=a=j,window.clearInterval(this.kb))}.bind(this),1E3/60)}.bind(this)}),a=new V.f(a.reset,{x:this.view.m-25,y:this.view.l+this.view.k-50,width:32,height:30,fill:a.reset?j:"#0f0b",padding:a.reset?a.reset.e:[0,0,0,0],onmousedown:function(){window.clearInterval(this.mb);window.clearInterval(this.lb);window.clearInterval(this.kb);var a=V.c,b=this.view,c=b.za;this.mb=window.setInterval(function(){c[1]-=(c[1]-this.top)/10;a.r();Math.abs(c[1]-this.top)<0.1&&(c=b=a=j,window.clearInterval(this.mb))}.bind(this),
1E3/60)}.bind(this)});this.view.onmousescroll=function(a){window.clearInterval(this.mb);window.clearInterval(this.lb);window.clearInterval(this.kb);var b=V.c,c=this.view,i=c.za;i[1]=V.h.Q(i[1]-a/2,this.top,-this.bottom+c.k);b.r()}.bind(this);this.scrollbars.push(b,c,a);a=c=b=j};V.Wd.prototype={update:function(){this.scrollbars.j=this.view.j;this.scrollbars.disabled=this.view.disabled},G:M(),d:function(){V.c.splice(V.c.indexOf(this),1);V.A(this)}};V=V||{};
V.f=function(a,b){V.n.o("Tilt.Button",this);b=b||{};this.j=b.j||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||f;this.onmouseup=b.onmouseup||f;this.onclick=b.onclick||f;this.b=a||{m:-1,l:-1,t:-1,k:-1};this.b.m=b.x||this.b.m;this.b.l=b.y||this.b.l;this.b.t=b.width||this.b.t;this.b.k=b.height||this.b.k;this.b.disabled=!0;this.e=b.padding||[0,0,0,0];this.Nb=b.fill||j;this.xc=b.stroke||j;this.v=[this.b.m+this.e[0],this.b.l+this.e[1],this.b.t-this.e[0]-this.e[2],this.b.k-this.e[1]-this.e[3]]};
V.f.prototype={N:function(a,b){"function"===typeof this.b.N?this.b.N(a,b):(this.b.m=a,this.b.l=b);this.v[0]=a+this.e[0];this.v[1]=b+this.e[1]},$:function(a,b){"function"===typeof this.b.$?this.b.$(a,b):(this.b.t=a,this.b.k=b);this.v[2]=a-this.e[0]-this.e[2];this.v[3]=b-this.e[1]-this.e[3]},fa:function(a){this.N(a,this.b.l)},ed:function(a){this.$(a,this.b.k)},dd:function(a){this.$(this.b.t,a)},Ge:function(a){var b=this.b.m,c=this.b.l,d=this.b.t,g=this.b.k,h=this.b.e;this.b=a;this.b.e=h;this.b.N(b,
c);this.b.$(d,g);this.b.disabled=!0},ic:aa("Nb"),Y:function(){return this.b.m},w:function(){return this.b.l},Oa:function(){return this.b.t},Gc:function(){return this.b.k},G:function(a,b){b=b||V.X;"undefined"!==typeof this.b.yc&&this.b.G(b);var c,d,g=this.Nb,h=this.xc;if(g||h)c=this.v,d=this.e,b.fill(g||"#fff0"),b.stroke(h||"#0000"),b.rect(c[0]-d[0],c[1]-d[1],c[2]+d[0]+d[2],c[3]+d[1]+d[3]);V.c.lf&&(b.fill("#fff2"),b.stroke("#00f"),b.rect(this.b.m,this.b.l,this.b.t,this.b.k),this.disabled||(b.fill("#0f04"),
b.rect(this.v[0],this.v[1],this.v[2],this.v[3])))},d:function(){V.A(this)}};V=V||{};
V.Ha=function(a,b){V.n.o("Tilt.Slider",this);b=b||{};this.j=b.j||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||f;this.onmouseup=b.onmouseup||f;this.onclick=b.onclick||f;this.b=new V.B(a.yc,a.Qb,{padding:a.e,na:a.Id});this.b.m=b.x||this.b.m;this.b.l=b.y||this.b.l;this.b.t=b.width||this.b.t;this.b.k=b.height||this.b.k;this.m=this.b.m;this.l=this.b.l;this.wc=b.size||100;this.qd=b.direction||0;this.v=[this.b.m+this.b.e[0],this.b.l+this.b.e[1],this.b.t-this.b.e[2],this.b.k-this.b.e[3]];
this.S(b.value||0)};
V.Ha.prototype={N:function(a,b){this.m=a;this.l=b;this.v[0]=a+this.b.e[0];this.v[1]=b+this.b.e[1];this.S(this.U)},fa:function(a){this.N(a,this.l);this.S(this.U)},$:function(a){this.wc=a;this.S(this.U)},S:function(a){var b=this.b,c=this.m,d=this.l,g=this.wc,h=this.qd;this.U=V.h.Q(a+0.0010,0,100);h===0?(a=V.h.map(this.U,0,100,c,c+g),b.N(a,d),this.v[0]=a+b.e[0]):(a=V.h.map(this.U,0,100,d,d+g),b.N(c,a),this.v[1]=a+b.e[1])},Y:S("m"),w:S("l"),update:function(){var a,b,c,d,g,h,i;if(this.T)this.Ed=!0;else if(!V.c.T)this.Ed=
!1;if(this.Ed)a=this.b,b=this.Ue,c=this.Ve,d=this.m,g=this.l,h=this.wc,i=this.qd,i===0?(d+=b,h=d+h,i=V.h.Q(V.c.ec-a.t*0.5,d,h),b=i-b,a.N(b,g),this.U=V.h.map(i,d,h,0,100),this.v[0]=b+a.e[0]):(g+=c,i=V.h.Q(V.c.Bg-a.k*0.5,g,g+h),b=i-c,a.N(d,b),this.U=V.h.map(b,g,g+h,0,100),this.v[1]=b+a.e[1])},G:function(a,b){b=b||V.X;this.b.G(b)},d:function(){V.A(this)}};V=V||{};
V.B=function(a,b,c){V.n.o("Tilt.Sprite",this);c=c||{};this.j=c.j||!1;this.disabled=c.disabled||!1;this.onmousedown=c.onmousedown||f;this.onmouseup=c.onmouseup||f;this.onclick=c.onclick||f;this.yc=a;this.Qb=b||[0,0,a.width,a.height];this.m=c.x||0;this.l=c.y||0;this.t=c.width||this.Qb[2];this.k=c.height||this.Qb[3];this.e=c.padding||[0,0,0,0];this.Id=c.na||j;this.Qe=c.ta||!1;this.v=[this.m+this.e[0],this.l+this.e[1],this.t-this.e[0]-this.e[2],this.k-this.e[0]-this.e[3]];this.Sb=j};
V.B.prototype={N:function(a,b){this.m=a;this.l=b;this.v[0]=a+this.e[0];this.v[1]=b+this.e[1]},$:function(a,b){this.t=a;this.k=b;this.v[2]=a-this.e[0]-this.e[2];this.v[3]=b-this.e[1]-this.e[3]},fa:function(a){this.N(a,this.l)},ed:function(a){this.$(a,this.k)},dd:function(a){this.$(this.t,a)},Y:S("m"),w:S("l"),Oa:S("t"),Gc:S("k"),G:function(a,b){var b=b||V.X,c=this.Qb,d=this.yc,g=this.m,h=this.l,i=this.t,k=this.k,m=this.Qe,n=this.Id;if(this.Sb===j&&d.loaded)this.Sb=new V.W([c[0]/d.width,c[1]/d.height,
(c[0]+c[2])/d.width,c[1]/d.height,c[0]/d.width,(c[1]+c[3])/d.height,(c[0]+c[2])/d.width,(c[1]+c[3])/d.height],2);n!==j&&b.na(n);m?(b.ta(!0),b.ge(d,g,h,i,k,this.Sb),b.ta(!1)):b.ge(d,g,h,i,k,this.Sb);n!==j&&b.na("#fff");V.c.lf&&(b.fill("#fff2"),b.stroke("#f00"),b.rect(this.m,this.l,this.t,this.k),this.disabled||(b.fill("#0f04"),b.rect(this.v[0],this.v[1],this.v[2],this.v[3])))},d:function(){V.A(this)}};V=V||{};V.c=[];V.c.ec=0;V.c.Vc=0;V.c.T=!1;V.c.Z=!1;V.c.If=0;V.c.le=[];V.c.r=M();
V.c.G=function(a){var b=V.X,c,d,g;b.de();b.Lf();for(c=0,d=this.length;c<d;c++)g=this[c],g.j||(g.disabled||g.update(a,b),g.G(a,b))};V.c.Pf=function(a){if(!(a.Qc||this.indexOf(a)===-1)){for(var b=0,c=this.length;b<c;b++)this[b].Ad=this[b].disabled,this[b].disabled=!0;a.Qc=!0;a.j=!1;a.disabled=!1;this.r()}};V.c.mf=function(a){if(a.Qc&&this.indexOf(a)!==-1){for(var b=0,c=this.length;b<c;b++)this[b].disabled=this[b].Ad,delete this[b].Ad;a.Qc=!1;a.j=!0;a.disabled=!0;this.r()}};
V.c.Rc=function(a,b,c){this.T=!0;this.Z=!1;this.gb("onmousedown",a,b,c)};V.c.Uc=function(a,b,c){this.Z=this.T=!1;this.gb("onmouseup",a,b,c)};V.c.click=function(a,b){this.gb("onclick",a,b)};V.c.nf=function(a,b){this.gb("ondoubleclick",a,b)};V.c.Sc=function(a,b){this.ec=a;this.Vc=b};V.c.Tc=function(a){this.Z=!1;this.If=a;this.gb("onmousescroll",a)};V.c.Z=M();V.c.Bb=M();V.c.Nc=function(a){this.le[a]=!0;this.wd("onkeydown",a)};V.c.Oc=function(a){this.le[a]=!1;this.wd("onkeyup",a)};
V.c.xg=function(){this.ec=-Number.MAX_VALUE;this.Vc=-Number.MAX_VALUE};
V.c.gb=function(a,b,c,d){var g,h,i,k,m,n,q,l,x,y,u,B,t=this.ec,s=this.Vc;for(g=0,i=this.length;g<i;g++)if(m=this[g],!m.j&&!m.disabled){l=m.m||0;h=m.l||0;k=m.t||0;x=m.k||0;if(m.standby&&t>l&&t<l+k&&s>h&&s<h+x)this.Z=!0,q=m[a],"function"===typeof q&&q(b,c,d);k=m.za||[0,0];l+=k[0];x=h+k[1]+2;for(h=0,k=m.length;h<k;h++)if((n=m[h])&&!n.j&&!n.disabled&&n.Dc){y=n.v||[-1,-1,-1,-1];q=y[0]+l;u=y[1]+x;B=y[2];y=y[3];if("onmouseup"===a)n.T=!1;if(t>q&&t<q+B&&s>u&&s<u+y){if("onmousedown"===a)n.T=!0;this.Z=!0;q=
n[a];"function"===typeof q&&q(b,c,d)}}}};V.c.wd=function(a,b){var c,d,g,h,i,k,m;for(c=0,g=this.length;c<g;c++)if(i=this[c],!i.j&&!i.disabled){i.standby&&(m=i[a],"function"===typeof m&&m(b));for(d=0,h=i.length;d<h;d++)if((k=i[d])&&!k.j&&!k.disabled)m=k[a],"function"===typeof m&&m(b)}};V.n.o("Tilt.UI",V.c);if("undefined"===typeof Cc)var Cc=Components.classes;if("undefined"===typeof Ci)var Ci=Components.interfaces;if("undefined"===typeof Cu)var Cu=Components.utils;V=V||{};
V.J={alert:function(a,b){var c;"undefined"===typeof b&&(b="undefined");try{c=Cc["@mozilla.org/embedcomp/prompt-service;1"].getService(Ci.nsIPromptService),c.alert(j,a,b)}catch(d){window.alert(b)}},log:function(a){var b;"undefined"===typeof a&&(a="undefined");try{b=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),b.logStringMessage(a)}catch(c){window.alert(a)}},error:function(a,b,c,d,g,h,i){var k,m;"undefined"===typeof a&&(a="undefined");try{k=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),
m=Cc["@mozilla.org/scripterror;1"].createInstance(Ci.nsIScriptError),m.init(a,b,c,d,g,h,i),k.logMessage(m)}catch(n){window.alert(a)}}};V.ia={ae:"tilt-string-bundle",get:function(a){if("undefined"===typeof a)return"undefined";var b=document.getElementById(this.ae);return b?b.getString(a):a},Fc:function(a,b){if("undefined"===typeof a)return"undefined";if("undefined"===typeof b)return a;var c=document.getElementById(this.ae);return c?c.Gg(a,b):[a,b].join(" ")}};V.sa(V.J);V.n.o("Tilt.Console",V.J);
V=V||{};
V.I={ub:f,La:f,Ta:function(a,b,c,d){if("undefined"===typeof this.ub)this.ub=document;if("undefined"===typeof this.La)this.La=document.body;var g=this.ub,h=this.La;if("undefined"===typeof g||g===j||"undefined"===typeof h||h===j)return j;g=g.createElement("canvas");g.setAttribute("style","width: 100%; height: 100%;");g.width=a;g.height=b;g.id=d;c&&this.append(g,h);return g},Kg:function(){var a=this.Ta(window.innerWidth,window.innerHeight,!0);this.La.setAttribute("style","background: #000; margin: 0px; padding: 0px; overflow: hidden;");return a},
append:function(a,b){b.appendChild(a)},remove:function(a){a.parentNode.removeChild(a)},He:function(a,b,c,d){this.offsetY=this.offsetX=this.Eb=0;this.fd=this.gd=Number.MAX_VALUE;var g=0,h=0,i=function(b,d){var n,q,l,x,y,u,B;for(n=0,q=b.childNodes.length;n<q;n++)if(l=b.childNodes[n],d>g&&(g=d),h++,this.Eb++,a(l,d,h,this.Eb,this.offsetX,this.offsetY,this.gd,this.fd),i(l,d+1),c&&l.localName==="iframe")x=V.I.Hc(l),y=x.x-window.content.pageXOffset,u=x.y-window.content.pageYOffset,B=x.width,x=x.height,this.offsetX+=
y,this.offsetY+=u,this.gd=B,this.fd=x,i(l.contentDocument,d+1),this.offsetX-=y,this.offsetY-=u,this.fd=this.gd=Number.MAX_VALUE}.bind(this);try{"function"===typeof a&&i(d||window.content.document,0),"function"===typeof b&&b(g,h)}finally{d=j}},sf:function(a){var b,c={width:a.innerWidth+a.scrollMaxX,height:a.innerHeight+a.scrollMaxY};this.He(function(a){b=this.Hc(a);c.width=Math.max(c.width,b.x||0+b.width||0);c.height=Math.max(c.height,b.y||0+b.height||0)}.bind(this),j,a.document);return c},Hc:function(a){if(a.nodeType!==
1)return{x:0,y:0,width:0,height:0};var b,c,d,g;try{if(window.content.location.href==="about:blank"&&(a.localName==="head"||a.localName==="body"))throw new Exception;d=a.getBoundingClientRect();b=window.content.pageXOffset;c=window.content.pageYOffset;return{x:d.left+b,y:d.top+c,width:d.width,height:d.height}}catch(h){c=b=0;d=a.clientWidth;g=a.clientHeight;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}else{if(a.x)b=a.x;if(a.y)c=a.y}return{x:b,y:c,width:d,height:g}}finally{}},
Hg:function(a){var b;a.nodeType===1?b="ELEMENT_NODE":a.nodeType===2?b="ATTRIBUTE_NODE":a.nodeType===3?b="TEXT_NODE":a.nodeType===4?b="CDATA_SECTION_NODE":a.nodeType===5?b="ENTITY_REFERENCE_NODE":a.nodeType===6?b="ENTITY_NODE":a.nodeType===7?b="PROCESSING_INSTRUCTION_NODE":a.nodeType===8?b="COMMENT_NODE":a.nodeType===9?b="DOCUMENT_NODE":a.nodeType===10?b="DOCUMENT_TYPE_NODE":a.nodeType===11?b="DOCUMENT_FRAGMENT_NODE":a.nodeType===12&&(b="NOTATION_NODE");return b},rf:function(a){var b=[],c,d;for(c=
0,d=a.length;c<d;c++)b.push(a[c].name+' = "'+a[c].value+'"');return b.join("\n")+"\n"},tf:function(a){var b=[],c,d,g;for(g=0;g<a.length;g++)c=a[g],d=a.getPropertyValue(c),c=c+": "+d+";",'background-attachment: scroll;\nbackground-clip: border-box;\nbackground-color: transparent;\nbackground-image: none;\nbackground-origin: padding-box;\nbackground-position: 0% 0%;\nbackground-repeat: repeat;\nbackground-size: auto auto;\nborder-bottom-color: rgb(0, 0, 0);\nborder-bottom-left-radius: 0px;\nborder-bottom-right-radius: 0px;\nborder-bottom-style: none;\nborder-bottom-width: 0px;\nborder-collapse: separate;\nborder-left-color: rgb(0, 0, 0);\nborder-left-style: none;\nborder-left-width: 0px;\nborder-right-color: rgb(0, 0, 0);\nborder-right-style: none;\nborder-right-width: 0px;\nborder-spacing: 0px 0px;\nborder-top-color: rgb(0, 0, 0);\nborder-top-left-radius: 0px;\nborder-top-right-radius: 0px;\nborder-top-style: none;\nborder-top-width: 0px;\nbottom: auto;\nbox-shadow: none;\ncaption-side: top;\nclear: none;\nclip: auto;\ncolor: rgb(0, 0, 0);\ncontent: none;\ncounter-increment: none;\ncounter-reset: none;\ncursor: auto;\ndirection: ltr;\ndisplay: block;\nempty-cells: -moz-show-background;\nfloat: none;\nfont-family: serif;\nfont-size: 16px;\nfont-size-adjust: none;\nfont-stretch: normal;\nfont-style: normal;\nfont-variant: normal;\nfont-weight: 400;\nheight: 0px;\nime-mode: auto;\nleft: auto;\nletter-spacing: normal;\nline-height: 19.2px;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: 8px;\nmargin-left: 8px;\nmargin-right: 8px;\nmargin-top: 8px;\nmarker-offset: auto;\nmax-height: none;\nmax-width: none;\nmin-height: 0px;\nmin-width: 0px;\nopacity: 1;\noutline-color: rgb(0, 0, 0);\noutline-offset: 0px;\noutline-style: none;\noutline-width: 0px;\noverflow: visible;\noverflow-x: visible;\noverflow-y: visible;\npadding-bottom: 0px;\npadding-left: 0px;\npadding-right: 0px;\npadding-top: 0px;\npage-break-after: auto;\npage-break-before: auto;\npointer-events: auto;\nposition: static;\nquotes: "\u201c" "\u201d" "\u2018" "\u2019";\nresize: none;\nright: auto;\ntable-layout: auto;\ntext-align: start;\ntext-decoration: none;\ntext-indent: 0px;\ntext-overflow: clip;\ntext-shadow: none;\ntext-transform: none;\ntop: auto;\nunicode-bidi: embed;\nvertical-align: baseline;\nvisibility: visible;\nwhite-space: normal;\nwidth: 1157px;\nword-spacing: 0px;\nword-wrap: normal;\nz-index: auto;\n-moz-animation-delay: 0s;\n-moz-animation-direction: normal;\n-moz-animation-duration: 0s;\n-moz-animation-fill-mode: none;\n-moz-animation-iteration-count: 1;\n-moz-animation-name: none;\n-moz-animation-play-state: running;\n-moz-animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-appearance: none;\n-moz-background-inline-policy: continuous;\n-moz-binding: none;\n-moz-border-bottom-colors: none;\n-moz-border-image: none;\n-moz-border-left-colors: none;\n-moz-border-right-colors: none;\n-moz-border-top-colors: none;\n-moz-box-align: stretch;\n-moz-box-direction: normal;\n-moz-box-flex: 0;\n-moz-box-ordinal-group: 1;\n-moz-box-orient: horizontal;\n-moz-box-pack: start;\n-moz-box-sizing: content-box;\n-moz-column-count: auto;\n-moz-column-gap: 16px;\n-moz-column-rule-color: rgb(0, 0, 0);\n-moz-column-rule-style: none;\n-moz-column-rule-width: 0px;\n-moz-column-width: auto;\n-moz-float-edge: content-box;\n-moz-font-feature-settings: normal;\n-moz-font-language-override: normal;\n-moz-force-broken-image-icon: 0;\n-moz-hyphens: manual;\n-moz-image-region: auto;\n-moz-orient: horizontal;\n-moz-outline-radius-bottomleft: 0px;\n-moz-outline-radius-bottomright: 0px;\n-moz-outline-radius-topleft: 0px;\n-moz-outline-radius-topright: 0px;\n-moz-stack-sizing: stretch-to-fit;\n-moz-tab-size: 8;\n-moz-text-blink: none;\n-moz-text-decoration-color: rgb(0, 0, 0);\n-moz-text-decoration-line: none;\n-moz-text-decoration-style: solid;\n-moz-transform: none;\n-moz-transform-origin: 50% 50%;\n-moz-transition-delay: 0s;\n-moz-transition-duration: 0s;\n-moz-transition-property: all;\n-moz-transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-user-focus: none;\n-moz-user-input: auto;\n-moz-user-modify: read-only;\n-moz-user-select: auto;\n-moz-window-shadow: default;\nclip-path: none;\nclip-rule: nonzero;\ncolor-interpolation: srgb;\ncolor-interpolation-filters: linearrgb;\ndominant-baseline: auto;\nfill: rgb(0, 0, 0);\nfill-opacity: 1;\nfill-rule: nonzero;\nfilter: none;\nflood-color: rgb(0, 0, 0);\nflood-opacity: 1;\nimage-rendering: auto;\nlighting-color: rgb(255, 255, 255);\nmarker-end: none;\nmarker-mid: none;\nmarker-start: none;\nmask: none;\nshape-rendering: auto;\nstop-color: rgb(0, 0, 0);\nstop-opacity: 1;\nstroke: none;\nstroke-dasharray: none;\nstroke-dashoffset: 0px;\nstroke-linecap: butt;\nstroke-linejoin: miter;\nstroke-miterlimit: 4;\nstroke-opacity: 1;\nstroke-width: 1px;\ntext-anchor: start;\ntext-rendering: auto;'.indexOf(c)===
-1&&b.push(c);return b.join("\n")+"\n"}};V.sa(V.I);V.n.o("Tilt.Document",V.I);V=V||{};
V.qa={lg:function(a,b){var c;try{return c=Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker),c.init(window,a,b==="folder"?Ci.nsIFilePicker.modeGetFolder:Ci.nsIFilePicker.Og),c.show()==Ci.nsIFilePicker.returnOK?c.file:j}catch(d){return V.J.error(d.message),j}},save:function(a,b){var c,d,g,h;try{Cu.import("resource://gre/modules/FileUtils.jsm"),Cu.import("resource://gre/modules/NetUtil.jsm"),c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile),c.initWithPath(b),d=FileUtils.openSafeFileOutputStream(c),
h=Cc["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Ci.nsIScriptableUnicodeConverter),h.charset="UTF-8",g=h.convertToInputStream(a),NetUtil.asyncCopy(g,d,function(a){return Components.isSuccessCode(a)?!1:!0})}catch(i){return V.J.error(i.message),!1}},ag:function(a,b){var c,d,g,h;try{return Cu.import("resource://gre/modules/FileUtils.jsm"),Cu.import("resource://gre/modules/NetUtil.jsm"),c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile),c.initWithPath(b),d=Cc["@mozilla.org/network/io-service;1"].getService(Ci.nsIIOService),
g=d.newURI(a.toDataURL("image/png",""),"UTF8",j),d.newFileURI(c),h=Cc["@mozilla.org/embedding/browser/nsWebBrowserPersist;1"].createInstance(Ci.nsIWebBrowserPersist),h.persistFlags=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_REPLACE_EXISTING_FILES,h.persistFlags|=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_AUTODETECT_APPLY_CONVERSION,h.saveURI(g,j,j,j,j,c),!0}catch(i){return V.J.error(i.message),!1}},separator:navigator.appVersion.indexOf("Win")!==-1?"\\":"/"};V.sa(V.qa);V.n.o("Tilt.File",V.qa);V=V||{};
V.h={Vf:function(a){return a*0.0174532925},Eg:function(a){return a*57.2957795},map:function(a,b,c,d,g){return d+(g-d)*((a-b)/(c-b))},ke:function(a){return(a&a-1)===0},se:function(a){var b;--a;for(b=1;b<32;b<<=1)a|=a>>b;return a+1},Q:function(a,b,c){if(b>c)var d=b,b=c,c=d;return Math.max(b,Math.min(c,a))},Wg:function(a,b,c){b*=0.5;var d=Math.sin(b),b=Math.cos(b),g=a[0]*d,h=a[1]*d,a=a[2]*d;return"undefined"===typeof c?[g,h,a,b]:(c[0]=g,c[1]=h,c[2]=a,c[3]=b,c)},Ae:function(a,b,c,d){var g;b*=0.5;a*=0.5;
c*=0.5;var h=Math.sin,i=Math.cos;g=h(b);var k=h(a),h=h(c),m=i(b),n=i(a),i=i(c),b=g*n*i-m*k*h,a=m*k*i+g*n*h,c=m*n*h-g*k*i;g=m*n*i+g*k*h;return"undefined"===typeof d?[b,a,c,g]:(d[0]=b,d[1]=a,d[2]=c,d[3]=g,d)},Vg:function(a,b,c,d,g){var h,i=ba();d?Ca(d,c,h=Aa()):h=c;a[3]=1;Da(h,a,i);d?(g[0]=i[0]/i[3],g[1]=i[1]/i[3],g[0]*=b[2]*0.5,g[1]*=-b[3]*0.5,g[0]+=b[2]*0.5,g[1]+=b[3]*0.5,g[2]=0):(g[0]=i[0],g[1]=i[1],g[2]=i[2]);return g},Ie:function(a,b,c,d,g){var h=Aa(),g=g||ba();Ca(d,c,h);var i;i||(i=h);var c=h[0],
d=h[1],k=h[2],m=h[3],n=h[4],q=h[5],l=h[6],x=h[7],y=h[8],u=h[9],B=h[10],t=h[11],s=h[12],w=h[13],v=h[14],r=h[15],A=c*q-d*n,C=c*l-k*n,o=c*x-m*n,D=d*l-k*q,E=d*x-m*q,H=k*x-m*l,J=y*w-u*s,L=y*v-B*s,p=y*r-t*s,I=u*v-B*w,K=u*r-t*w,z=B*r-t*v,F=1/(A*z-C*K+o*I+D*p-E*L+H*J);i[0]=(q*z-l*K+x*I)*F;i[1]=(-d*z+k*K-m*I)*F;i[2]=(w*H-v*E+r*D)*F;i[3]=(-u*H+B*E-t*D)*F;i[4]=(-n*z+l*p-x*L)*F;i[5]=(c*z-k*p+m*L)*F;i[6]=(-s*H+v*o-r*C)*F;i[7]=(y*H-B*o+t*C)*F;i[8]=(n*K-q*p+x*J)*F;i[9]=(-c*K+d*p-m*J)*F;i[10]=(s*E-w*o+r*A)*F;i[11]=
(-y*E+u*o-t*A)*F;i[12]=(-n*I+q*L-l*J)*F;i[13]=(c*I-d*L+k*J)*F;i[14]=(-s*D+w*C-v*A)*F;i[15]=(y*D-u*C+B*A)*F;g[0]=+((a[0]-b[0])/b[2]*2-1);g[1]=-((a[1]-b[1])/b[3]*2-1);g[2]=2*a[2]-1;g[3]=1;Da(h,g);g[3]=1/g[3];g[0]*=g[3];g[1]*=g[3];g[2]*=g[3];return g},kf:function(a,b,c,d,g){this.Ie(a,c,d,g,a);this.Ie(b,c,d,g,b);var g=za(b,a),h;h||(h=g);var c=g[0],d=g[1],g=g[2],i=Math.sqrt(c*c+d*d+g*g);i?i==1?(h[0]=c,h[1]=d,h[2]=g):(i=1/i,h[0]=c*i,h[1]=d*i,h[2]=g*i):(h[0]=0,h[1]=0,h[2]=0);return{position:a,Mg:b,direction:h}},
Ef:function(a,b,c,d,g){var h=Z(),i=Z(),k=Z(),m=Z(),n=Z(),q=d.position,d=d.direction;"undefined"===typeof g&&(g=Z());za(b,a,h);za(c,a,i);ca(h,i,k);if(k[0]===0&&k[1]===0&&k[2]===0)return-1;za(q,a,n);b=-la(k,n);k=+la(k,d);if(Math.abs(k)<1.0E-4)return b===0?2:0;k=b/k;if(k<0)return 0;qa(q,sa(d,k),g);q=la(h,h);d=la(h,i);k=la(i,i);za(g,a,m);a=la(m,h);i=la(m,i);m=d*d-q*k;g=(d*i-k*a)/m;if(g<0||g>1)return 0;i=(d*a-q*i)/m;return i<0||g+i>1?0:1},Ic:function(a,b,c){if(!(c<0)&&!(c>1))if(c<0.166666667)return a+
(b-a)*6*c;else if(c<0.5)return b;else if(c<0.666666667)return a+(b-a)*(2/3-c)*6;return a},ah:function(a,b,c){a*=0.00392156863;b*=0.00392156863;c*=0.00392156863;var d=Math.max(a,b,c),g=Math.min(a,b,c),h,i,k=(d+g)*0.5;d===g?i=g=0:(h=d-g,g=k>0.5?h/(2-d-g):h/(d+g),d===a?i=(b-c)/h+(b<c?6:0):d===b?i=(c-a)/h+2:d===c&&(i=(a-b)/h+4),i/=6);return[i,g,k]},Ig:function(a,b,c){var d,g;b===0?c=b=a=c:(d=c<0.5?c*(1+b):c+b-c*b,g=2*c-d,c=this.Ic(g,d,a+0.333333333),b=this.Ic(g,d,a),a=this.Ic(g,d,a-0.333333333));return[c*
255,b*255,a*255]},$f:function(a,b,c){a*=0.00392156863;b*=0.00392156863;c*=0.00392156863;var d=Math.max(a,b,c),g=Math.min(a,b,c),h,i;h=d-g;d===g?i=0:(d===a?i=(b-c)/h+(b<c?6:0):d===b?i=(c-a)/h+2:d===c&&(i=(a-b)/h+4),i/=6);return[i,d===0?0:h/d,d]},zf:function(a,b,c){var d,g,h,i=Math.floor(a*6),k=a*6-i,a=c*(1-b),m=c*(1-k*b),b=c*(1-(1-k)*b);i%=6;i===0?(d=c,g=b,h=a):i===1?(d=m,g=c,h=a):i===2?(d=a,g=c,h=b):i===3?(d=a,g=m,h=c):i===4?(d=b,g=a,h=c):i===5&&(d=c,g=a,h=m);return[d*255,g*255,h*255]},Pa:function(a){var a=
a.charAt(0)==="#"?a.substring(1):a,b,c,d,g;if("undefined"!==typeof this[a])return this[a];else b=window.parseInt(a,16);return a.length===3?this[a]=[((b&3840)>>8)*0.062745098,((b&240)>>4)*0.062745098,(b&15)*0.062745098,1]:a.length===4?this[a]=[((b&61440)>>12)*0.062745098,((b&3840)>>8)*0.062745098,((b&240)>>4)*0.062745098,(b&15)*0.062745098]:a.length===6?this[a]=[((b&16711680)>>16)*0.00392156863,((b&65280)>>8)*0.00392156863,(b&255)*0.00392156863,1]:a.length===5?this[a]=[((b&983040)>>12)/255,((b&61440)>>
8)/255,((b&3840)>>4)/255,(b&240)/255]:a.length===8?(b=parseInt(a.substring(0,2),16)*0.00392156863,c=parseInt(a.substring(2,4),16)*0.00392156863,d=parseInt(a.substring(4,6),16)*0.00392156863,g=parseInt(a.substring(6,8),16)*0.00392156863,this[a]=[b,c,d,g]):a.match("^rgba")=="rgba"?(b=a.substring(5,a.length-1).split(","),b[0]*=0.00392156863,b[1]*=0.00392156863,b[2]*=0.00392156863,b[3]*=0.00392156863,this[a]=b):a.match("^rgb")=="rgb"?(b=a.substring(4,a.length-1).split(","),b[0]*=0.00392156863,b[1]*=0.00392156863,
b[2]*=0.00392156863,b[3]=1,this[a]=b):this[a]=[0,0,0,1]}};V.sa(V.h);V.n.o("Tilt.Math",V.h);V=V||{};
V.z={get:function(a,b){var c;try{return c=Cc["@mozilla.org/preferences-service;1"].getService(Ci.nsIPrefService).getBranch(this.lc),!c.prefHasUserValue(a)?f:b==="boolean"?c.getBoolPref(a):b==="string"?c.getCharPref(a):b==="integer"?c.getIntPref(a):j}catch(d){return V.J.error(d.message),j}},set:function(a,b,c){var d;try{return d=Cc["@mozilla.org/preferences-service;1"].getService(Ci.nsIPrefService).getBranch(this.lc),b==="boolean"?d.setBoolPref(a,c):b==="string"?d.setCharPref(a,c):b==="integer"?d.setIntPref(a,
c):!1}catch(g){return V.J.error(g.message),!1}},create:function(a,b,c){var d;try{return d=Cc["@mozilla.org/preferences-service;1"].getService(Ci.nsIPrefService).getBranch(this.lc),d.prefHasUserValue(a)?!1:b==="boolean"?d.setBoolPref(a,c):b==="string"?d.setCharPref(a,c):b==="integer"?d.setIntPref(a,c):!1}catch(g){return V.J.error(g.message),!1}},lc:"extensions.tilt."};V.sa(V.z);V.n.o("Tilt.Preferences",V.z);V=V||{};
V.pb={vd:j,next:function(){return this.vd()},cd:function(){var a=0,b=0,c=0,d=1,g,h;if(arguments.length===0)return this.cd(+new Date);else{a=this.Ua(" ");b=this.Ua(" ");c=this.Ua(" ");for(g=0;g<arguments.length;g++)a-=this.Ua(arguments[g]),a<0&&(a+=1),b-=this.Ua(arguments[g]),b<0&&(b+=1),c-=this.Ua(arguments[g]),c<0&&(c+=1);h=function(){var g=2091639*a+d*2.3283064365386963E-10;a=b;b=c;return c=g-(d=g|0)};h.hh=function(){return h()*4294967296};h.Fg=function(){return h()+(h()*2097152|0)*1.1102230246251565E-16};
return this.vd=h}},Ua:function(a){var b,c,d=4022871197,a=a.toString();for(b=0;b<a.length;b++)d+=a.charCodeAt(b),c=0.02519603282416938*d,d=c>>>0,c-=d,c*=d,d=c>>>0,c-=d,d+=c*4294967296;return(d>>>0)*2.3283064365386963E-10}};V.sa(V.pb);V.pb.cd(0);V.n.o("Tilt.Random",V.pb);V=V||{};V.Xd={trim:function(a){return a.replace(/^\s+|\s+$/g,"")},Ng:function(a){return a.replace(/^\s+/,"")},bh:function(a){return a.replace(/\s+$/,"")}};V.n.o("Tilt.String",V.Xd);V=V||{};
V.Vb={Bf:function(a){var b,c,d,g;b=V.I.Ta();c=V.I.Ta();d=(b=V.zc.prototype.be(b))?b.getParameter(b.MAX_TEXTURE_SIZE):0;if(d>0)g=V.I.sf(a),b=V.h.Q(g.width,0,d),g=V.h.Q(g.height,0,d),c.width=b,c.height=g,d=c.getContext("2d"),d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height),d.drawWindow(a,0,0,b,g,"#fff");return c},Be:function(a,b,c,d){var g=c.left,h=c.top,i=c.width,k=c.height;if(d)return c=b.getContext("2d"),c.translate(g,h),c.drawWindow(a,g,h,i,k,"#fff"),c.translate(-g,-h),b;else if(this.oa)return this.oa.width=
i,this.oa.height=k,c=this.oa.getContext("2d"),c.drawWindow(a,g,h,i,k,"#fff"),this.oa;else if("undefined"===typeof this.oa)return this.oa=V.I.Ta(),this.Be(a,b,c);else this.oa=j,delete this.oa;return j}};V.sa(V.Vb);V.n.o("Tilt.WebGL",V.Vb);V=V||{};
V.Yd={Wf:function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.send(j);d.onreadystatechange=function(){d.readyState===4&&"function"===typeof b&&b(d,c)}},$g:function(a,b,c){function d(d,i){g[i]=d;h++;h===a.length&&"function"===typeof b&&b(g,c)}var g=[],h=0,i,k;for(i=0,k=a.length;i<k;i++)this.Wf(a[i],d,i)}};V.sa(V.Yd);V.n.o("Tilt.Xhr",V.Yd);TiltChrome=TiltChrome||{};TiltChrome.Config={};
TiltChrome.Config.c={Fa:{Ab:{yb:{value:50},Cb:{value:0},sb:{value:100},qb:{value:80},Db:{value:100},dc:{outline:[0,0,0,0.25]}},Kf:{yb:{value:50},Cb:{value:0},sb:{value:100},qb:{value:80},Db:{value:100},dc:{outline:[0,0,0,0.25]}},yg:{yb:{value:57.5},Cb:{value:50},sb:{value:100},qb:{value:7.5},Db:{value:100},dc:{outline:[1,1,1,0.7]}}},g:{pg:{stroke:"#fff3"},html:{fill:"#FFF"},"head/body":{fill:"#E667AF"},title:{fill:"#CD0074"},script:{fill:"#A64B00"},style:{fill:"#FF9640"},div:{fill:"#5DC8CD"},span:{fill:"#67E46F"},
table:{fill:"#FF0700"},tr:{fill:"#FF4540"},td:{fill:"#FF7673"},ul:{fill:"#4671D5"},li:{fill:"#6C8CD5"},p:{fill:"#888"},a:{fill:"#123EAB"},img:{fill:"#FFB473"},iframe:{fill:"#85004B"},other:{fill:"#666"}}};
TiltChrome.Config.Visualization={refreshVisualization:j,sourceEditorTheme:j,hideUserInterfaceAtInit:j,disableMinidomAtInit:j,enableJoystick:j,useAccelerometer:j,escapeKeyCloses:j,keyShortcutOpenClose:j,reload:function(){this.refreshVisualization=V.z.get("options.refreshVisualization","integer");this.sourceEditorTheme=V.z.get("options.sourceEditorTheme","integer");this.hideUserInterfaceAtInit=V.z.get("options.hideUserInterfaceAtInit","boolean");this.disableMinidomAtInit=V.z.get("options.disableMinidomAtInit",
"boolean");this.enableJoystick=V.z.get("options.enableJoystick","boolean");this.useAccelerometer=V.z.get("options.useAccelerometer","boolean");this.escapeKeyCloses=V.z.get("options.escapeKeyCloses","boolean");this.keyShortcutOpenClose=V.z.get("options.keyShortcutOpenClose","string")}};
TiltChrome.Config.Visualization.ra={refreshVisualization:function(a){V.z.set("options.refreshVisualization","integer",a)},sourceEditorTheme:function(a){V.z.set("options.sourceEditorTheme","integer",a)},hideUserInterfaceAtInit:function(a){V.z.set("options.hideUserInterfaceAtInit","boolean",a)},disableMinidomAtInit:function(a){V.z.set("options.disableMinidomAtInit","boolean",a)},enableJoystick:function(a){V.z.set("options.enableJoystick","boolean",a)},useAccelerometer:function(a){V.z.set("options.useAccelerometer",
"boolean",a)},escapeKeyCloses:function(a){V.z.set("options.escapeKeyCloses","boolean",a)},keyShortcutOpenClose:function(a){V.z.set("options.keyShortcutOpenClose","string",a)}};TiltChrome.Config.Visualization.reload();TiltChrome=TiltChrome||{};TiltChrome.Qd={};
TiltChrome.Qd.cf=function(){function a(a){a.preventDefault();a.stopPropagation();k.xg()}function b(a){a.preventDefault();a.stopPropagation();k.Tc(a.detail);k.Z||m.Tc(a.detail)}function c(a){a.preventDefault();a.stopPropagation();k.Bb();m.Bb()}function d(a){a.preventDefault();a.stopPropagation();k.Bb();m.Bb()}function g(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;k.Sc(b,a);m.Sc(b,a)}function h(a){a.preventDefault();a.stopPropagation();
var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;k.Uc(c,a,b);m.Uc(c,a,b)}function i(a){a.preventDefault();a.stopPropagation();n=a.clientX-a.target.offsetLeft;q=a.clientY-a.target.offsetTop;k.Rc(n,q,a.which);k.Z?m.stop():m.Rc(n,q,a.which)}var k=V.c,m=j,n=0,q=0;this.init=function(k){if(k){m=new V.Od(k.width,k.height,0,[-window.content.pageXOffset,-window.content.pageYOffset],[0,0]);this.stop=m.stop.bind(m);this.translate=m.translate.bind(m);this.rotate=m.rotate.bind(m);this.zoom=
m.zoom.bind(m);this.reset=m.reset.bind(m);this.ua=m.ua.bind(m);k.addEventListener("mousedown",i,!1);k.addEventListener("mouseup",h,!1);k.addEventListener("click",l,!1);k.addEventListener("dblclick",x,!1);k.addEventListener("mousemove",g,!1);k.addEventListener("mouseover",d,!1);k.addEventListener("mouseout",c,!1);k.addEventListener("MozMousePixelScroll",b,!1);window.addEventListener("keydown",y,!1);window.addEventListener("keyup",u,!1);window.addEventListener("focus",a,!0);var k=document.getElementById("urlbar"),
n=document.getElementById("searchbar");"undefined"!==typeof k&&k!==j&&(k.addEventListener("focus",B,!1),k.addEventListener("blur",t,!1));"undefined"!==typeof n&&n!==j&&(n.addEventListener("focus",B,!1),n.addEventListener("blur",t,!1))}};this.update=function(a){var b=this.s,a=m.loop(a);b.eg(a.rotation);b.gg(a.ha)};var l=function(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(n-c)<2&&Math.abs(q-a)<2&&(k.click(c,a,b),k.Z||
this.s.Nf(c,a));window.content.focus()}.bind(this),x=function(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(n-b)<2&&Math.abs(q-a)<2&&(k.nf(b,a),k.Z||this.s.Mf(b,a))}.bind(this),y=function(a){var b=a.keyCode||a.which;if(b>=37&&b<=40)a.preventDefault(),a.stopPropagation();else try{if("open"===TiltChrome.BrowserOverlay.F.q.state||"open"===TiltChrome.BrowserOverlay.H.q.state)return}catch(c){}!this.mc&&window.content.document.activeElement instanceof
HTMLBodyElement&&(k.Nc(b),m.Nc(b))}.bind(this),u=function(a){var b=a.keyCode||a.which;if(b>=37&&b<=40)a.preventDefault(),a.stopPropagation();else if(b===27)try{if("open"===TiltChrome.BrowserOverlay.F.q.state)TiltChrome.BrowserOverlay.F.q.hidePopup();else if("open"===TiltChrome.BrowserOverlay.H.q.state)TiltChrome.BrowserOverlay.H.q.hidePopup();else if(TiltChrome.Config.Visualization.escapeKeyCloses)TiltChrome.BrowserOverlay.d(!0,!0),TiltChrome.BrowserOverlay.href=j}catch(c){}this.mc||(k.Oc(b),m.Oc(b))}.bind(this),
B=function(){this.mc=!0}.bind(this),t=function(){this.mc=!1}.bind(this);this.d=function(s){k=this.s=j;if(s){i!==j&&(s.removeEventListener("mousedown",i,!1),i=j);h!==j&&(s.removeEventListener("mouseup",h,!1),h=j);l!==j&&(s.removeEventListener("click",l,!1),l=j);x!==j&&(s.removeEventListener("dblclick",x,!1),x=j);g!==j&&(s.removeEventListener("mousemove",g,!1),g=j);d!==j&&(s.removeEventListener("mouseover",d,!1),d=j);c!==j&&(s.removeEventListener("mouseout",c,!1),c=j);b!==j&&(s.removeEventListener("MozMousePixelScroll",
b,!1),b=j);y!==j&&(window.removeEventListener("keydown",y,!1),y=j);u!==j&&(window.removeEventListener("keyup",u,!1),u=j);a!==j&&(window.removeEventListener("focus",a,!0),a=j);var s=document.getElementById("urlbar"),w=document.getElementById("searchbar");B!==j&&(s&&s.removeEventListener("focus",B,!1),w&&w.removeEventListener("focus",B,!1),B=j);t!==j&&(s&&s.removeEventListener("focus",t,!1),w&&w.removeEventListener("focus",t,!1),t=j);m!==j&&(m.d(),m=j);q=n=j;V.A(this)}};V.n.o("TiltChrome.Controller.MouseAndKeyboard",
this)};TiltChrome=TiltChrome||{};
TiltChrome.Options={windowLoad:function(a,b){var c=b.document,d=c.getElementById("tilt-options-refreshVisualizationCheckbox"),g=c.getElementById("tilt-options-refreshVisualizationRadiogroup"),h=c.getElementById("tilt-options-sourceEditorTheme"),i=c.getElementById("tilt-options-hideUserInterfaceAtInit"),k=c.getElementById("tilt-options-disableMinidomAtInit"),m=c.getElementById("tilt-options-enableJoystick"),n=c.getElementById("tilt-options-useAccelerometer"),q=c.getElementById("tilt-options-escapeKeyCloses"),c=
c.getElementById("tilt-options-keyShortcutOpenClose");TiltChrome.Config.Visualization.refreshVisualization<=-1?(d.checked=!1,g.selectedIndex=-1):(d.checked=!0,g.selectedIndex=TiltChrome.Config.Visualization.refreshVisualization);q.checked=TiltChrome.Config.Visualization.escapeKeyCloses;h.selectedIndex=TiltChrome.Config.Visualization.sourceEditorTheme;i.checked=TiltChrome.Config.Visualization.hideUserInterfaceAtInit;k.checked=TiltChrome.Config.Visualization.disableMinidomAtInit;m.checked=TiltChrome.Config.Visualization.enableJoystick;
n.checked=TiltChrome.Config.Visualization.useAccelerometer;c.value=TiltChrome.Config.Visualization.keyShortcutOpenClose;this.tc(c)},windowUnload:function(a,b){var c=b.document,d=c.getElementById("tilt-options-sourceEditorTheme"),g=c.getElementById("tilt-options-hideUserInterfaceAtInit"),h=c.getElementById("tilt-options-disableMinidomAtInit"),i=c.getElementById("tilt-options-enableJoystick"),k=c.getElementById("tilt-options-useAccelerometer"),m=c.getElementById("tilt-options-escapeKeyCloses"),n=c.getElementById("tilt-options-keyShortcutOpenClose");
TiltChrome.Config.Visualization.ra.refreshVisualization(c.getElementById("tilt-options-refreshVisualizationRadiogroup").selectedIndex);TiltChrome.Config.Visualization.ra.sourceEditorTheme(d.selectedIndex);TiltChrome.Config.Visualization.ra.escapeKeyCloses(m.checked);TiltChrome.Config.Visualization.ra.hideUserInterfaceAtInit(g.checked);TiltChrome.Config.Visualization.ra.disableMinidomAtInit(h.checked);TiltChrome.Config.Visualization.ra.enableJoystick(i.checked);TiltChrome.Config.Visualization.ra.useAccelerometer(k.checked);
TiltChrome.Config.Visualization.ra.keyShortcutOpenClose(n.value.toUpperCase().replace(/\+/g," ").replace(/shift/i,"shift").replace(/ctrl/i,"ctrl").replace(/alt/i,"alt").replace(/cmd/i,"accel").replace(/space/i,"space").replace(/pgup/i,"pgup").replace(/pgdown/i,"pgdown").replace(/end/i,"end").replace(/home/i,"home").replace(/left/i,"left").replace(/up/i,"up").replace(/right/i,"right").replace(/down/i,"down"))},windowKeyUp:function(a,b){(a.keyCode||a.which)===27&&b.close()},refreshVisualizationCheckboxPressed:function(a){var b=
a.view.document.getElementById("tilt-options-refreshVisualizationRadiogroup");a.target.checked?(b.selectedIndex=1,b.disabled=!1):(b.selectedIndex=-1,b.disabled=!0)},refreshFastestRadioPressed:M(),refreshRecommendedRadioPressed:M(),refreshSlowestRadioPressed:M(),hideUICheckboxPressed:M(),disableMinidomCheckboxPressed:M(),enableJoystickCheckboxPressed:M(),useAccelerometerCheckboxPressed:M(),escapeKeyCheckboxPressed:M(),openCloseTextboxFocus:function(a){a.target.Ec=!0},openCloseTextboxKeyDown:function(a){var b=
a.keyCode||a.which;if(b!==27){if(a.target.Ec)a.target.value="",a.target.Ec=j,delete a.target.Ec;if(b>=32&&b<=40||b>=65&&b<=90)a.preventDefault(),a.stopPropagation();if(a.target.value.substr(-1)!=="+")a.target.value="";if(b===8||b===45||b===46)a.target.value="";b>=65&&b<=90&&(a.target.value+=String.fromCharCode(b));a.target.value.match(/shift/i)===j&&b===16&&(a.target.value+="shift+");a.target.value.match(/ctrl/i)===j&&b===17&&(a.target.value+="ctrl+");a.target.value.match(/alt/i)===j&&b===18&&(a.target.value+=
"alt+");a.target.value.match(/cmd/i)===j&&b===224&&(a.target.value+="cmd+");a.target.value.match(/space/i)===j&&b===32&&(a.target.value+="space");a.target.value.match(/pgup/i)===j&&b===33&&(a.target.value+="pgup+");a.target.value.match(/pgdown/i)===j&&b===34&&(a.target.value+="pgdown+");a.target.value.match(/end/i)===j&&b===35&&(a.target.value+="end+");a.target.value.match(/home/i)===j&&b===36&&(a.target.value+="home+");a.target.value.match(/left/i)===j&&b===37&&(a.target.value+="left+");a.target.value.match(/up/i)===
j&&b===38&&(a.target.value+="up+");a.target.value.match(/right/i)===j&&b===39&&(a.target.value+="right+");a.target.value.match(/down/i)===j&&b===40&&(a.target.value+="down+");this.tc(a.target)}},openCloseResetButtonPressed:function(a){a=a.view.document.getElementById("tilt-options-keyShortcutOpenClose");a.value="accel+shift+M";this.tc(a)},tc:function(a){a.value=a.value.toUpperCase().replace(/\ /g,"+").replace(/shift/i,"Shift").replace(/ctrl/i,"Ctrl").replace(/alt/i,"Alt").replace(/cmd/i,"Cmd").replace(/space/i,
"Space").replace(/pgup/i,"PgUp").replace(/pgdown/i,"PgDown").replace(/end/i,"End").replace(/home/i,"Home").replace(/left/i,"Left").replace(/up/i,"Up").replace(/right/i,"Right").replace(/down/i,"Down").replace(/accel/i,function(){var a=navigator.appVersion;return a.indexOf("Win")!==-1?"Ctrl":a.indexOf("Mac")!==-1?"Cmd":a.indexOf("X11")!==-1?"Ctrl":a.indexOf("Linux")!==-1?"Ctrl":"Accel"}())}};TiltChrome=TiltChrome||{};TiltChrome.c={};
TiltChrome.c.bf=function(){var a=V.c,b=TiltChrome.Config.c,c=j,d=j,g=j,h=j,i=j,k=j,m=j,n=j,q=j,l=j,x=j,y=j,u=j,B=j,t=j,s=j,w=j,v=j,r=j,A=j,C=j,o=j,D=j,E=j,H=j,J=j,L=j,p=j,I=j,K=j,z=j,F=j,W=j,N=j,P=j,Q=j,Y=j,X=j,da=j,fa=j,ka=j,$=j,O=j,G=j,ha=j,ia=j,ja=j,na=j,va=j,wa=j;this.init=function(T){if(T){k=new V.Ia("chrome://tilt/skin/tilt-ui.png",{qe:"nearest",ne:"nearest",onload:function(){this.s.r()}.bind(this)});c=new V.pa;d=new V.pa;m=new V.B(k,[0,768,256,256],{width:T.width,height:T.height,ta:!0,disabled:!0});
J=new V.f(new V.B(k,[935,120,42,38]),{x:T.width-50,y:-5,padding:[0,0,0,5],onclick:function(){TiltChrome.BrowserOverlay.d(!0,!0);TiltChrome.BrowserOverlay.href=j}});L=new V.f(new V.B(k,[935,80,46,38]),{x:T.width-150,y:-5,padding:[0,0,0,5],onclick:function(){var b=T.width*0.5+197,c=T.height*0.5-218;va.N(T.width*0.5-305,T.height*0.5-305);wa.N(b,c);a.Pf(g)}.bind(this)});p=new V.f(new V.B(k,[935,40,61,38]),{x:T.width-215,y:-5,padding:[0,0,0,5],onclick:function(){var a=V.ia.get("folderPicker.string"),b=
V.ia.get("webpageFilename.string");if(a=V.qa.lg(a,"folder"))a.reveal(),this.s.Of(a.path,b)}.bind(this)});I=new V.f(new V.B(k,[935,0,66,38]),{x:T.width-285,y:-5,padding:[0,0,0,5],onclick:function(){window.open("chrome://tilt/content/TiltChromeOptions.xul","Options","chrome, modal, centerscreen, width=410, height=350");TiltChrome.Config.Visualization.reload();TiltChrome.EntryPoint.refreshKeyset()}.bind(this)});z=new V.f(new V.B(k,[935,200,48,38]),{x:T.width-337,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){this.s.Ee()}.bind(this)});
F=new V.f(new V.B(k,[935,160,36,38]),{x:T.width-377,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){this.s.bg()}.bind(this)});K=new V.f(new V.B(k,[935,240,84,38]),{x:T.width-465,y:-5,padding:[0,0,0,5],j:!0,onclick:function(){this.s.hc()}.bind(this)});W=new V.f(new V.B(k,[0,147,42,42]),{x:0,y:-5,padding:[6,6,6,6],onclick:function(){window.clearInterval(this.P);this.md=0;this.P=window.setInterval(function(){this.md++;this.ja.translate(i.view.j?-5:5,0);this.md>=20&&window.clearInterval(this.P)}.bind(this),
1E3/60);d.j^=1;i.view.j^=1;if(!g.j)g.j=!0;if(!h.j)h.j=!0}.bind(this)});N=new V.B(k,[0,0,145,145],{x:0,y:0,disabled:!0});P=new V.f(j,{x:50,y:4,width:45,height:30,onmousedown:function(){window.clearInterval(this.P);this.P=window.setInterval(function(){this.ja.translate(0,-5);a.T||window.clearInterval(this.P)}.bind(this),1E3/60)}.bind(this)});Q=new V.f(j,{x:50,y:110,width:45,height:30,onmousedown:function(){window.clearInterval(this.P);this.P=window.setInterval(function(){this.ja.translate(0,5);a.T||
window.clearInterval(this.P)}.bind(this),1E3/60)}.bind(this)});Y=new V.f(j,{x:4,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.P);this.P=window.setInterval(function(){this.ja.translate(-5,0);a.T||window.clearInterval(this.P)}.bind(this),1E3/60)}.bind(this)});X=new V.f(j,{x:110,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.P);this.P=window.setInterval(function(){this.ja.translate(5,0);a.T||window.clearInterval(this.P)}.bind(this),1E3/60)}.bind(this)});
da=new V.f(new V.B(k,[0,190,42,42]),{x:50,y:135,padding:[6,6,6,6],onclick:function(){this.ja.reset(0.95)}.bind(this)});fa=new V.f(new V.B(k,[0,234,42,42]),{x:90,y:da.w(),padding:[6,6,6,6],onclick:function(){this.ja.zoom(200)}.bind(this)});ka=new V.f(new V.B(k,[0,278,42,42]),{x:10,y:da.w(),padding:[6,6,6,6],onclick:function(){this.ja.zoom(-200)}.bind(this)});n=new V.B(k,[1,324,89,354],{x:0,y:293,disabled:!0});i=new V.Wd({x:85,y:300,width:130,height:T.height-310,background:"#0001",De:[0,Math.MAX_VALUE],
top:new V.B(k,[45,222,33,30],{padding:[2,2,2,4]}),bottom:new V.B(k,[45,255,33,30],{padding:[2,2,2,4]}),reset:new V.B(k,[45,289,33,30],{padding:[2,4,2,2]})});q=new V.f(j,{x:5,y:301,width:14,height:14,fill:b.g.html.fill,onclick:function(){R(b.g.html,q)}});l=new V.f(j,{x:5,y:q.w()+20,width:14,height:14,fill:b.g["head/body"].fill,onclick:function(){R(b.g["head/body"],l)}});x=new V.f(j,{x:5,y:l.w()+20,width:14,height:14,fill:b.g.title.fill,onclick:function(){R(b.g.title,x)}});y=new V.f(j,{x:5,y:x.w()+
20,width:14,height:14,fill:b.g.style.fill,onclick:function(){R(b.g.style,y)}});u=new V.f(j,{x:5,y:y.w()+20,width:14,height:14,fill:b.g.script.fill,onclick:function(){R(b.g.script,u)}});B=new V.f(j,{x:5,y:u.w()+20,width:14,height:14,fill:b.g.div.fill,onclick:function(){R(b.g.div,B)}});t=new V.f(j,{x:5,y:B.w()+20,width:14,height:14,fill:b.g.span.fill,onclick:function(){R(b.g.span,t)}});s=new V.f(j,{x:5,y:t.w()+20,width:14,height:14,fill:b.g.table.fill,onclick:function(){R(b.g.table,s)}});w=new V.f(j,
{x:5,y:s.w()+20,width:14,height:14,fill:b.g.tr.fill,onclick:function(){R(b.g.tr,w)}});v=new V.f(j,{x:5,y:w.w()+20,width:14,height:14,fill:b.g.td.fill,onclick:function(){R(b.g.td,v)}});r=new V.f(j,{x:5,y:v.w()+20,width:14,height:14,fill:b.g.ul.fill,onclick:function(){R(b.g.ul,r)}});A=new V.f(j,{x:5,y:r.w()+20,width:14,height:14,fill:b.g.li.fill,onclick:function(){R(b.g.li,A)}});C=new V.f(j,{x:5,y:A.w()+20,width:14,height:14,fill:b.g.p.fill,onclick:function(){R(b.g.p,C)}});o=new V.f(j,{x:5,y:C.w()+
20,width:14,height:14,fill:b.g.a.fill,onclick:function(){R(b.g.a,o)}});D=new V.f(j,{x:5,y:o.w()+20,width:14,height:14,fill:b.g.img.fill,onclick:function(){R(b.g.img,D)}});E=new V.f(j,{x:5,y:D.w()+20,width:14,height:14,fill:b.g.iframe.fill,onclick:function(){R(b.g.iframe,E)}});H=new V.f(j,{x:5,y:E.w()+20,width:14,height:14,fill:b.g.other.fill,onclick:function(){R(b.g.other,H)}});var R=function(a,b){this.Ne=a;this.Me=b;var c=V.h.Pa(a.fill),c=V.h.$f(c[0]*255,c[1]*255,c[2]*255);TiltChrome.BrowserOverlay.H.refresh(c[0]*
360,c[1]*100,c[2]*100);TiltChrome.BrowserOverlay.H.q.openPopup(j,j,200+b.Y(),80+b.w())}.bind(this),Ha=new V.B(k,[438,67,66,66]),Fa=new V.B(k,[438,0,66,66]);$=new V.f(Fa,{x:39,y:170,padding:[12,10,12,12],onclick:function(){if($.type!==1){$.type=1;$.Ge(Ha);var a=b.Fa.yg}else $.type=0,$.Ge(Fa),a=b.Fa.Kf;G.S(a.yb.value);ha.S(a.Cb.value);ia.S(a.sb.value);ja.S(a.qb.value);na.S(a.Db.value);ma();this.s.Fe(a.dc.outline)}.bind(this)});O=new V.f(new V.B(k,[505,0,66,66]),{x:39,y:230,padding:[12,10,14,16],onclick:function(){h.j^=
1;this.s.r()}.bind(this)});var ga=new V.B(k,[574,131,29,29],{padding:[8,8,8,8]});G=new V.Ha(ga,{x:64,y:12,size:120,value:b.Fa.Ab.yb.value,onmousedown:function(){ma()}});ha=new V.Ha(ga,{x:G.Y(),y:G.w()+19,size:120,value:b.Fa.Ab.Cb.value,onmousedown:function(){ma()}});ia=new V.Ha(ga,{x:G.Y(),y:ha.w()+18,size:120,value:b.Fa.Ab.sb.value,onmousedown:function(){ma()}});ja=new V.Ha(ga,{x:G.Y(),y:ia.w()+18,size:120,value:b.Fa.Ab.qb.value,onmousedown:function(){ma()}});na=new V.Ha(ga,{x:G.Y(),y:ja.w()+18,
size:120,value:b.Fa.Ab.Db.value,onmousedown:function(){ma()}});var ma=function(){window.clearInterval(this.Dd);this.Dd=window.setInterval(function(){var b=V.h.zf(G.U*0.01,ha.U*0.01,ia.U*0.01),c=na.U*0.01;b[0]/=255;b[1]/=255;b[2]/=255;b[3]=ja.U*0.01;this.s.cg(b);this.s.dg(c);a.T||window.clearInterval(this.Dd)}.bind(this),1E3/60)}.bind(this),ga=new V.B(k,[572,1,231,126],{disabled:!0});h=new V.pa({x:77,y:239,j:!0,elements:[ga,G,ha,ia,ja,na]});va=new V.B(k,[210,180,610,510],{disabled:!0});wa=new V.f(j,
{width:30,height:30,onclick:function(){a.mf(g)}.bind(this)});g=new V.pa({j:!0,background:"#0107",elements:[va,wa]});c.push(m,J,W);d.push(L,p,I,z,F,K,da,fa,ka,N,P,Q,Y,X,$,O,n,q,l,x,y,u,B,t,s,w,v,r,A,C,o,D,E,H);if(TiltChrome.Config.Visualization.hideUserInterfaceAtInit)W.onclick();if(TiltChrome.Config.Visualization.disableMinidomAtInit)i.view.j=!0}};this.G=function(){a.G()};this.ve=function(){z.j=!1;F.j=!1;K.j=!1};this.ue=function(){z.j=!0;F.j=!0;K.j=!0};this.Sg=M();this.we=function(){var a=TiltChrome.BrowserOverlay.H.Ra.contentDocument.colorPicked;
this.Ne.fill=a;this.Me.ic(a);this.Pc();this.s.xe()};this.pe=function(a,c,d,g){if(!TiltChrome.Config.Visualization.disableMinidomAtInit){if(i.yd)i.yd=!1,i.view.clear(),this.hd=0;if("undefined"===typeof this.hd)this.hd=0;if(!("undefined"===typeof a.localName||a.localName===j)){var d=this.hd++,h=3+c*6,c=3+d*10,k,m,N,o;N=V.h.Q(a.localName.length,4,10);var d=V.h.Q(a.id.length,4,10),n=V.h.Q(a.className.length,4,10),p=h+N*10+3,q=p+d*2+3,h=new V.f(j,{x:h,y:c,width:N*10,height:7,padding:[-1,-1,-1,-1],stroke:b.g.pg.stroke});
N=h.Y()+h.Oa();o=h.w()+h.Gc()*2;a.id&&(k=new V.f(j,{x:p,y:c,width:d*2,height:7,padding:[-1,-1,-1,-1],stroke:h.xc}),N=Math.max(N,k.Y()+k.Oa()));a.className&&(m=new V.f(j,{x:q,y:c,width:n*2,height:7,padding:[-1,-1,-1,-1],stroke:h.xc}),N=Math.max(N,m.Y()+m.Oa()));N>i.view.Oa()&&i.view.ed(N);i.bottom=o;if(h)i.view.push(h),h.localName=a.localName,h.onclick=function(){a.localName==="img"||a.localName==="input"||a.localName==="button"||a.localName==="meta"||a.localName==="link"||a.localName==="style"||a.localName===
"script"||a.localName==="noscript"?this.s.hc():this.s.Ee();this.s.Xa(g)}.bind(this);if(k)i.view.push(k),k.ic(h.Nb),k.localName=a.localName,k.onclick=function(){this.s.hc();this.s.Xa(g)}.bind(this);if(m)i.view.push(m),m.ic(h.Nb),m.localName=a.localName,m.onclick=function(){this.s.hc();this.s.Xa(g)}.bind(this)}}};this.Pc=function(){if(!TiltChrome.Config.Visualization.disableMinidomAtInit)i.view.forEach(function(a){a.ic((b.g[a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body"]||b.g.other).fill)}),
i.yd=!0};this.ua=function(a,b){m.$(a,b);i.view.dd(b-310);J.fa(a-50);L.fa(a-150);p.fa(a-215);I.fa(a-285);z.fa(a-337);F.fa(a-377);K.fa(a-465)};this.d=function(r){b=a=this.ja=this.s=j;r&&(c!==j&&(c.d(),c=j),d!==j&&(d.d(),d=j),g!==j&&(g.d(),g=j),h!==j&&(h.d(),h=j),i!==j&&(i.d(),i=j),k!==j&&(k.d(),k=j),m!==j&&(m.d(),m=j),wa=va=na=ja=ia=ha=G=O=$=ka=fa=da=X=Y=Q=P=N=W=F=z=K=I=p=L=J=H=E=D=o=C=v=w=s=t=B=u=y=x=l=q=n=j,V.A(this))};V.n.o("TiltChrome.UI",this)};TiltChrome=TiltChrome||{};
TiltChrome.Visualization=function(a,b,c){var d=new V.zc(a,{Wa:function(){TiltChrome.BrowserOverlay.d(!0,!0);TiltChrome.BrowserOverlay.href=j;window.content.location.href="http://get.webgl.org/"},onsuccess:function(){window.setTimeout(function(){if(d&&d.$b<1)TiltChrome.BrowserOverlay.d(!0,!0),TiltChrome.BrowserOverlay.href=j,window.content.location.href="http://get.webgl.org/troubleshooting/",V.J.alert("Firefox",V.ia.get("tilt.error"))},1E3)}}),g=j,h=j,i=15,k=j,m=j,n=j,q={index:-1,fill:"#fff",stroke:"000",
Za:1,tg:Z(),ug:Z(),vg:Z(),wg:Z()},l={Va:Z(),ha:Z(),rotation:ba(),ma:Z()},x=!0,y=!0,u=!0,B=function(){d&&d.u&&(n=new V.Ub(TiltChrome.ba.Visualization.Gb,TiltChrome.ba.Visualization.wb),s(),w(),v(),C(),ya([0,0,0],l.Va),ya([0,0,0],l.ha),pa([0,0,0,1],l.rotation),ya([0,0,0],l.ma),window.setTimeout(function(){try{L(),p()}catch(a){}}.bind(this),100),window.content.focus())}.bind(this),t=function(){if(d&&d.u){d.loop(t,!0);y&&(y=!1,r());u&&(u=!1,A());if(x){x=!1;d.clear(0,0,0,1);d.translate(d.width*0.5+100,
d.height*0.5-50,-i*30);TiltChrome.Config.Visualization.useAccelerometer&&d.transform(Ga(V.h.Ae(0,V.h.map(l.ma[0],-1,1,1.57079633,-1.57079633),V.h.map(l.ma[2],-1,1,-1.57079633,1.57079633))));d.translate(l.ha[0],0,l.ha[2]);d.transform(Ga(l.rotation));d.translate(0,l.ha[1],0);d.translate(l.Va[0],l.Va[1],0);d.$d("alpha");d.Za(2);k.G();m.G();if(q.index!==-1){var a=k.K;d.Yc();d.ta(!1);d.fill(q.fill);d.stroke(q.stroke);d.Za(q.Za);d.Uf(Da(a,q.Kd,q.tg),Da(a,q.Ld,q.ug),Da(a,q.Md,q.vg),Da(a,q.Nd,q.wg))}c&&"function"===
typeof c.G&&c.G(d.vb)}b&&"function"===typeof b.update&&b.update(d.vb);(d.$b+1)%1E3===0&&TiltChrome.BrowserOverlay.fc()}}.bind(this),s=function(){V.z.create("options.refreshVisualization","integer",1);V.z.create("options.sourceEditorTheme","integer",3);V.z.create("options.hideUserInterfaceAtInit","boolean",!1);V.z.create("options.disableMinidomAtInit","boolean",!1);V.z.create("options.enableJoystick","boolean",!1);V.z.create("options.useAccelerometer","boolean",!1);V.z.create("options.escapeKeyCloses",
"boolean",!0);V.z.create("options.keyShortcutOpenClose","string","accel+shift+M")}.bind(this),w=function(){if("undefined"!==typeof b)b.s=this,"function"===typeof b.init&&b.init(a)}.bind(this),v=function(){if("undefined"!==typeof c)c.s=this,c.ja=b,V.c.r=this.r,"function"===typeof c.init&&c.init(a)}.bind(this),r=function(){var a=this.Xe;if("undefined"===typeof a||a===j){if(g=V.Vb.Bf(window.content),h!==j&&h.d(),h=new V.Ia(g,{Qf:!0}),k!==j)k.ab=h}else if("object"===typeof a){var b=V.Vb.Be(window.content,
g,a);b&&h.sg(b,a.left,a.top)}}.bind(this),A=function(){if(d&&d.u){V.pb.cd(Math.PI);var a=V.pb.next,b=[],g=[],o=[],p=[],q=[],t=[],s=0,v=0;if(k!==j)k.ab=j,k.d();m!==j&&m.d();V.I.He(function(k,m,n,l,r,u,w,x){c&&"function"===typeof c.pe&&c.pe(k,m,0,l);var n=d.u.getParameter(d.u.MAX_TEXTURE_SIZE),y=k.localName,l={innerHTML:k.innerHTML,attributes:k.attributes,localName:y,className:k.className,id:k.id,Eb:l,style:"",index:-1};try{l.style=window.getComputedStyle(k)}catch(A){}if(y==="head"||y==="title"||y===
"meta"||y==="link"||y==="style"||y==="script"||y==="noscript"||y==="option"||y==="ins"||y==="del")t.push(l);else{var z=V.I.Hc(k),y=z.width,k=z.height;y>2&&k>2?(l.index=q.length,q.push(l),l=b.length/3,m=m*i+a()*0.1,r=z.x+r+a()*0.1,u=z.y+u+a()*0.1,w=Math.min(w,y),x=Math.min(x,k),r>n||u>n||(r+w>n&&(w=Math.max(n-r,0)),u+x>n&&(x=Math.max(n-u,0)),s=Math.max(w,s),v=Math.max(x,v),b.unshift(r,u,m,r+w,u,m,r+w,u+x,m,r,u+x,m,r,u+x,m-i,r+w,u+x,m-i,r+w,u+x,m,r,u+x,m,r,u,m,r+w,u,m,r+w,u,m-i,r,u,m-i),g.unshift(r/
h.width,u/h.height,(r+w)/h.width,u/h.height,(r+w)/h.width,(u+x)/h.height,r/h.width,(u+x)/h.height,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1),o.unshift(l+0,l+1,l+2,l+0,l+2,l+3,l+4,l+5,l+6,l+4,l+6,l+7,l+8,l+9,l+10,l+8,l+10,l+11,l+10,l+9,l+6,l+10,l+6,l+5,l+8,l+11,l+4,l+8,l+4,l+7),p.unshift(l+0,l+1,l+1,l+2,l+2,l+3,l+3,l+0,l+4,l+5,l+5,l+6,l+6,l+7,l+7,l+4,l+8,l+9,l+9,l+10,l+10,l+11,l+11,l+8,l+10,l+9,l+9,l+6,l+6,l+5,l+5,l+10))):t.push(l)}}.bind(this),function(){c&&"undefined"!==c.Pc&&c.Pc()}.bind(this),
!0);k=new V.Tb({O:new V.W(b,3),$a:new V.W(g,2),ca:new V.ob(o),na:[1,1,1,0.85],alpha:1,ab:h,ld:q,yf:t,G:function(){var a=V.X,b=this.O,c=this.$a,d=this.color,g=this.ca,h=this.na,k=this.alpha,i=this.ab,m=this.Xb,l=n;l.kd();l.Ka("vertexPosition",b);l.Ka("vertexTexCoord",c);l.Ka("vertexColor",d);l.Ja("mvMatrix",a.K);l.Ja("projMatrix",a.ea);l.Bc("tint",h);l.ff("alpha",k);l.bindTexture("sampler",i);a.ee(m,g);this.K=Aa(a.K);this.ea=Aa(a.ea)}});m=new V.Tb({O:k.O,ca:new V.ob(p),color:[0,0,0,0.25],Xb:d.LINES});
s=Math.min(s,window.content.innerWidth);v=Math.min(v,window.content.innerHeight);l.Va[0]=-s*0.5;l.Va[1]=-v*0.5;this.xe()}}.bind(this),C=function(){var a=gBrowser.tabContainer,b=gBrowser.contentWindow,c=TiltChrome.BrowserOverlay.F.q,d=TiltChrome.BrowserOverlay.H.q;window.addEventListener("MozAfterPaint",o,!1);window.addEventListener("devicemotion",D,!1);a.addEventListener("TabClose",E,!1);a.addEventListener("TabAttrModified",E,!1);b.addEventListener("blur",H,!1);b.addEventListener("focus",J,!1);b.addEventListener("resize",
L,!1);gBrowser.addEventListener("mouseover",p,!1);gBrowser.addEventListener("load",I,!0);c.addEventListener("popupshown",K,!1);c.addEventListener("popuphidden",z,!1);d.addEventListener("popupshown",F,!1);d.addEventListener("popuphidden",W,!1)}.bind(this),o=function(b){if(!this.ud&&!this.sd&&!this.rd){var c=b.boundingClientRect,b=c.left,g=c.top,h=c.width,k=c.height,i=a.offsetLeft,m=a.offsetTop;if(!(TiltChrome.Config.Visualization.refreshVisualization<=-1))if(TiltChrome.Config.Visualization.refreshVisualization>=
0&&g>m&&b>i&&h>4&&k>4)this.bd(c);else if(TiltChrome.Config.Visualization.refreshVisualization>=1&&d.$b>100)c=window.content.innerWidth,i=window.content.innerHeight,(TiltChrome.Config.Visualization.refreshVisualization>=2||b<=0&&g<=0&&(b>=-c||g>=-i)&&(h>=c||k>=i))&&window.setTimeout(function(){try{!u&&!y&&(this.bd(j),this.Ce())}catch(a){}}.bind(this),10)}}.bind(this),D=function(a){if(TiltChrome.Config.Visualization.useAccelerometer){var a=a.accelerationIncludingGravity,b=a.x-Math.PI*0.01,c=a.lh;l.ma[0]+=
(a.y-Math.PI*0.01-l.ma[0])*0.5;l.ma[1]+=(c-l.ma[1])*0.5;l.ma[2]+=(b-l.ma[2])*0.5;this.r()}}.bind(this),E=function(){if(TiltChrome.BrowserOverlay.href!==window.content.location.href)TiltChrome.BrowserOverlay.href=j,TiltChrome.BrowserOverlay.d(!0,!0)}.bind(this),H=function(){this.rd=!0;window.setTimeout(function(){this.rd=!1}.bind(this),250)}.bind(this),J=function(){this.sd=!0;window.setTimeout(function(){this.sd=!1}.bind(this),250)}.bind(this),L=function(){this.ud=!0;this.r();d.width=window.content.innerWidth;
d.height=window.content.innerHeight;b&&"function"===typeof b.ua&&b.ua(d.width,d.height);c&&"function"===typeof c.ua&&c.ua(d.width,d.height);try{"open"===TiltChrome.BrowserOverlay.F.q.state&&TiltChrome.BrowserOverlay.F.q.hidePopup(),"open"===TiltChrome.BrowserOverlay.H.q.state&&TiltChrome.BrowserOverlay.H.q.hidePopup()}catch(a){}}.bind(this),p=function(){window.setTimeout(function(){this.ud=!1}.bind(this),100);this.r();d.width=window.content.innerWidth;d.height=window.content.innerHeight;if(a.width!==
d.width||a.height!==d.height)a.width=d.width,a.height=d.height,d.u.viewport(0,0,a.width,a.height),t()}.bind(this),I=function(){"undefined"===typeof this.Se?this.Se=!0:window.setTimeout(function(){try{!u&&!y&&(this.bd(j),this.Ce())}catch(a){}}.bind(this),1E3)}.bind(this),K=function(){"function"===typeof c.ve&&c.ve();this.r()}.bind(this),z=function(){"function"===typeof c.ue&&c.ue();q.index=-1;TiltChrome.BrowserOverlay.fc();this.r()}.bind(this),F=function(){this.r()}.bind(this),W=function(){"function"===
typeof c.we&&c.we();q.index=-1;TiltChrome.BrowserOverlay.fc();this.r()}.bind(this);this.r=function(){x=!0};this.bd=function(a){this.Xe=a;y=x=!0};this.Ce=function(){u=x=!0};this.Of=function(a,b){V.qa.ag(g,a+V.qa.separator+b+".png");k.save(a,b)};this.xe=function(){this.r();for(var a=TiltChrome.Config.c.g,b=V.h.Q,c=V.h.Pa,d=Math.floor,g=k.ld,h=[],i=0,m=k.ca.L.length;i<m;i+=30){var l=g[d(i/30)],l=c((a[l.localName!=="head"&&l.localName!=="body"?l.localName:"head/body"]||a.other).fill),n=[b(l[0]*0.6,0,
1),b(l[1]*0.6,0,1),b(l[2]*0.6,0,1)],o=[b(l[0]*1,0,1),b(l[1]*1,0,1),b(l[2]*1,0,1)],l=n[0],p=n[1],n=n[2],q=o[0],r=o[1],o=o[2];h.unshift(0,0,0,0,0,0,0,0,0,0,0,0,l,p,n,l,p,n,q,r,o,q,r,o,q,r,o,q,r,o,l,p,n,l,p,n)}k.color=new V.W(h,3)};this.Nf=function(a,b){this.ye(a,b,{Xc:function(a){"open"===TiltChrome.BrowserOverlay.F.q.state&&TiltChrome.BrowserOverlay.F.q.hidePopup();var b=a[0].te,a=b.index,b=b.localName!=="head"&&b.localName!=="body"?b.localName:"head/body",c=TiltChrome.Config.c.g[b]||TiltChrome.Config.c.g.other;
if(b!=="html"){q.index=a;q.fill=c.fill+"66";var a=q.index*30,b=k.O.L,c=k.ca.L,d=[b[c[a+1]*3],b[c[a+1]*3+1],b[c[a+1]*3+2],1],g=[b[c[a+2]*3],b[c[a+2]*3+1],b[c[a+2]*3+2],1],h=[b[c[a+5]*3],b[c[a+5]*3+1],b[c[a+5]*3+2],1];q.Kd=[b[c[a]*3],b[c[a]*3+1],b[c[a]*3+2],1];q.Ld=d;q.Md=g;q.Nd=h;this.r()}}.bind(this),Wa:function(){"open"===TiltChrome.BrowserOverlay.F.q.state&&TiltChrome.BrowserOverlay.F.q.hidePopup();q.index=-1}})};this.Mf=function(a,b){this.ye(a,b,{Xc:function(a){this.Xa(a[0].te)}.bind(this),Wa:function(){"open"===
TiltChrome.BrowserOverlay.F.q.state?TiltChrome.BrowserOverlay.F.q.hidePopup():"open"===TiltChrome.BrowserOverlay.H.q.state&&TiltChrome.BrowserOverlay.H.q.hidePopup()}})};this.ye=function(a,b,c){for(var c=c||{},a=V.h.kf([a,b,0],[a,b,1],[0,0,d.width,d.height],k.K,k.ea),b=[],g=Z(),h=k.ca.L,i=k.O.L,l=0,m=h.length,n,o,p;l<m;l+=3)n=[i[h[l]*3],i[h[l]*3+1],i[h[l]*3+2]],o=[i[h[l+1]*3],i[h[l+1]*3+1],i[h[l+1]*3+2]],p=[i[h[l+2]*3],i[h[l+2]*3+1],i[h[l+2]*3+2]],V.h.Ef(n,o,p,a,g)>0&&b.push({te:k.ld[Math.floor(l/
30)],location:Z(g)});b.length>0?(b.sort(function(a,b){return a.location[2]<b.location[2]?1:-1}),"function"===typeof c.Xc&&c.Xc(b)):"function"===typeof c.Wa&&c.Wa();this.r()};this.Xa=function(a){if("number"===typeof a){for(var b=k.ld,c=k.yf,d=0,g=b.length;d<g;d++){var h=b[d];if(a===h.Eb){this.Xa(h);return}}b=0;for(d=c.length;b<d;b++)if(g=c[b],a===g.Eb){this.Xa(g);break}}else if("object"===typeof a){var c=TiltChrome.BrowserOverlay.F.q,b=V.Xd.trim(ta(a.innerHTML))+"\n",d=V.I.tf(a.style),g=V.I.rf(a.attributes),
h=document.getElementById("tilt-sourceeditor-iframe"),i=h.contentDocument.getElementById("code");document.getElementById("tilt-sourceeditor-title").value="<"+a.localName+(a.className?' class="'+a.className+'"':"")+(a.id?' id="'+a.id+'"':"")+">";c.openPopup(j,"overlap",window.innerWidth-h.width-21,window.innerHeight-h.height-77,!1,!1);i.fe=b;i.ce=d;i.Zd=g;i.bb=TiltChrome.Config.Visualization.sourceEditorTheme;a.localName==="img"||a.localName==="input"||a.localName==="button"||i.Zb==="attr"?h.contentWindow.refreshCodeEditor("css",
i.Zd,i.bb):i.Zb==="css"?h.contentWindow.refreshCodeEditor("css",i.ce,i.bb):h.contentWindow.refreshCodeEditor("html",i.fe,i.bb);c=a.index;a=a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body";b=TiltChrome.Config.c.g[a]||TiltChrome.Config.c.g.other;if(a!=="html")q.index=c,q.fill=b.fill+"66",a=q.index*30,c=k.O.L,b=k.ca.L,d=[c[b[a+1]*3],c[b[a+1]*3+1],c[b[a+1]*3+2],1],g=[c[b[a+2]*3],c[b[a+2]*3+1],c[b[a+2]*3+2],1],h=[c[b[a+5]*3],c[b[a+5]*3+1],c[b[a+5]*3+2],1],q.Kd=[c[b[a]*3],c[b[a]*3+1],
c[b[a]*3+2],1],q.Ld=d,q.Md=g,q.Nd=h,this.r()}};this.Ee=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.Zb="html";a.contentWindow.refreshCodeEditor("html",b.fe,b.bb)};this.bg=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.Zb="css";a.contentWindow.refreshCodeEditor("css",b.ce,b.bb)};this.hc=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");
b.Zb="attr";a.contentWindow.refreshCodeEditor("css",b.Zd,b.bb)};this.gg=function(a){var b=a[1],c=a[2];if(l.ha[0]!=a[0]||l.ha[1]!=b||l.ha[2]!=c)ya(a,l.ha),this.r()};this.eg=function(a){var b=a[1],c=a[2],d=a[3];if(l.rotation[0]!=a[0]||l.rotation[1]!=b||l.rotation[2]!=c||l.rotation[3]!=d)pa(a,l.rotation),this.r()};this.Fe=function(a){m.color=a;this.r()};this.eh=function(a){m.color[3]=a;this.r()};this.cg=function(a){k.na=a;this.r()};this.dh=function(a){k.na[3]=a;this.r()};this.dg=function(a){k.alpha=
a;this.r()};this.d=function(){var s=gBrowser.tabContainer,P=gBrowser.contentWindow,Q=TiltChrome.BrowserOverlay.F.q,Y=TiltChrome.BrowserOverlay.H.q;o!==j&&(window.removeEventListener("MozAfterPaint",o,!1),o=j);D!==j&&(window.removeEventListener("devicemotion",D,!1),D=j);E!==j&&(s.removeEventListener("TabClose",E,!1),s.removeEventListener("TabAttrModified",E,!1),E=j);H!==j&&(P.removeEventListener("blur",H,!1),H=j);J!==j&&(P.removeEventListener("focus",J,!1),J=j);L!==j&&(P.removeEventListener("resize",
L,!1),L=j);p!==j&&(gBrowser.removeEventListener("mouseover",p,!1),p=j);I!==j&&(gBrowser.removeEventListener("load",I,!0),I=j);K!==j&&(Q.removeEventListener("popupshown",K,!1),K=j);z!==j&&(Q.removeEventListener("popuphidden",z,!1),z=j);F!==j&&(Y.removeEventListener("popupshown",F,!1),F=j);W!==j&&(Y.removeEventListener("popuphidden",W,!1),W=j);b&&"function"===typeof b.d&&(b.d(a),b=j);c&&"function"===typeof c.d&&(c.d(a),c=j);h!==j&&(h.d(),h=j);k!==j&&(k.d(),k=j);m!==j&&(m.d(),m=j);n!==j&&(n.d(),n=j);
q!==j&&(V.A(q),q=j);l!==j&&(V.A(l),l=j);d!==j&&(d.d(),d=j);C=A=r=v=w=t=B=u=y=x=l=q=n=m=k=i=h=g=c=b=a=j;V.A(this)};V.n.o("TiltChrome.Visualization",this);B.call(this);t.call(this)};TiltChrome=TiltChrome||{};TiltChrome.ba={};
TiltChrome.ba.Visualization={Gb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nattribute vec3 vertexColor;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n  color = vertexColor;\n}",wb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 tint;\nuniform float alpha;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  if (texCoord.x < 0.0) {\n    gl_FragColor = vec4(color.r, color.g, color.b, tint.a);\n  }\n  else {\n    vec3 texture = texture2D(sampler, texCoord).rgb;\n    gl_FragColor = tint * alpha * vec4(texture, 1.0) + tint * (1.0 - alpha);\n  }\n}"};
